# 12.首页数据展示-柱状图



​	数据可视化--图表的引用



​	数据可视化我们就会使用到ECharts图表库--百度提供的

![1641286428760](../../../../.vuepress/public/images/1641286428760.png)



先试试找个图表

![1641286600895](../../../../.vuepress/public/images/1641286600895.png)



需要安装一下ECharts

![1641286692790](../../../../.vuepress/public/images/1641286692790.png)





引入ECharts

![1641286734747](../../../../.vuepress/public/images/1641286734747.png)



图表要放入的位置 id = main

![1641286919998](../../../../.vuepress/public/images/1641286919998.png)



配置图表的数据：

![1641286962966](../../../../.vuepress/public/images/1641286962966.png)

页面查看效果：

![1641286840986](../../../../.vuepress/public/images/1641286840986.png)







我们感觉这个id的用法有点不方便--改为ref的

![1641348844812](../../../../.vuepress/public/images/1641348844812.png)



![1641348896387](../../../../.vuepress/public/images/1641348896387.png)



使用为ref的方式

![1641348926724](../../../../.vuepress/public/images/1641348926724.png)



针对数据的处理---lodash

![1641349446541](../../../../.vuepress/public/images/1641349446541.png)



使用_groupBy 第一个参数是全部数据，第二个参数是分组字段，我们以分类的title分组

![1641350543133](../../../../.vuepress/public/images/1641350543133.png)



我们将初始化封装到一个函数中，因为我们需要请求完成后再初始化

![1641350770354](../../../../.vuepress/public/images/1641350770354.png)



通过对象.key获取到全部分组的key

​		y轴：将对象里面的value映射到map使用map的长度

![1641350986506](../../../../.vuepress/public/images/1641350986506.png)



页面查看效果

![1641351212210](../../../../.vuepress/public/images/1641351212210.png)





将图表改为响应式的----布标随浏览器的大小改变

 	

### 2、ECharts优化处理



问题1：小数的问题

![1641362308750](../../../../.vuepress/public/images/1641362308750.png)



我们去文档中找一下如何设置

![1641362406444](../../../../.vuepress/public/images/1641362406444.png)



我们加入最小间隔是1

![1641362435957](../../../../.vuepress/public/images/1641362435957.png)



没有问题了

![1641362471723](../../../../.vuepress/public/images/1641362471723.png)





当页面比较窄的时候显示不全的问题

![1641362592813](../../../../.vuepress/public/images/1641362592813.png)



我们的思路就是让他旋转一下

在文档中的x轴下的axislable下的roater使用这个属性控制

![1641362729303](../../../../.vuepress/public/images/1641362729303.png)



代码编辑：

![1641362817182](../../../../.vuepress/public/images/1641362817182.png)



查看效果：x轴的汉子都改变为45度  纵向了

![1641362864486](../../../../.vuepress/public/images/1641362864486.png)









将图表设置为响应式的：使用resize方法

![1641363208676](../../../../.vuepress/public/images/1641363208676.png)



在组件销毁的时候，将resize设置为空，否则在其他页面也一直执行这个resize

![1641363296723](../../../../.vuepress/public/images/1641363296723.png)

















































