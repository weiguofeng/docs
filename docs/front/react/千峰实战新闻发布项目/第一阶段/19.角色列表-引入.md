# 19.角色列表-引入





#### 1、页面结构初始化

我们先把这个结构搞定

​		需要Table组件--然后需要useState用于结构数据，useEffect用于发起请求

![1638963148994](../../../../.vuepress/public/images/1638963148994.png)



然后引入axios去后端请求数据：

我们先查看一下后台接口数据的结构：

![1638963386340](../../../../.vuepress/public/images/1638963386340.png)



然后配置请求--

![1638963725721](../../../../.vuepress/public/images/1638963725721.png)



目前数据是拿到了--接下来就是将数据展示在页面中的时候了

![1638963793182](../../../../.vuepress/public/images/1638963793182.png)



#### 2、设置页面数据



设置dataSource

![1638963876710](../../../../.vuepress/public/images/1638963876710.png)



设置columns表格的列

![1638963974167](../../../../.vuepress/public/images/1638963974167.png)



页面查看一下效果：没问题id列可以展示

![1638964019125](../../../../.vuepress/public/images/1638964019125.png)



但是现在有个报错：list中每一个child应该有唯一的key

​		之前使用没有问题是因为之前后端有返回一个唯一的key

![1638964093238](../../../../.vuepress/public/images/1638964093238.png)



我们可以在Table中指定一个key，就是你别找这个key了我给你指定一个，如果Table中不写这个rowKey默认是从后端去取key字段，如果指定就是使用指定的

![1638964500612](../../../../.vuepress/public/images/1638964500612.png)



查看页面效果：不会发生这个错误了

![1638964530524](../../../../.vuepress/public/images/1638964530524.png)



然后在columns中把其他的列也放入一下

![1638964727285](../../../../.vuepress/public/images/1638964727285.png)





查看页面效果：

![1638964801666](../../../../.vuepress/public/images/1638964801666.png)





#### 3、设置操作按钮功能

​	删除按钮操作其实和权限控制的使用方式是一样的，修改一下逻辑和接口地址就ok了

![1638965015644](../../../../.vuepress/public/images/1638965015644.png)



页面查看效果：

![1638965085236](../../../../.vuepress/public/images/1638965085236.png)

























































































































































