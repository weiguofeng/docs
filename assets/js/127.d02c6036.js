(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{3384:function(t,s,a){t.exports=a.p+"assets/img/image-20220112000711886.f6e7f9c3.png"},3385:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001027917.1b4ff539.png"},3386:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001154218.64de122f.png"},3387:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001332635.ddb77382.png"},3388:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001445344.b64482b8.png"},3389:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001705671.f3d7d66e.png"},3390:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002010255.50739a66.png"},3391:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002235553.0c7dc4ed.png"},3392:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002504770.7d68967b.png"},3393:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002531849.4a7bcd44.png"},3394:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002640836.85b21819.png"},3395:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002653295.75080577.png"},3396:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002808987.0a4467d2.png"},3397:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002842014.12f0f430.png"},3398:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002946415.8fb02c47.png"},3399:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003111502.61588cf7.png"},3400:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003224422.42d95960.png"},3401:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003442162.9d4da09d.png"},3402:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003619077.ac5a094c.png"},8511:function(t,s,a){"use strict";a.r(s);var e=a(5),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_16-sonar-qube检测html代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-sonar-qube检测html代码"}},[t._v("#")]),t._v(" 16.sonar-qube检测html代码")]),t._v(" "),e("p",[t._v("​\t"),e("img",{attrs:{src:a(3384),alt:"image-20220112000711886"}})]),t._v(" "),e("p",[t._v("​\t那么安装sonar-scanner需要在哪里安装呢--需要在我们的jenkins服务端安装")]),t._v(" "),e("p",[t._v("我们把这个包推送到120这个jenkins服务器上")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3385),alt:"image-20220112001027917"}})]),t._v(" "),e("p",[t._v("​\t然后我们在jenkins服务器上解压缩到usr/local文件夹下")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3386),alt:"image-20220112001154218"}})]),t._v(" "),e("p",[t._v("​\t然后进入usr/local给他做个软连接--因为名字太长了")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3387),alt:"image-20220112001332635"}})]),t._v(" "),e("p",[t._v("​\t我们需要给sonar-scanner客户端工具指定sonar的服务端，设置配置文件")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3388),alt:"image-20220112001445344"}})]),t._v(" "),e("p",[t._v("​\t配置服务端地址--配置login的token--配置字符集utf8")]),t._v(" "),e("p",[t._v("​\t要使用这个token的话-服务端得开启token认证，默认sonar服务端是没有开启token认证的")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3389),alt:"image-20220112001705671"}})]),t._v(" "),e("p",[t._v("​\t我们登录sonar-在配置下的权限中开启token认证，如果不开启那么就是谁都可以使用扫描也是可以的")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3390),alt:"image-20220112002010255"}})]),t._v(" "),e("p",[t._v("我们开启一下扫描html--在sonar-scanner的绝对路径下执行命令")]),t._v(" "),e("p",[t._v("​\tprojectKey=html 是扫描html代码")]),t._v(" "),e("p",[t._v("​\tsources=.是扫描当前文件夹")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3391),alt:"image-20220112002235553"}})]),t._v(" "),e("p",[t._v("我们进入到jenkins的工作目录下的monitor项目下")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3392),alt:"image-20220112002504770"}})]),t._v(" "),e("p",[t._v("执行命令")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3393),alt:"image-20220112002531849"}})]),t._v(" "),e("p",[t._v("报错了--让在命令中加一个 -X进入调试模式")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3394),alt:"image-20220112002640836"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(3395),alt:"image-20220112002653295"}})]),t._v(" "),e("p",[t._v("我们看到这个sonar的服务地址找不到--原因是host没有设置域名解析")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3396),alt:"image-20220112002808987"}})]),t._v(" "),e("p",[t._v("​\t设置映射域名")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3397),alt:"image-20220112002842014"}})]),t._v(" "),e("p",[t._v("​\t再次执行扫描：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3398),alt:"image-20220112002946415"}})]),t._v(" "),e("p",[t._v("​\t扫描完成--成功执行完扫描")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3399),alt:"image-20220112003111502"}})]),t._v(" "),e("p",[t._v("可以看到扫描结果：")]),t._v(" "),e("p",[t._v("​\t464和bug，2个漏洞，172个坏味道-是不规范的代码，重复的代码24%")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3400),alt:"image-20220112003224422"}})]),t._v(" "),e("p",[t._v("​\t点击进入可以看到具体的问题")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3401),alt:"image-20220112003442162"}})]),t._v(" "),e("p",[t._v("​\t然后进入查看问题--里面会给出使用规范实例")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3402),alt:"image-20220112003619077"}})])])}),[],!1,null,null,null);s.default=i.exports}}]);