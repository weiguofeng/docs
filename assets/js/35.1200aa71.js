(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{2441:function(t,s,p){t.exports=p.p+"assets/img/1638965200873.c1630509.png"},2442:function(t,s,p){t.exports=p.p+"assets/img/1638965387343.d2693925.png"},2443:function(t,s,p){t.exports=p.p+"assets/img/1638966248104.d4b02676.png"},2444:function(t,s,p){t.exports=p.p+"assets/img/1638966295447.47565df1.png"},2445:function(t,s,p){t.exports=p.p+"assets/img/1638966627457.00dc2184.png"},2446:function(t,s,p){t.exports=p.p+"assets/img/1638966685411.e0477b0f.png"},2447:function(t,s,p){t.exports=p.p+"assets/img/1638966746181.18a35a8a.png"},2448:function(t,s,p){t.exports=p.p+"assets/img/1638966941777.5d16ecbd.png"},2449:function(t,s,p){t.exports=p.p+"assets/img/1638967201543.63eec755.png"},2450:function(t,s,p){t.exports=p.p+"assets/img/1638967314510.4bbfd63e.png"},2451:function(t,s,p){t.exports=p.p+"assets/img/1638967451262.382d6546.png"},2452:function(t,s,p){t.exports=p.p+"assets/img/1638967479744.5f2c4008.png"},2453:function(t,s,p){t.exports=p.p+"assets/img/1638967748402.9e90366c.png"},2454:function(t,s,p){t.exports=p.p+"assets/img/1638967839819.0bcb82c5.png"},2455:function(t,s,p){t.exports=p.p+"assets/img/1638967928055.c30cfa62.png"},2456:function(t,s,p){t.exports=p.p+"assets/img/1638968036138.693a802a.png"},2457:function(t,s,p){t.exports=p.p+"assets/img/1638968136774.34dc28c0.png"},2458:function(t,s,p){t.exports=p.p+"assets/img/1638968197386.12f4ed62.png"},2459:function(t,s,p){t.exports=p.p+"assets/img/1638968257670.61a93520.png"},2460:function(t,s,p){t.exports=p.p+"assets/img/1638968446227.72c80796.png"},2461:function(t,s,p){t.exports=p.p+"assets/img/1638968477045.8e93678b.png"},2462:function(t,s,p){t.exports=p.p+"assets/img/1638968566899.0bc7e999.png"},2463:function(t,s,p){t.exports=p.p+"assets/img/1638968731290.57edac1c.png"},2464:function(t,s,p){t.exports=p.p+"assets/img/1638968778966.2fa752af.png"},2465:function(t,s,p){t.exports=p.p+"assets/img/1638968840461.0034bb64.png"},2466:function(t,s,p){t.exports=p.p+"assets/img/1638968959027.77038880.png"},2467:function(t,s,p){t.exports=p.p+"assets/img/1638969110833.3ef339ab.png"},2468:function(t,s,p){t.exports=p.p+"assets/img/1638969178452.4212d49c.png"},2469:function(t,s,p){t.exports=p.p+"assets/img/1638969416807.a9b11da7.png"},2470:function(t,s,p){t.exports=p.p+"assets/img/1638969464489.a73d53b7.png"},2471:function(t,s,p){t.exports=p.p+"assets/img/1638969577287.47a5d722.png"},2472:function(t,s,p){t.exports=p.p+"assets/img/1638969710319.5607aabc.png"},9010:function(t,s,p){"use strict";p.r(s);var a=p(5),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_20-角色列表-树形控件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-角色列表-树形控件"}},[t._v("#")]),t._v(" 20.角色列表-树形控件")]),t._v(" "),a("p",[t._v("目前我们已经table和删除功能已经完善了")]),t._v(" "),a("p",[t._v("​\t\t现在是需要--点击编辑按钮后弹出当前角色拥有的权限")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2441),alt:"1638965200873"}})]),t._v(" "),a("p",[t._v("我们目标原型的样子是这样的：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2442),alt:"1638965387343"}})]),t._v(" "),a("p",[t._v("首先我们需要一个树形结构的组件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2443),alt:"1638966248104"}})]),t._v(" "),a("p",[t._v("我们需要的就是这样的树形结构--然后把他放在一个弹出的motal框中")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2444),alt:"1638966295447"}})]),t._v(" "),a("p",[t._v("代码实现：")]),t._v(" "),a("p",[t._v("先写一下modal")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2445),alt:"1638966627457"}})]),t._v(" "),a("p",[t._v("现在弹出框没问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2446),alt:"1638966685411"}})]),t._v(" "),a("p",[t._v("点击取消和叉号，需要关闭modal框，然后我们设置一下值")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2447),alt:"1638966746181"}})]),t._v(" "),a("h4",{attrs:{id:"_2、使用树形结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用树形结构"}},[t._v("#")]),t._v(" 2、使用树形结构")]),t._v(" "),a("p",[t._v("​\t\t树形结构需要我们传入Tree这个组件 至少要有一个treeData属性数据")]),t._v(" "),a("p",[t._v("treeData要符合一个这样的格式")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2448),alt:"1638966941777"}})]),t._v(" "),a("p",[t._v("然后我们查看一下接口的数据--是符合这个数据结构标准的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2449),alt:"1638967201543"}})]),t._v(" "),a("p",[t._v("请求后台数据：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2450),alt:"1638967314510"}})]),t._v(" "),a("p",[t._v("然后我们给Tree组件设置数据")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2451),alt:"1638967451262"}})]),t._v(" "),a("p",[t._v("页面查看效果：成功了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2452),alt:"1638967479744"}})]),t._v(" "),a("p",[t._v("我们现在测试默认选中属性defaultCheckedKeys")]),t._v(" "),a("p",[t._v("​\t\tdataSource[0]是所有的权限，取的第0个角色的right的属性")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2453),alt:"1638967748402"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(2454),alt:"1638967839819"}})]),t._v(" "),a("p",[t._v("查看效果：选中没有问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2455),alt:"1638967928055"}})]),t._v(" "),a("p",[t._v("我们需要在点击编辑按钮的时候 传入一个值-用来标识我们点击的是那个，然后弹出框显示的内容是属于哪个的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2456),alt:"1638968036138"}})]),t._v(" "),a("p",[t._v("先定义一下当前项的Right")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2457),alt:"1638968136774"}})]),t._v(" "),a("p",[t._v("设置值：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2458),alt:"1638968197386"}})]),t._v(" "),a("p",[t._v("现在我们不需要写死了，我们动态获取到然后测试")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2459),alt:"1638968257670"}})]),t._v(" "),a("p",[t._v("有个问题就是只有第一次是生效的----原因是"),a("strong",[t._v("非受控组件")]),t._v(" 使用非受控组件后续值的变化就不改变渲染页面了")]),t._v(" "),a("p",[t._v("我们改为受控组件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2460),alt:"1638968446227"}})]),t._v(" "),a("p",[t._v("页面效果：好使了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2461),alt:"1638968477045"}})]),t._v(" "),a("h4",{attrs:{id:"_3、编辑属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、编辑属性"}},[t._v("#")]),t._v(" 3、编辑属性")]),t._v(" "),a("p",[t._v("​\t现在我们想点击按钮添加或者删除属性，按钮点击无效的--原因是他是受控组件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2462),alt:"1638968566899"}})]),t._v(" "),a("p",[t._v("我们想要实现这个功能--就需要一个点击可以触发的事件-然后通过这个事件去修改值进行勾选状态的覆盖")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2463),alt:"1638968731290"}})]),t._v(" "),a("p",[t._v("使用onCheck属性")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2464),alt:"1638968778966"}})]),t._v(" "),a("p",[t._v("定义一个onCheck函数--我们打印一下看一下获取到点击的数据是什么")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2465),alt:"1638968840461"}})]),t._v(" "),a("p",[t._v("在我们点击取消勾拳的按钮-不断点击各个发现数据是会变少的")]),t._v(" "),a("p",[t._v("​\t\t而且你点击取消后--返回的是新的剩余的数据，点击取消勾选的哪项是没有的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2466),alt:"1638968959027"}})]),t._v(" "),a("p",[t._v("其实利用这个新的数据再给当前展示的树结构进行赋值然后渲染")]),t._v(" "),a("p",[t._v("​\t\t因为是受控组件，得到新的值就会重新渲染")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2467),alt:"1638969110833"}})]),t._v(" "),a("p",[t._v("现在我们点击勾选框，好使了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2468),alt:"1638969178452"}})]),t._v(" "),a("p",[t._v("现在有个问题就是可能我们子项中有三项--其中2项数据应该是勾选的，但是显示默认勾选是三项，这就是有问题的")]),t._v(" "),a("p",[t._v("这个问题的解决办法是使用checkstrictly这个属性处理--设置为true后就父子节点选中状态不再关联")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2469),alt:"1638969416807"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(2470),alt:"1638969464489"}})]),t._v(" "),a("p",[t._v("页面查看效果： 审核新闻这项并没有勾选，说明和后端返回数据显示一致，这就说明父子按钮已经不再关联 了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2471),alt:"1638969577287"}})]),t._v(" "),a("p",[t._v("当然不关联有个弊端就是你全部选中或者全部取消，父节点是不会关联选中和取消选中的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2472),alt:"1638969710319"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);