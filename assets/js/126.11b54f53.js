(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{2359:function(t,s,p){t.exports=p.p+"assets/img/1641363600641.59f69d08.png"},2360:function(t,s,p){t.exports=p.p+"assets/img/1641363618953.047ddae3.png"},2361:function(t,s,p){t.exports=p.p+"assets/img/1641363690014.3bc0f9ef.png"},2362:function(t,s,p){t.exports=p.p+"assets/img/1641363776324.dea9f88d.png"},2363:function(t,s,p){t.exports=p.p+"assets/img/1641363968918.581f8af7.png"},2364:function(t,s,p){t.exports=p.p+"assets/img/1641364042085.2008d3ae.png"},2365:function(t,s,p){t.exports=p.p+"assets/img/1641364100572.7c9a64c2.png"},2366:function(t,s,p){t.exports=p.p+"assets/img/1641364352850.4942339a.png"},2367:function(t,s,p){t.exports=p.p+"assets/img/1641364398663.b9c6c4e1.png"},2368:function(t,s,p){t.exports=p.p+"assets/img/1641364469242.7d73cc83.png"},2369:function(t,s,p){t.exports=p.p+"assets/img/1641364591770.9a108d87.png"},2370:function(t,s,p){t.exports=p.p+"assets/img/1641364766488.02a2ef9c.png"},2371:function(t,s,p){t.exports=p.p+"assets/img/1641364927926.292a8df1.png"},2372:function(t,s,p){t.exports=p.p+"assets/img/1641365143497.07531a4a.png"},2373:function(t,s,p){t.exports=p.p+"assets/img/1641365926750.35444558.png"},2374:function(t,s,p){t.exports=p.p+"assets/img/1641366008429.4b5a0454.png"},2375:function(t,s,p){t.exports=p.p+"assets/img/1641366214149.85d59065.png"},2376:function(t,s,p){t.exports=p.p+"assets/img/1641366432080.b159adc7.png"},2377:function(t,s,p){t.exports=p.p+"assets/img/1641366566635.f4e7c2a6.png"},8426:function(t,s,p){"use strict";p.r(s);var a=p(5),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_13-首页数据展示-饼状图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-首页数据展示-饼状图"}},[t._v("#")]),t._v(" 13.首页数据展示-饼状图")]),t._v(" "),a("p",[t._v("我们的目标需求是，在点击第三card的配置按钮时候，从右侧弹出一个饼状图")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2359),alt:"1641363600641"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(2360),alt:"1641363618953"}})]),t._v(" "),a("p",[t._v("​\t实现这个功能就会用到一个抽屉组件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2361),alt:"1641363690014"}})]),t._v(" "),a("p",[t._v("closable是--是否允许点击关闭，onClose--关闭，visible--是否显示")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2362),alt:"1641363776324"}})]),t._v(" "),a("p",[t._v("配置参数：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2363),alt:"1641363968918"}})]),t._v(" "),a("p",[t._v("给按钮添加事件处理触发抽屉弹出：按钮中将显示状态设置为true")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2364),alt:"1641364042085"}})]),t._v(" "),a("p",[t._v("查看一下效果：没有问题可以显示")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2365),alt:"1641364100572"}})]),t._v(" "),a("p",[t._v("然后我们到ECharts示例中找一个饼状图的示例来使用")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2366),alt:"1641364352850"}})]),t._v(" "),a("p",[t._v("拷贝完整代码--")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2367),alt:"1641364398663"}})]),t._v(" "),a("p",[t._v("然后放到renderPieView函数中")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2368),alt:"1641364469242"}})]),t._v(" "),a("p",[t._v("点击完按钮--进行显示抽屉组件和进行初始化饼状图")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2369),alt:"1641364591770"}})]),t._v(" "),a("p",[t._v("以上会发生错误，在dom还没有完全创建完毕，就进行render导致的错误，因为他们是异步的")]),t._v(" "),a("p",[t._v("将他们放在一个setTimeout异步中，然后内部的方法变为同步")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2370),alt:"1641364766488"}})]),t._v(" "),a("p",[t._v("点击按钮查看效果：没有问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2371),alt:"1641364927926"}})]),t._v(" "),a("p",[t._v("我们设置一下每次点击都初始化一次其实是不需要的，我们判断处理一下")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2372),alt:"1641365143497"}})]),t._v(" "),a("p",[t._v("因为我们之前就把所有的数据都取回来了--所以现在我们需要将数据过滤一下，过滤出登录用户的数据，然后进行展示就可以了")]),t._v(" "),a("p",[t._v("我们将获取回来的全部数据保存到allList中")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2373),alt:"1641365926750"}})]),t._v(" "),a("p",[t._v("在pieView中处理过滤数据--过滤出为当前登录用户的数据")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2374),alt:"1641366008429"}})]),t._v(" "),a("p",[t._v("使用lodash 对数据进行分组：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2375),alt:"1641366214149"}})]),t._v(" "),a("p",[t._v("还需要转换一下--转换为一个 key，value结构的集合")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2376),alt:"1641366432080"}})]),t._v(" "),a("p",[t._v("然后查看页面效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2377),alt:"1641366566635"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);