(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{6619:function(t,s,p){t.exports=p.p+"assets/img/1650784539655.302d03a4.png"},6620:function(t,s,p){t.exports=p.p+"assets/img/1650784688052.48ad2fae.png"},6621:function(t,s,p){t.exports=p.p+"assets/img/1650784740102.ebc80892.png"},6622:function(t,s,p){t.exports=p.p+"assets/img/1650784798793.ea80f28a.png"},6623:function(t,s,p){t.exports=p.p+"assets/img/1650784819193.bf3b6a1f.png"},6624:function(t,s,p){t.exports=p.p+"assets/img/1650784979944.24857f1b.png"},6625:function(t,s,p){t.exports=p.p+"assets/img/1650785042628.bf591069.png"},6626:function(t,s,p){t.exports=p.p+"assets/img/1650785104947.40f3ad70.png"},6627:function(t,s,p){t.exports=p.p+"assets/img/1650785212182.b46d4355.png"},6628:function(t,s,p){t.exports=p.p+"assets/img/1650785448599.dfbfada3.png"},6629:function(t,s,p){t.exports=p.p+"assets/img/1650785597518.1bbe4951.png"},6630:function(t,s,p){t.exports=p.p+"assets/img/1650785628316.a2a55f6f.png"},6631:function(t,s,p){t.exports=p.p+"assets/img/1650785698060.73feb274.png"},6632:function(t,s,p){t.exports=p.p+"assets/img/1650785865514.f7d9d106.png"},6633:function(t,s,p){t.exports=p.p+"assets/img/1650788060794.839de4ee.png"},6634:function(t,s,p){t.exports=p.p+"assets/img/1650788169151.72284e85.png"},6635:function(t,s,p){t.exports=p.p+"assets/img/1650788199513.1d137744.png"},6636:function(t,s,p){t.exports=p.p+"assets/img/1650788453931.d38967fd.png"},6637:function(t,s,p){t.exports=p.p+"assets/img/1650788593248.a4cecd63.png"},6638:function(t,s,p){t.exports=p.p+"assets/img/1650788966363.6fe3ff7f.png"},6639:function(t,s,p){t.exports=p.p+"assets/img/1650789121121.e5542c4c.png"},6640:function(t,s,p){t.exports=p.p+"assets/img/1650789193305.936f0920.png"},6641:function(t,s,p){t.exports=p.p+"assets/img/1650789277037.b74fa1b4.png"},6642:function(t,s,p){t.exports=p.p+"assets/img/1650789308087.709b7755.png"},6643:function(t,s,p){t.exports=p.p+"assets/img/1650790008215.3301f83b.png"},6644:function(t,s,p){t.exports=p.p+"assets/img/1650790047064.5dfa9507.png"},6645:function(t,s,p){t.exports=p.p+"assets/img/1650790221633.90a1cdca.png"},6646:function(t,s,p){t.exports=p.p+"assets/img/1650790364119.b7794067.png"},8887:function(t,s,p){"use strict";p.r(s);var n=p(5),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_20-k8s核心实战-可视化操作与pod细节"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_20-k8s核心实战-可视化操作与pod细节"}},[t._v("#")]),t._v(" 20.k8s核心实战-可视化操作与pod细节")]),t._v(" "),n("p",[t._v("​\t我们在dashboard可视化web界面也是可以创建pod的")]),t._v(" "),n("p",[t._v("​")]),t._v(" "),n("p",[t._v("​\t+号，创建新的资源")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6619),alt:"1650784539655"}})]),t._v(" "),n("p",[t._v("然后我们可以看到有"),n("strong",[t._v("输入并创建")]),t._v("，"),n("strong",[t._v("从文件创建")]),t._v("，"),n("strong",[t._v("从表单创建")])]),t._v(" "),n("p",[t._v("​\t输入并创建，我们可以输入配置文件信息，直接创建上传")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6620),alt:"1650784688052"}})]),t._v(" "),n("p",[t._v("表单创建：这个创建的不是pod")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6621),alt:"1650784740102"}})]),t._v(" "),n("p",[t._v("我们测试一下创建pod：")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6622),alt:"1650784798793"}})]),t._v(" "),n("p",[t._v("提示：部署失败，服务器不支持以此方式创建资源，为什么呢？")]),t._v(" "),n("p",[t._v("​\t\t因为我们创建的pod，他一定在某个名称空间内")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6623),alt:"1650784819193"}})]),t._v(" "),n("p",[t._v("​\t第一种办法就是我们切换到pod准备创建的名称空间下，如default默认名称空间")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6624),alt:"1650784979944"}})]),t._v(" "),n("p",[t._v("第二种就是，我们在配置文件中指定名称空间 这样也是可以的")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6625),alt:"1650785042628"}})]),t._v(" "),n("p",[t._v("​\t我们使用第一种切换到我们使用的名称空间试试：")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6626),alt:"1650785104947"}})]),t._v(" "),n("p",[t._v("这次创建成功了，还有就是凡事带N的标识都是和名称空间相关的，下图我们可以理解带有N的都是default名称空间下的内容资源")]),t._v(" "),n("p",[t._v("​\t\t没有加N的就是我们整个集群可用的就和名称空间没有关系了")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6627),alt:"1650785212182"}})]),t._v(" "),n("p",[t._v("我们点击Pods可以查看里面的pod和运行状态")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6628),alt:"1650785448599"}})]),t._v(" "),n("p",[t._v("我们还可以点击pod名称，键入到详情然后查看详细情况")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6629),alt:"1650785597518"}})]),t._v(" "),n("p",[t._v("运行正常就是绿色的了--状态Running")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6630),alt:"1650785628316"}})]),t._v(" "),n("p",[t._v("也可以对这个进行操作编辑或删除")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6631),alt:"1650785698060"}})]),t._v(" "),n("p",[t._v("包括我们还可以看他的运行日志，就和docker一样 以前是实验docker logs查看日志，k8s也一样使用kubectl logs  PodName")]),t._v(" "),n("p",[t._v("​\t例如查看我们刚刚创建的pod mynginx的日志")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6632),alt:"1650785865514"}})]),t._v(" "),n("p",[t._v("包括和docker一样实时查看日志的话就是kubectl logs -f  mynginx")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6633),alt:"1650788060794"}})]),t._v(" "),n("p",[t._v("如果在我们的可视化界面那就更方便了--直接点击日志就可以了")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6634),alt:"1650788169151"}})]),t._v(" "),n("p",[n("img",{attrs:{src:p(6635),alt:"1650788199513"}})]),t._v(" "),n("p",[t._v("​\t\t以前我们使用docker部署的nginx，我们进去修改他的首页还可以访问，那我们现在不是docker部署的nginx容器，是k8s部署的pod，我们能不能访问呢？也是可以的")]),t._v(" "),n("p",[t._v("​\t我们使用kubectl get pod -owide 这个-owide是打印更详细的信息")]),t._v(" "),n("p",[t._v("​\t他会有一个IP地址，而且是在k8s-node2节点运行的")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6636),alt:"1650788453931"}})]),t._v(" "),n("p",[t._v("我们知道nginx是80端口，我们可以使用curl 访问一下，可以看到nginx的首页内容了")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6637),alt:"1650788593248"}})]),t._v(" "),n("p",[t._v("​\t每个pod在k8s中都会给分配一个IP，这样保证了我们集群中所有的应用都可以使用ip访问的到")]),t._v(" "),n("p",[t._v("我们以前使用dicker部署的应用，如果我们想修改nginx的页面，我们可以进入到nginx容器里面去修改docker exec -it")]),t._v(" "),n("p",[t._v("​\tk8s想进入容器的话使用："),n("code",[t._v("kubectl exec -it pod名称 --bin/bash")])]),t._v(" "),n("p",[t._v("​\t然后我们可以看到现在是在root@mynginx：/  我们相当于已经进入mynginx里面了")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6638),alt:"1650788966363"}})]),t._v(" "),n("p",[t._v("例如我们修改：输出一个1111到首页的内容中")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6639),alt:"1650789121121"}})]),t._v(" "),n("p",[t._v("而且k8s部署的集群应用在任何集群节点中都是可以访问的")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6640),alt:"1650789193305"}})]),t._v(" "),n("p",[t._v("​\t而我们现在有另外一种更方便的方式，在我们的可视化界面中，有个执行按钮")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6641),alt:"1650789277037"}})]),t._v(" "),n("p",[t._v("还是进入了容器的控制台")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6642),alt:"1650789308087"}})]),t._v(" "),n("p",[t._v("例如：我们修改一下首页面为2222")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6643),alt:"1650790008215"}})]),t._v(" "),n("p",[t._v("现在就变为2222了")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6644),alt:"1650790047064"}})]),t._v(" "),n("p",[t._v("​\t为什么k8s给我们每一个部署的应用都叫pod，为什么k8s给我们分配的IP地址192.168***")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6645),alt:"1650790221633"}})]),t._v(" "),n("p",[t._v("我们回到在我们安装k8s的时候，引导master节点初始化的时候，我们设置了--pod-network-cidr=192.168.0.0/16，其实这个就是pod的网络范围域")]),t._v(" "),n("p",[n("img",{attrs:{src:p(6646),alt:"1650790364119"}})]),t._v(" "),n("p",[t._v("​\t这个ip分配后，在集群的任意一台机器，任意一个应用都可以访问的到任意的pod")]),t._v(" "),n("p",[t._v("​\t"),n("strong",[t._v("但是注意：只是可以在集群内访问，在集群外就访问不到了")])]),t._v(" "),n("p",[t._v("比如我们使用外部浏览器访问一下：在集群机器外访问就需要暴露端口了，在k8s的对外暴露端口我们现在还没有学到")])])}),[],!1,null,null,null);s.default=a.exports}}]);