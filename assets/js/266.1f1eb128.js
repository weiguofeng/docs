(window.webpackJsonp=window.webpackJsonp||[]).push([[266],{2042:function(t,s,p){t.exports=p.p+"assets/img/1639019236928.82398153.png"},2043:function(t,s,p){t.exports=p.p+"assets/img/1639019420278.314c1940.png"},2044:function(t,s,p){t.exports=p.p+"assets/img/1639019536708.08b688df.png"},2045:function(t,s,p){t.exports=p.p+"assets/img/1639019636604.91e38e8b.png"},2046:function(t,s,p){t.exports=p.p+"assets/img/1639019830482.21b495a8.png"},2047:function(t,s,p){t.exports=p.p+"assets/img/1639019910689.a682f67e.png"},2048:function(t,s,p){t.exports=p.p+"assets/img/1639020001489.f86bcec2.png"},2049:function(t,s,p){t.exports=p.p+"assets/img/1639037675801.1940f120.png"},2050:function(t,s,p){t.exports=p.p+"assets/img/1639037729226.1c74d026.png"},2051:function(t,s,p){t.exports=p.p+"assets/img/1639037997724.fc39288b.png"},2052:function(t,s,p){t.exports=p.p+"assets/img/1639038600524.f64039a5.png"},8382:function(t,s,p){"use strict";p.r(s);var a=p(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_21-角色列表-权限分配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_21-角色列表-权限分配"}},[t._v("#")]),t._v(" 21.角色列表-权限分配")]),t._v(" "),a("p",[t._v("我们想在勾选权限之后--把数据从新setState后，同步后端")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2042),alt:"1639019236928"}})]),t._v(" "),a("p",[t._v("点击ok的时候--我们看一下这个值")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2043),alt:"1639019420278"}})]),t._v(" "),a("p",[t._v("发现数据有点不对--应该是使用checkKeys.checked")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2044),alt:"1639019536708"}})]),t._v(" "),a("p",[t._v("我们取消勾选后--然后获取到的值就是现在选中的值，取消勾选的被去掉了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2045),alt:"1639019636604"}})]),t._v(" "),a("p",[t._v("点击ok后先隐藏modal框")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2046),alt:"1639019830482"}})]),t._v(" "),a("p",[t._v("设置一下点击编辑按钮时的元素id变量--用于后续我们知道修改的是谁的权限--当前权限属于谁")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2047),alt:"1639019910689"}})]),t._v(" "),a("p",[t._v("在按钮上同步一下id的值")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2048),alt:"1639020001489"}})]),t._v(" "),a("p",[t._v("同步设置dataSource数据：")]),t._v(" "),a("p",[t._v("​\t\t我们循环dataSource然后根据元素的id进行判断--如果与点击的按钮一致，然后return 展开item，将当前currentRights权限赋值给rights")]),t._v(" "),a("p",[t._v("​\t\t如果是不相等的情况下-就原膜原样的返回item")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2049),alt:"1639037675801"}})]),t._v(" "),a("p",[t._v("页面效果：点击ok后可以选中和取消，重新点开后也生效了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2050),alt:"1639037729226"}})]),t._v(" "),a("p",[t._v("在我们刷新页面之后又被打回原形了，因为我们没有同步后台的数据")]),t._v(" "),a("p",[t._v("同步后端数据：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2051),alt:"1639037997724"}})]),t._v(" "),a("p",[t._v("现在就完全搞定了后端的数据也发生改变了")]),t._v(" "),a("p",[t._v("比如home权限被去掉了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2052),alt:"1639038600524"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);