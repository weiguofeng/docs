(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{5276:function(t,s,a){t.exports=a.p+"assets/img/image-20220407005921429.208be1d0.png"},5277:function(t,s,a){t.exports=a.p+"assets/img/image-20220407010103897.19f1eb6c.png"},5278:function(t,s,a){t.exports=a.p+"assets/img/image-20220407010340918.1670ad83.png"},5279:function(t,s,a){t.exports=a.p+"assets/img/image-20220407010647642.a92cacbf.png"},5280:function(t,s,a){t.exports=a.p+"assets/img/image-20220407010754444.3a07b2f5.png"},5281:function(t,s,a){t.exports=a.p+"assets/img/image-20220407011225014.4830b1c8.png"},5282:function(t,s,a){t.exports=a.p+"assets/img/image-20220407011332920.8f9612ad.png"},5283:function(t,s,a){t.exports=a.p+"assets/img/image-20220407012201844.a36bd0a2.png"},5284:function(t,s,a){t.exports=a.p+"assets/img/image-20220407012603565.2a136b09.png"},5285:function(t,s,a){t.exports=a.p+"assets/img/image-20220407012740226.9cde2f94.png"},5286:function(t,s,a){t.exports=a.p+"assets/img/image-20220407013239218.3cff3254.png"},5287:function(t,s,a){t.exports=a.p+"assets/img/image-20220407013407352.e7e40f37.png"},5288:function(t,s,a){t.exports=a.p+"assets/img/image-20220407014128584.7ccf892d.png"},5289:function(t,s,a){t.exports=a.p+"assets/img/image-20220407015103710.929792f4.png"},5290:function(t,s,a){t.exports=a.p+"assets/img/image-20220407015302126.071165bd.png"},5291:function(t,s,a){t.exports=a.p+"assets/img/image-20220407015440140.1c20be7b.png"},5292:function(t,s,a){t.exports=a.p+"assets/img/image-20220407020017766.57578459.png"},5293:function(t,s,a){t.exports=a.p+"assets/img/image-20220407020156432.bb6e1c04.png"},5294:function(t,s,a){t.exports=a.p+"assets/img/image-20220407020428605.5ec463cd.png"},5295:function(t,s,a){t.exports=a.p+"assets/img/image-20220407020626591.d56298da.png"},5296:function(t,s,a){t.exports=a.p+"assets/img/image-20220407020801598.3432fb2f.png"},5297:function(t,s,a){t.exports=a.p+"assets/img/image-20220407021037635.16674795.png"},5298:function(t,s,a){t.exports=a.p+"assets/img/image-20220407021414525.fba2441a.png"},5299:function(t,s,a){t.exports=a.p+"assets/img/image-20220407021547665.c4c4b687.png"},5300:function(t,s,a){t.exports=a.p+"assets/img/image-20220407021912491.951a1d02.png"},5301:function(t,s,a){t.exports=a.p+"assets/img/image-20220407022054089.1fe6cfa7.png"},5302:function(t,s,a){t.exports=a.p+"assets/img/image-20220407022337844.907c9434.png"},5303:function(t,s,a){t.exports=a.p+"assets/img/image-20220407022453297.71bd650b.png"},5304:function(t,s,a){t.exports=a.p+"assets/img/image-20220407022707261.19fe2100.png"},5305:function(t,s,a){t.exports=a.p+"assets/img/image-20220407023128019.837bf76a.png"},5306:function(t,s,a){t.exports=a.p+"assets/img/image-20220407023501930.c7f582c3.png"},5307:function(t,s,a){t.exports=a.p+"assets/img/image-20220407024718534.f17fb87f.png"},5308:function(t,s,a){t.exports=a.p+"assets/img/image-20220407024841464.125a5741.png"},5309:function(t,s,a){t.exports=a.p+"assets/img/image-20220407025019479.8d6cbcde.png"},5310:function(t,s,a){t.exports=a.p+"assets/img/image-20220407030041279.9e425869.png"},5311:function(t,s,a){t.exports=a.p+"assets/img/image-20220407030142276.9b8db798.png"},5312:function(t,s,a){t.exports=a.p+"assets/img/image-20220407030200723.4e199964.png"},5313:function(t,s,a){t.exports=a.p+"assets/img/image-20220407030420537.9b64b475.png"},5314:function(t,s,a){t.exports=a.p+"assets/img/image-20220407030534010.0eef3791.png"},5315:function(t,s,a){t.exports=a.p+"assets/img/image-20220407031030201.139cc65a.png"},5316:function(t,s,a){t.exports=a.p+"assets/img/image-20220407212900858.bb6dcbda.png"},5317:function(t,s,a){t.exports=a.p+"assets/img/image-20220407213143484.b824c4aa.png"},5318:function(t,s,a){t.exports=a.p+"assets/img/image-20220407213220646.71922207.png"},5319:function(t,s,a){t.exports=a.p+"assets/img/image-20220407213627846.cb440bb6.png"},5320:function(t,s,a){t.exports=a.p+"assets/img/image-20220407214222015.ea85f057.png"},5321:function(t,s,a){t.exports=a.p+"assets/img/image-20220407215411841.b087880d.png"},5322:function(t,s,a){t.exports=a.p+"assets/img/image-20220407215448812.cdca8f32.png"},5323:function(t,s,a){t.exports=a.p+"assets/img/image-20220407215955636.77563f7e.png"},5324:function(t,s,a){t.exports=a.p+"assets/img/image-20220407220641286.87d17f71.png"},5325:function(t,s,a){t.exports=a.p+"assets/img/image-20220407222130370.2bef6bcb.png"},5326:function(t,s,a){t.exports=a.p+"assets/img/image-20220407223109227.b089fa57.png"},5327:function(t,s,a){t.exports=a.p+"assets/img/image-20220407223631038.1d4dba94.png"},5328:function(t,s,a){t.exports=a.p+"assets/img/image-20220407224333507.f5b59af4.png"},5329:function(t,s,a){t.exports=a.p+"assets/img/image-20220407224622475.8095844a.png"},5330:function(t,s,a){t.exports=a.p+"assets/img/image-20220407224702990.66713238.png"},5331:function(t,s,a){t.exports=a.p+"assets/img/image-20220407224855338.0dd1d87a.png"},5332:function(t,s,a){t.exports=a.p+"assets/img/image-20220407230631054.cd8cbb0f.png"},5333:function(t,s,a){t.exports=a.p+"assets/img/image-20220407231008852.d4402128.png"},5334:function(t,s,a){t.exports=a.p+"assets/img/image-20220407231152963.51315055.png"},5335:function(t,s,a){t.exports=a.p+"assets/img/image-20220407231343743.ec7e34b4.png"},8698:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_15-重构问题处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_15-重构问题处理"}},[t._v("#")]),t._v(" 15.重构问题处理")]),t._v(" "),n("p",[t._v("​\t\t我们要做的第一件事情就是提取readNumber方法并将其放入在名为console的类中，这是我们读取数字的方法，我们通过剪切的方式去处理代码其实是错误的，会造成编译报错的问题，我们应该通过idea的refactor菜单来处理")]),t._v(" "),n("p",[t._v("​\t我们将光标停留在需要重构的方法上，然后选择菜单Refactor--》Refactor this")]),t._v(" "),n("p",[t._v("​\t\t快捷键是control + t")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5276),alt:"image-20220407005921429"}})]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("intellij提出了一些重构技术\n")])])]),n("p",[n("img",{attrs:{src:a(5277),alt:"image-20220407010103897"}})]),t._v(" "),n("p",[t._v("这里我们想把这个方法移动到另外一个类，所以我们选择Move，在顶部我们可以看到，我们正在把这个方法从这个Main下移动到我们输入的Console类中")]),t._v(" "),n("p",[t._v("​\tConsole我们还没有创建，别担心，idea会自动为我们创建")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5278),alt:"image-20220407010340918"}})]),t._v(" "),n("p",[t._v("​\t在右侧我们看到各种访问修饰符，我们想确保这个方法是公开的，我们可以勾选public，所以他可以从这个类之外调用，然后我们点击Refactor")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5279),alt:"image-20220407010647642"}})]),t._v(" "),n("p",[t._v("提醒是否需要新建Console这个类，我们选择Yes")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5280),alt:"image-20220407010754444"}})]),t._v(" "),n("p",[t._v("移动过来之后，")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5281),alt:"image-20220407011225014"}})]),t._v(" "),n("p",[t._v("之前调用此方法的也会发生自动修改为移动后的类")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5282),alt:"image-20220407011332920"}})]),t._v(" "),n("p",[t._v("这就是我们所说的安全重构，所以我们尽量不要去手动的移动代码，使用我们的Intellij工具，速度更快，产生的错误更少。")]),t._v(" "),n("h4",{attrs:{id:"overloading-methods-重构方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#overloading-methods-重构方法"}},[t._v("#")]),t._v(" OverLoading Methods 重构方法")]),t._v(" "),n("p",[t._v("​\t目前我们的Console类只有一个readNumber方法，使用了3个参数，分别是提示，最大值和最小值，现在我们想一下，如果不想强制执行这个有效范围该如何去做？")]),t._v(" "),n("p",[t._v("​\t我们可以使用重载的方法，我们创建一个参数 提示字符promot的readNumber方法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5283),alt:"image-20220407012201844"}})]),t._v(" "),n("p",[t._v("由于我们需要一直使用Scanner类，我们可以把他设置为静态变量")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5284),alt:"image-20220407012603565"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(5285),alt:"image-20220407012740226"}})]),t._v(" "),n("p",[t._v("Console类")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("problemmosh")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Scanner")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Console")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Scanner")]),t._v(" scanner "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Scanner")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readNumber")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" prompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" scanner"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextDouble")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readNumber")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" prompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" min"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" max"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prompt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" scanner"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextFloat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//判断年利率是否在范围")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" min "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" max"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入 "')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" min "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" - "')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" max "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"之间的值"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br")])]),n("h4",{attrs:{id:"现在我们处理一下打印时间表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#现在我们处理一下打印时间表"}},[t._v("#")]),t._v(" 现在我们处理一下打印时间表")]),t._v(" "),n("p",[t._v("​\t我们考虑一下把打印时间表移动到哪里？")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5286),alt:"image-20220407013239218"}})]),t._v(" "),n("p",[t._v("​\t我们移动到MortgageReport 抵押贷款报告类中，并且将打印时间表也勾选上")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5287),alt:"image-20220407013407352"}})]),t._v(" "),n("p",[t._v("移动后-\t我们看一下这个Solution.calculateMortgage 这个方法，从技术上讲，这个方法不应该存在，他应该是属于抵押贷款的另一部分 "),n("img",{attrs:{src:a(5288),alt:"image-20220407014128584"}})]),t._v(" "),n("h4",{attrs:{id:"我们现在将计算的方法移动出来"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#我们现在将计算的方法移动出来"}},[t._v("#")]),t._v(" 我们现在将计算的方法移动出来")]),t._v(" "),n("p",[t._v("​\t将计算的2个方法移动到我们 抵押计算器 类中MortgageCalculator")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5289),alt:"image-20220407015103710"}})]),t._v(" "),n("p",[t._v("​\t移动好了计算的方法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5290),alt:"image-20220407015302126"}})]),t._v(" "),n("p",[t._v("​\t现在我们回到主类中看一下，看看我们减少了多少代码")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5291),alt:"image-20220407015440140"}})]),t._v(" "),n("p",[t._v("​\t现在还没有结束，我们看一下抵押贷款计算 类")]),t._v(" "),n("p",[t._v("​\t我们将这些传入的参数进行封装处理")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5292),alt:"image-20220407020017766"}})]),t._v(" "),n("p",[t._v("那么我们现在需要 添加一个构造函数来处理初始化")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5293),alt:"image-20220407020156432"}})]),t._v(" "),n("p",[t._v("​\t现在我们command + t ，这次我们要改变此方法的签名")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5294),alt:"image-20220407020428605"}})]),t._v(" "),n("p",[t._v("然后我们选择我们不想要的并删除，delete")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5295),alt:"image-20220407020626591"}})]),t._v(" "),n("p",[t._v("​\t然后选择Refactor 会提示我们一个警告，因为我们在方法中使用了这些值")]),t._v(" "),n("p",[t._v("​\t\t因为现在我们这些值存储在这个类中，所以继续构建把")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5296),alt:"image-20220407020801598"}})]),t._v(" "),n("p",[t._v("重构完--我们看到一些报错信息")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5297),alt:"image-20220407021037635"}})]),t._v(" "),n("p",[t._v("​\t因为每位的calculateBanlace方法是static静态的，静态方法只能看到静态的变量，所以现在我们需要将这个方法转换为一个实例方法，我们再次使用重构按钮command + t")]),t._v(" "),n("p",[t._v("​\t转换为实例方法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5298),alt:"image-20220407021414525"}})]),t._v(" "),n("p",[t._v("​\t不幸的是idea在这种情况下无法为我们做到这点，这时我们必须手动调节修改代码")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5299),alt:"image-20220407021547665"}})]),t._v(" "),n("p",[t._v("​\t我们去掉静态修饰符 static，我们可以看到错误会立即消失，因为我们可以在本类中访问这些私有字段")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5300),alt:"image-20220407021912491"}})]),t._v(" "),n("p",[t._v("​\t然后我们重复操作一下，把calculateMortgage方法的参数也处理一下")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5301),alt:"image-20220407022054089"}})]),t._v(" "),n("p",[t._v("​\t我们在类上右键--然后Find Usages 查看哪里使用是否受到影响")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5302),alt:"image-20220407022337844"}})]),t._v(" "),n("p",[t._v("可以看到这个类在抵押报告类中使用了2次")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5303),alt:"image-20220407022453297"}})]),t._v(" "),n("p",[t._v("然后我们看一下有报错-因为之前是静态的方法可以类之间调用，现在改为不是静态的了所以报错")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5304),alt:"image-20220407022707261"}})]),t._v(" "),n("p",[t._v("​")]),t._v(" "),n("p",[t._v("​\t所以我们需要在这里创建一个抵押贷款计算 对象实例")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5305),alt:"image-20220407023128019"}})]),t._v(" "),n("p",[t._v("​\t我们看到下面还有一个报错，我们重复声明一下就可以处理，但我不想重复这个，所以我们将其声明为字段在这个类中")]),t._v(" "),n("p",[t._v("​\t我们继续使用Refactor菜单处理")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5306),alt:"image-20220407023501930"}})]),t._v(" "),n("p",[t._v("​\t但这个字段是用这个方法初始化的，这不好，因为我们必须是先调用打印抵押的方法，这样该字段，正确的方式是我们使用构造函数来初始化实例，但是这个计算对象已经声明，而且内部还有2个静态的方法，所以我们想移动一下这些静态的")]),t._v(" "),n("p",[t._v("​\t这些静态的值应该有一个适当的对象，他有一些状态以及一些行为，你不应该经常使用静态字段和静态数值，他们很麻烦，例如我们想要在不同的窗口输入不同的内容，使用不同的对象来计算，所以我们不想在内存中使用单个实例的对象，static是会成为单例的")]),t._v(" "),n("p",[t._v("我们现在去掉static 声明的实例变量--然后报错了，因为是静态方法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5307),alt:"image-20220407024718534"}})]),t._v(" "),n("p",[t._v("然后我们将此方法改为实例方法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5308),alt:"image-20220407024841464"}})]),t._v(" "),n("p",[t._v("然后选择为public的")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5309),alt:"image-20220407025019479"}})]),t._v(" "),n("p",[t._v("另一个方法也是同样的操作")]),t._v(" "),n("p",[t._v("最后一步是：初始化我们点击灯泡 或者alt + enter"),n("img",{attrs:{src:a(5310),alt:"image-20220407030041279"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(5311),alt:"image-20220407030142276"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(5312),alt:"image-20220407030200723"}})]),t._v(" "),n("p",[t._v("修改完成的MortgageReport这个类")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("problemmosh")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NumberFormat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageReport")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageCalculator")]),t._v(" calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageReport")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageCalculator")]),t._v(" calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("calculator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("printPaymentSchdedule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//打印付款计划")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PAYMENT SCHEDULE"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"----------------"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//现在我们需要for循环，迭代所有的支付")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("short")]),t._v(" month "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" month "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getYears")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MONTH_IN_YEAR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" month"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" banlace "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calculateBanlace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NumberFormat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrencyInstance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("banlace"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("printMortgage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" mortgage "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("calculateMortgage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//格式化金额")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" mortgageFormatted "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NumberFormat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrencyInstance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mortgage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MORTGAGE"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--------"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Monthly Payments"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" mortgageFormatted"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br")])]),n("p",[t._v("现在我们需要确保使用这个类的是否受到影响")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5313),alt:"image-20220407030420537"}})]),t._v(" "),n("p",[t._v("我们看到这个main方法使用了2次")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5314),alt:"image-20220407030534010"}})]),t._v(" "),n("p",[t._v("最后我们修改一下")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5315),alt:"image-20220407031030201"}})]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("problemmosh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("problemmosh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageCalculator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("company"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("problemmosh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageReport")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一年12月")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),t._v(" MONTH_IN_YEAR "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//百分比")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),t._v(" PERCENT "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" principal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readNumber")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入贷款金额Principal :"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1_000_000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" annualInterest "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readNumber")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入年利率 Annual Interest Rate :"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),t._v(" years "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("byte")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readNumber")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入贷款年限Years :"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageCalculator")]),t._v(" calculator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageCalculator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("principal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("annualInterest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("years"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageReport")]),t._v(" report "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MortgageReport")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("calculator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        report"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("printMortgage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        report"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("printPaymentSchdedule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br")])]),n("h4",{attrs:{id:"移动静态字段-moving-static-fields"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#移动静态字段-moving-static-fields"}},[t._v("#")]),t._v(" 移动静态字段 moving static fields")]),t._v(" "),n("p",[t._v("​\t通过我们迄今为止所做的重构，我们改进了应用程序的设计，明显的我们还没有完成，看看静态变量在Main主类中声明，这些字段不应该属于这里")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5316),alt:"image-20220407212900858"}})]),t._v(" "),n("p",[t._v("​\t你觉得我们应该把这些移动到哪里呢？我们先看一下都有谁在使用他")]),t._v(" "),n("p",[t._v("​\t邮件 find usages")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5317),alt:"image-20220407213143484"}})]),t._v(" "),n("p",[t._v("我们看到有5处在使用他")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5318),alt:"image-20220407213220646"}})]),t._v(" "),n("p",[t._v("​\t因为这些字段是用于计算的，所以我们应该将这些静态的移动到MortgageCaluculator这个类中")]),t._v(" "),n("p",[t._v("​\t我们contorol + t")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5319),alt:"image-20220407213627846"}})]),t._v(" "),n("h4",{attrs:{id:"提取重复的逻辑extracting-duplicate-logic"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提取重复的逻辑extracting-duplicate-logic"}},[t._v("#")]),t._v(" 提取重复的逻辑Extracting Duplicate Logic")]),t._v(" "),n("p",[t._v("​\t在我们的计算类中有重复使用的代码")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5320),alt:"image-20220407214222015"}})]),t._v(" "),n("p",[t._v("​\t为了消除重复，我们有俩个选择，一个是提升局部变量作为类中的私有变量，在构造函数中初始化他们，然而我们如果以后要改变利率的时候，我们必须重新计算月利率，目前我们没有getter，如果我们在之后这样做，我们不得不再次替换这个逻辑，我们必须计算每月的利率，所以这不是一个好的选择")]),t._v(" "),n("p",[t._v("​\t\t更好的方法是设置此表达式在此类中作为私有的方法，")]),t._v(" "),n("p",[t._v("我们框选重复的代码，然后重构method方法")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5321),alt:"image-20220407215411841"}})]),t._v(" "),n("p",[t._v("​\t提示我们--检测到某处重复了这个表达式，问我们是否替换其他的，我们选择All就是全部替换")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5322),alt:"image-20220407215448812"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(5323),alt:"image-20220407215955636"}})]),t._v(" "),n("p",[t._v("​\t\t好了，如果以后更改年利率，这个方法依然有效，但如果使用静态变量就不可变了")]),t._v(" "),n("p",[t._v("​\t现在我们重复同样的步骤，将付款总月数也重构一下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5324),alt:"image-20220407220641286"}})]),t._v(" "),n("p",[t._v("​\t好的，现在我们回顾一下整体的代码：")]),t._v(" "),n("p",[t._v("​\t我们看到计算月利率的方法就像一个getter，我们应该将所有的getter和setter迁移到类的底部为约定，这样的约定有助于更容易阅读和理解代码")]),t._v(" "),n("p",[t._v("​\t所以我们移动一下代码片段--移动到底部 shift + alt + down")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5325),alt:"image-20220407222130370"}})]),t._v(" "),n("p",[t._v("​\t 在这个设计中，我们将所有展示问题都转移到了MortgageReport类中了，我们将计算的全部交给计算的类来处理，将展示全部交给展示的类处理")]),t._v(" "),n("h4",{attrs:{id:"将计算与展示逻辑分离separating-calculation-from-presentation-logic"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将计算与展示逻辑分离separating-calculation-from-presentation-logic"}},[t._v("#")]),t._v(" 将计算与展示逻辑分离Separating Calculation from Presentation Logic")]),t._v(" "),n("p",[t._v("​\t我们移动这个计算每次剩余余额的逻辑，到计算类中--标注错误，按绿色为准")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5326),alt:"image-20220407223109227"}})]),t._v(" "),n("p",[t._v("​\t现在我们必须手动执行此操作，我们不能使用idea，因为他是一种特殊的重构，我们复制这俩行代码--到我们的抵押计算类中")]),t._v(" "),n("p",[t._v("​\t我们希望返回的是一个double的数组，起名为获取剩余余额--然后调整代码")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5327),alt:"image-20220407223631038"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(5328),alt:"image-20220407224333507"}})]),t._v(" "),n("p",[t._v("​\t现在我们使用内联的inline命令来重构一下")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5329),alt:"image-20220407224622475"}})]),t._v(" "),n("p",[t._v("提示内联全部--并删除该变量进行重构")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5330),alt:"image-20220407224702990"}})]),t._v(" "),n("p",[t._v("​\t对比刚刚的代码，就是减少了一行代码，将balance变量删除了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5331),alt:"image-20220407224855338"}})]),t._v(" "),n("p",[t._v("​\t我们回到展示类中，调用这个方法，然后使用for each 比之前简单多了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5332),alt:"image-20220407230631054"}})]),t._v(" "),n("p",[t._v("​\t\t我们现在有了这个新的实现，所以我们不需要从外部获取到getYear了，我们删除掉这个getter方法，或者私有化，我们在删除前记得看一下find usages看看有没有使用")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5333),alt:"image-20220407231008852"}})]),t._v(" "),n("p",[t._v("​\t我们发现 MONTHS-IN-YEAR也可以私有化了，百分比也可以私有化了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(5334),alt:"image-20220407231152963"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(5335),alt:"image-20220407231343743"}})]),t._v(" "),n("p",[t._v("​\t我们隐藏了这些实现，如果将来我们改变这个实现，依赖于抵押贷款的类，计算的类是不需要调整的，随着每次重构，我们的代码越来越好。")]),t._v(" "),n("p",[t._v("​")]),t._v(" "),n("p",[t._v("​")]),t._v(" "),n("p",[t._v("​")]),t._v(" "),n("p",[t._v("​")])])}),[],!1,null,null,null);s.default=e.exports}}]);