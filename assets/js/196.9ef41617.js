(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{8120:function(t,s,a){t.exports=a.p+"assets/img/image-20240625223707762.d630a52e.png"},8121:function(t,s,a){t.exports=a.p+"assets/img/image-20240625230205659.6e09fa0a.png"},8122:function(t,s,a){t.exports=a.p+"assets/img/image-20240625231022053.8be614b8.png"},8123:function(t,s,a){t.exports=a.p+"assets/img/image-20240625231539839.0db07f7a.png"},8124:function(t,s,a){t.exports=a.p+"assets/img/image-20240625231924647.26475871.png"},8125:function(t,s,a){t.exports=a.p+"assets/img/image-20240625233339394.5f335c88.png"},8126:function(t,s,a){t.exports=a.p+"assets/img/image-20240625233553102.d0bae3a9.png"},8127:function(t,s,a){t.exports=a.p+"assets/img/image-20240625234401213.1e347dc7.png"},8128:function(t,s,a){t.exports=a.p+"assets/img/image-20240625234351427.9454db0e.png"},8129:function(t,s,a){t.exports=a.p+"assets/img/image-20240625234545078.0d91f1a5.png"},8130:function(t,s,a){t.exports=a.p+"assets/img/image-20240625234809345.cf05ea1d.png"},8131:function(t,s,a){t.exports=a.p+"assets/img/image-20240625235029879.6555ae28.png"},8132:function(t,s,a){t.exports=a.p+"assets/img/image-20240625235221538.ac904f19.png"},8133:function(t,s,a){t.exports=a.p+"assets/img/image-20240625235352877.ca448060.png"},8134:function(t,s,a){t.exports=a.p+"assets/img/image-20240625235648958.d32ac286.png"},9250:function(t,s,a){"use strict";a.r(s);var e=a(5),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_27、什么是ansible"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_27、什么是ansible"}},[t._v("#")]),t._v(" 27、什么是Ansible？")]),t._v(" "),e("p",[t._v("​\t\t为什么我们需要Ansible？我们从linux系统管理员的角度来看它，所以我可能有一台需要管理的服务器，管理这台服务器非常容易，例如可能更改DNS服务器，那么我们需要做的就是更新etc解析conf文件更新一个文件，那么如果需要管理更多的服务器，如果我们一台一台的进行操作和管理那么就太浪费时间了，因为这些操作都是一样的。")]),t._v(" "),e("p",[t._v("​\t那么Ansible的用武之地就是来处理这类问题，用Ansible检查一下，我会建立一个服务器，这个服务器上面有Ansible在运行，我会让它成为我的主站也就是控制站，这是我的指挥中心，在这里我可以让所有的发生在我进行控制的地方，那么如果我需要更改所有服务器上的DNS服务，我可以在我的控制站点上进行更改，解决了我们对每台服务器进行的重复的更改操作。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8120),alt:"image-20240625223707762"}})]),t._v(" "),e("p",[t._v("​\t\tAnsible是基于Python开发的，这使得它特别酷，而且它无代理，这通常意味着什么？进行自动化，你的自动化工具要求你在机器上安装某种代理或客户端，现在很多情况下这是不可能的，特别是对于网络工程师来说，因为我们有Ciso IOS的路由器，不允许操作这些路由设备，所以我们无法使用那些需要代理的系统来管理它，但是使用Ansible它是无代理的，它只需要通过SSH连接并运行命令，这太棒了。")]),t._v(" "),e("p",[t._v("​\t\tAnsible不只是管理Linux，可以是AWS，可以是Windows，你可以管理你的整个基础设施，而且它是免费的。")]),t._v(" "),e("p",[t._v("​\t\t我们可以安装在任何Linux发行版上，甚至是MacOS上，为什么是免费的，因为它是开源的，当然也有付费的般本。")]),t._v(" "),e("p",[t._v("​\t\tAnsible本身是令人惊讶的，就它如何与机器以及在路由器，交换机和控制中交互而言，它绝对是一种推送模型，它非常有推动力，你有拉动和推送模型，这个将配置推送到设备，推送命令。")]),t._v(" "),e("h4",{attrs:{id:"_1、前置准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、前置准备"}},[t._v("#")]),t._v(" 1、前置准备")]),t._v(" "),e("p",[t._v("​\t\t我们需要三台服务器，其中一台服务器将成为控制台或者是控制者，另外俩个将是被控制的。")]),t._v(" "),e("h4",{attrs:{id:"_2、ansible的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、ansible的安装"}},[t._v("#")]),t._v(" 2、Ansible的安装")]),t._v(" "),e("p",[t._v("​\t\t脚本安装---目前是CentOS系统")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n\tyum update -v\n\t\n\tyum install epel-release -y\n\t\n\tyum install ansible -y\n\t\n\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("​\t\t进入Ansible目录 /etc/ansible")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8121),alt:"image-20240625230205659"}})]),t._v(" "),e("p",[t._v("​\t\t现在我们关心的是ansible.cfg 和hosts")]),t._v(" "),e("p",[t._v("​\t\tansible.cfg -- 这个是ansible的配置设置")]),t._v(" "),e("p",[t._v("​\t\thosts -- 这个是包含我们要控制的事务列表，通常称为清单文件")]),t._v(" "),e("p",[t._v("​\t\t\t\t就像一个清单一样，会列出你控制所有的Linux机器的所有内容")]),t._v(" "),e("p",[t._v("​\t现在我们编辑这个hosts文件，配置它实现管理另外俩台服务器")]),t._v(" "),e("p",[t._v("​\t到文件的底部进行编辑")]),t._v(" "),e("p",[t._v("​\t\t\t配置IP和用户名密码")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8122),alt:"image-20240625231022053"}})]),t._v(" "),e("h4",{attrs:{id:"_3、配置ansible-cfg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置ansible-cfg"}},[t._v("#")]),t._v(" 3、配置ansible.cfg")]),t._v(" "),e("p",[t._v("​\t\t\t我们需要修改一个选项，主机秘钥检查host_key_checking =False")]),t._v(" "),e("p",[t._v("​\t\t\t这个配置通常在ansible和生产环境中，你将使用SSH秘钥检查主机，这对我们来说非常安全，我们只是在进行实验，因此我们将禁用此功能")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8123),alt:"image-20240625231539839"}})]),t._v(" "),e("h4",{attrs:{id:"_4、ansible命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、ansible命令"}},[t._v("#")]),t._v(" 4、Ansible命令")]),t._v(" "),e("p",[t._v("​\t\t可以通过指定ip地址来指定一台主机，或者我们可以指定我们hosts中的 Linux组")]),t._v(" "),e("p",[t._v("​\t\t-m 代表模块")]),t._v(" "),e("p",[t._v("​\t\tping  命令")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8124),alt:"image-20240625231924647"}})]),t._v(" "),e("p",[t._v("​")]),t._v(" "),e("p",[t._v("​\t现在我们尝试输入常规的Linux命令，在管理的另外俩台设备上执行")]),t._v(" "),e("p",[t._v("​\t\t我们看一下服务器的操作系统版本")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8125),alt:"image-20240625233339394"}})]),t._v(" "),e("p",[t._v("​\t我们可以看到俩台服务器都执行了这个命令，可以看到俩台服务器的信息")]),t._v(" "),e("p",[t._v("​\t我们重启一下看看什么效果  俩台机器是否都会重新启动")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8126),alt:"image-20240625233553102"}})]),t._v(" "),e("p",[t._v("​\t\t可以重新启动，重新启动连接断开，所以报红")]),t._v(" "),e("p",[t._v("​\t我们现在只是使用的Ansible的临时执行的命令，但是有更强大的使用Ansible的方法，那就是通过使用称为playbook的东西")]),t._v(" "),e("p",[t._v("​\t\t使用playbook将会更有组织性， 一个yaml文件")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8127),alt:"image-20240625234401213"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(8128),alt:"image-20240625234351427"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(8129),alt:"image-20240625234545078"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(8130),alt:"image-20240625234809345"}})]),t._v(" "),e("p",[t._v("​\t\t\t现在这个Ansible就帮助我们在俩台服务器上都安装了anno")]),t._v(" "),e("p",[t._v("​\t我们再次运行看看什么效果：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8131),alt:"image-20240625235029879"}})]),t._v(" "),e("p",[t._v("​\tchanged是0，因为我们之前已经安装过了，所以再次执行这个没有变化")]),t._v(" "),e("p",[t._v("​\t我们修改yaml文件，将版本设置为不存在的般本")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8132),alt:"image-20240625235221538"}})]),t._v(" "),e("p",[t._v("​\t然后再次执行测试：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8133),alt:"image-20240625235352877"}})]),t._v(" "),e("p",[t._v("​\tchange 发生变化，")]),t._v(" "),e("h4",{attrs:{id:"_5、更多的模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、更多的模块"}},[t._v("#")]),t._v(" 5、更多的模块")]),t._v(" "),e("p",[t._v("​\t\t\t更多的需要实践探索")]),t._v(" "),e("p",[e("img",{attrs:{src:a(8134),alt:"image-20240625235648958"}})]),t._v(" "),e("p",[t._v("​")]),t._v(" "),e("p",[t._v("https://www.youtube.com/@NetworkChuck/playlists")])])}),[],!1,null,null,null);s.default=i.exports}}]);