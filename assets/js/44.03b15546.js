(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{8310:function(t,s,a){"use strict";a.r(s);var p=a(5),r=Object(p.a)({},(function(){var t=this,s=t.$createElement,p=t._self._c||s;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("h1",{attrs:{id:"_5、promethus添加图形图像"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_5、promethus添加图形图像"}},[t._v("#")]),t._v(" 5、promethus添加图形图像")]),t._v(" "),p("p",[t._v("​")]),t._v(" "),p("p",[t._v("​\t\t因为promethus本身自带的web界面展示的内容相比比较少")]),t._v(" "),p("p",[t._v("​")]),t._v(" "),p("p",[t._v("​\t\t原因是我们还少安装一个工具Grafana可视化图形工具")]),t._v(" "),p("p",[p("img",{attrs:{src:a(915),alt:"1678619033075"}})]),t._v(" "),p("h2",{attrs:{id:"_1、安装grafana"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装grafana"}},[t._v("#")]),t._v(" 1、安装grafana")]),t._v(" "),p("p",[t._v("​\thttps://grafana.com/")]),t._v(" "),p("p",[t._v("​\t\t官网中--进入down下载rpm的文件包")]),t._v(" "),p("p",[p("img",{attrs:{src:a(916),alt:"1678619278075"}})]),t._v(" "),p("p",[t._v("​\t\t- i 是install  --- v是进入      h是")]),t._v(" "),p("p",[p("img",{attrs:{src:a(917),alt:"1678619318491"}})]),t._v(" "),p("p",[t._v("安装失败：需要另外俩个依赖包")]),t._v(" "),p("p",[p("img",{attrs:{src:a(918),alt:"1678619438105"}})]),t._v(" "),p("p",[t._v("​\t安装另外依赖的软件包")]),t._v(" "),p("p",[p("img",{attrs:{src:a(919),alt:"1678619493920"}})]),t._v(" "),p("p",[t._v("​\t这样rpm包也可以通过 yum来安装，因为yum最终也是通过rpm实现的")]),t._v(" "),p("div",{staticClass:"language- line-numbers-mode"},[p("pre",{pre:!0,attrs:{class:"language-text"}},[p("code",[t._v("# 如果我们使用yum *** -y的方式安装可以帮助我们解决 依赖问题，自动加载依赖\n\nyum install /root/Desktop/grafana-5.3.4-1.x86_64.rpm -y\n\n")])]),t._v(" "),p("div",{staticClass:"line-numbers-wrapper"},[p("span",{staticClass:"line-number"},[t._v("1")]),p("br"),p("span",{staticClass:"line-number"},[t._v("2")]),p("br"),p("span",{staticClass:"line-number"},[t._v("3")]),p("br"),p("span",{staticClass:"line-number"},[t._v("4")]),p("br")])]),p("p",[t._v("​\t然后启动和设置开机启动")]),t._v(" "),p("p",[p("img",{attrs:{src:a(920),alt:"1678619781375"}})]),t._v(" "),p("p",[t._v("检查端口")]),t._v(" "),p("p",[p("img",{attrs:{src:a(921),alt:"1678619810226"}})]),t._v(" "),p("h2",{attrs:{id:"_2、登录grafana"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_2、登录grafana"}},[t._v("#")]),t._v(" 2、登录grafana")]),t._v(" "),p("p",[t._v("​\tip+3000端口---可以访问到我们刚刚启动的grafana")]),t._v(" "),p("p",[t._v("​\t默认 用户名 密码都是admin")]),t._v(" "),p("p",[p("img",{attrs:{src:a(922),alt:"1678619885966"}})]),t._v(" "),p("p",[t._v("​\t第一次登录--让先设置密码")]),t._v(" "),p("p",[p("img",{attrs:{src:a(923),alt:"1678619999253"}})]),t._v(" "),p("p",[t._v("这样就进入系统了")]),t._v(" "),p("p",[p("img",{attrs:{src:a(924),alt:"1678620040335"}})]),t._v(" "),p("h2",{attrs:{id:"_3、添加promethus的数据源"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3、添加promethus的数据源"}},[t._v("#")]),t._v(" 3、添加promethus的数据源")]),t._v(" "),p("p",[t._v("​\t比较主流的监控系统像 nacos 它支持的都可以收集进来----它支持的版本还是很多的")]),t._v(" "),p("h3",{attrs:{id:"_3-1、添加数据源"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、添加数据源"}},[t._v("#")]),t._v(" 3.1、添加数据源")]),t._v(" "),p("p",[t._v("​\t点击 add data source")]),t._v(" "),p("p",[p("img",{attrs:{src:a(925),alt:"1678620317574"}}),t._v(".")]),t._v(" "),p("h3",{attrs:{id:"_3-2、设置数据源-名称-类型-ip等"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、设置数据源-名称-类型-ip等"}},[t._v("#")]),t._v(" 3.2、设置数据源 -名称，类型，ip等")]),t._v(" "),p("p",[t._v("​\t\t它支持的数据源类型有很多种--我们选择promethus")]),t._v(" "),p("p",[p("img",{attrs:{src:a(926),alt:"1678620482291"}})]),t._v(" "),p("p",[t._v("​\turl填写数据源的地址，Access默认")]),t._v(" "),p("p",[t._v("​\tAuth -- 授权 公网需要授权，内网无需授权")]),t._v(" "),p("p",[p("img",{attrs:{src:a(927),alt:"1678620624040"}})]),t._v(" "),p("p",[t._v("​")]),t._v(" "),p("p",[t._v("下面的设置，根据需要配置")]),t._v(" "),p("p",[p("img",{attrs:{src:a(928),alt:"1678620784074"}})]),t._v(" "),p("h3",{attrs:{id:"_3-3、查看是否添加成功"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-3、查看是否添加成功"}},[t._v("#")]),t._v(" 3.3、查看是否添加成功")]),t._v(" "),p("p",[t._v("​\t点击 设置 -- DataSource")]),t._v(" "),p("p",[p("img",{attrs:{src:a(929),alt:"1678620939999"}})]),t._v(" "),p("h2",{attrs:{id:"_4、查看数据-图形展示"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_4、查看数据-图形展示"}},[t._v("#")]),t._v(" 4、查看数据--图形展示")]),t._v(" "),p("p",[t._v("​\t点击+号，然后点击 DataSource")]),t._v(" "),p("p",[p("img",{attrs:{src:a(930),alt:"1678621248095"}})]),t._v(" "),p("p",[t._v("​\t然后我们一般点击graph就是图像的意思")]),t._v(" "),p("p",[p("img",{attrs:{src:a(931),alt:"1678621371675"}})]),t._v(" "),p("p",[t._v("​\t但是现在还没有数据---现在只是增加了一个图形")]),t._v(" "),p("p",[p("img",{attrs:{src:a(932),alt:"1678621453823"}})]),t._v(" "),p("p",[t._v("、")]),t._v(" "),p("p",[t._v("​\t选择需要呈现的数据")]),t._v(" "),p("p",[t._v("​\t点击 标题的 倒三角符号，编辑---增加我们的数据点")]),t._v(" "),p("p",[t._v("​\t在这个过程中其实它就会收集一下数据")]),t._v(" "),p("p",[p("img",{attrs:{src:a(933),alt:"1678621552071"}})]),t._v(" "),p("p",[t._v("​\t选择数据源--然后设置采集时间间隔点 3个点 比如5分钟维度，10分钟维度，30分钟维度")]),t._v(" "),p("p",[p("img",{attrs:{src:a(934),alt:"1678621817988"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(935),alt:"1678621748138"}})]),t._v(" "),p("p",[t._v("​\t注意监测点：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(936),alt:"1678621894915"}})]),t._v(" "),p("p",[t._v("​\t这样就可以看到3条线的维度图表了")]),t._v(" "),p("p",[t._v("​\t\t因为我们配置了3个监测点，如果多的话那么就是多条线")]),t._v(" "),p("p",[p("img",{attrs:{src:a(937),alt:"1678621960819"}})]),t._v(" "),p("p",[t._v("​\t\t它查的其实是agent 被监控的服务器信息")]),t._v(" "),p("p",[t._v("​\t这些图表我们也可以根据条件进行过滤和赛选查看")]),t._v(" "),p("p",[p("img",{attrs:{src:a(938),alt:"1678622207605"}})]),t._v(" "),p("p",[t._v("​\t保存：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(939),alt:"1678622255448"}})]),t._v(" "),p("p",[t._v("​\t可以把我们设计好的图形--下次登录后还是可以看到")]),t._v(" "),p("p",[p("img",{attrs:{src:a(940),alt:"1678622327869"}})]),t._v(" "),p("p",[t._v("​\t这样就一直可以看到cpu这个负载了")]),t._v(" "),p("p",[p("img",{attrs:{src:a(941),alt:"1678622363346"}})]),t._v(" "),p("p",[t._v("​\t也可以设置变量--来过滤")]),t._v(" "),p("p",[t._v("​\t\t比如--具体查看某一台 实例 的CPU -- 使用变量 花括号的表达方式进行过滤")]),t._v(" "),p("p",[p("img",{attrs:{src:a(942),alt:"1678622494740"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(943),alt:"1678622702067"}})]),t._v(" "),p("p",[t._v("https://www.bilibili.com/video/BV16J411z7SQ?p=9&spm_id_from=pageDriver&vd_source=243ad3a9b323313aa1441e5dd414a4ef")])])}),[],!1,null,null,null);s.default=r.exports},915:function(t,s,a){t.exports=a.p+"assets/img/1678619033075.e4518b34.png"},916:function(t,s,a){t.exports=a.p+"assets/img/1678619278075.cdf42382.png"},917:function(t,s,a){t.exports=a.p+"assets/img/1678619318491.a52b7f36.png"},918:function(t,s,a){t.exports=a.p+"assets/img/1678619438105.ceba92bb.png"},919:function(t,s,a){t.exports=a.p+"assets/img/1678619493920.8613dc65.png"},920:function(t,s,a){t.exports=a.p+"assets/img/1678619781375.c1858f67.png"},921:function(t,s,a){t.exports=a.p+"assets/img/1678619810226.233a3170.png"},922:function(t,s,a){t.exports=a.p+"assets/img/1678619885966.6c9095f5.png"},923:function(t,s,a){t.exports=a.p+"assets/img/1678619999253.75d81cf4.png"},924:function(t,s,a){t.exports=a.p+"assets/img/1678620040335.25ee3bd7.png"},925:function(t,s,a){t.exports=a.p+"assets/img/1678620317574.099bedf3.png"},926:function(t,s,a){t.exports=a.p+"assets/img/1678620482291.746e74de.png"},927:function(t,s,a){t.exports=a.p+"assets/img/1678620624040.e5fffc8c.png"},928:function(t,s,a){t.exports=a.p+"assets/img/1678620784074.d2a340d8.png"},929:function(t,s,a){t.exports=a.p+"assets/img/1678620939999.c9fbd539.png"},930:function(t,s,a){t.exports=a.p+"assets/img/1678621248095.a93e0973.png"},931:function(t,s,a){t.exports=a.p+"assets/img/1678621371675.de4e645c.png"},932:function(t,s,a){t.exports=a.p+"assets/img/1678621453823.bc44c225.png"},933:function(t,s,a){t.exports=a.p+"assets/img/1678621552071.4b9a8f12.png"},934:function(t,s,a){t.exports=a.p+"assets/img/1678621817988.030254c6.png"},935:function(t,s,a){t.exports=a.p+"assets/img/1678621748138.3eb40f88.png"},936:function(t,s,a){t.exports=a.p+"assets/img/1678621894915.8b4235e2.png"},937:function(t,s,a){t.exports=a.p+"assets/img/1678621960819.444deb45.png"},938:function(t,s,a){t.exports=a.p+"assets/img/1678622207605.e4b52c37.png"},939:function(t,s,a){t.exports=a.p+"assets/img/1678622255448.343bdc23.png"},940:function(t,s,a){t.exports=a.p+"assets/img/1678622327869.ad9487e9.png"},941:function(t,s,a){t.exports=a.p+"assets/img/1678622363346.cdf77ec9.png"},942:function(t,s,a){t.exports=a.p+"assets/img/1678622494740.0d0bc0ec.png"},943:function(t,s,a){t.exports=a.p+"assets/img/1678622702067.54f1710c.png"}}]);