(window.webpackJsonp=window.webpackJsonp||[]).push([[818],{8993:function(s,a,e){"use strict";e.r(a);var n=e(5),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"_21、如何将jar包打包成镜像用于部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_21、如何将jar包打包成镜像用于部署"}},[s._v("#")]),s._v(" 21、如何将jar包打包成镜像用于部署")]),s._v(" "),e("p",[s._v("要将 Sentinel Dashboard JAR 文件打包成 Docker 镜像以用于部署，您可以创建一个包含 Java 运行时环境和 Sentinel Dashboard JAR 文件的 Docker 镜像。以下是一个通用的步骤：")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("创建一个 Dockerfile： 在您的项目目录中创建一个名为 "),e("code",[s._v("Dockerfile")]),s._v(" 的文件，该文件包含构建 Docker 镜像的指令。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用一个基础的 Java 运行时环境镜像")]),s._v("\nFROM openjdk:8-jre\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置环境变量")]),s._v("\nENV "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SENTINEL_VERSION")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v(".6\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制 Sentinel Dashboard JAR 文件到容器中")]),s._v("\nADD sentinel-dashboard-"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SENTINEL_VERSION}")]),s._v(".jar /app/sentinel-dashboard.jar\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在容器中运行 Sentinel Dashboard")]),s._v("\nCMD "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-jar"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/app/sentinel-dashboard.jar"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("请确保将 "),e("code",[s._v("sentinel-dashboard-1.8.6.jar")]),s._v(" 文件放在与 Dockerfile 相同的目录中，或者根据您的文件结构修改 "),e("code",[s._v("ADD")]),s._v(" 行的路径。")])]),s._v(" "),e("li",[e("p",[s._v("构建 Docker 镜像： 打开终端，导航到包含 Dockerfile 的目录，然后运行以下命令来构建 Docker 镜像：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker build -t sentinel-dashboard:1.8.6 .\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这会构建一个名为 "),e("code",[s._v("sentinel-dashboard")]),s._v(" 的 Docker 镜像，版本为 1.8.6。请确保 Docker 已经安装并正在运行。")])]),s._v(" "),e("li",[e("p",[s._v("运行 Sentinel Dashboard 容器： 构建成功后，您可以运行 Sentinel Dashboard 容器：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("run -d -p 8080:8080 sentinel-dashboard:1.8.6\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这会在后台启动 Sentinel Dashboard 容器，并将其映射到主机的端口 8080。您可以根据需要更改端口映射。")])]),s._v(" "),e("li",[e("p",[s._v("访问 Sentinel Dashboard： Sentinel Dashboard 应该现在在 Docker 容器中运行，您可以通过浏览器访问它：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("http://localhost:8080\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果您在步骤 3 中更改了端口映射，请相应地修改 URL。")])])]),s._v(" "),e("p",[s._v("这样，您就可以将 Sentinel Dashboard JAR 文件打包成 Docker 镜像并在容器中运行它，以用于部署和监视您的应用程序。确保 Docker 已正确安装和配置，并已将 Sentinel Dashboard JAR 文件准备好放在 Dockerfile 目录中。")])])}),[],!1,null,null,null);a.default=t.exports}}]);