(window.webpackJsonp=window.webpackJsonp||[]).push([[342],{8130:function(a,t,s){a.exports=s.p+"assets/img/1608655196230.2970b110.png"},8131:function(a,t,s){a.exports=s.p+"assets/img/1608655203135.d3d514bf.png"},8132:function(a,t,s){a.exports=s.p+"assets/img/1608655208847.fa59658a.png"},8133:function(a,t,s){a.exports=s.p+"assets/img/1608655216927.f4b14fef.png"},8134:function(a,t,s){a.exports=s.p+"assets/img/1608655226109.02aac5bc.png"},8135:function(a,t,s){a.exports=s.p+"assets/img/1608655233578.15df195a.png"},8136:function(a,t){a.exports="data:image/png;base64,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"},8137:function(a,t){a.exports="data:image/png;base64,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"},8138:function(a,t,s){a.exports=s.p+"assets/img/1608655274030.ff3b6798.png"},9059:function(a,t,s){"use strict";s.r(t);var e=s(5),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq"}},[a._v("#")]),a._v(" rabbitmq")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82-rabbitmq-%E7%9A%84%E9%87%8D%E8%A6%81%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85"}},[a._v("一文搞懂 RabbitMQ 的重要概念以及安装")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%B8%80-rabbitmq-%E4%BB%8B%E7%BB%8D"}},[a._v("一 RabbitMQ 介绍")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#11-rabbitmq-%E7%AE%80%E4%BB%8B"}},[a._v("1.1 RabbitMQ 简介")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#12-rabbitmq-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"}},[a._v("1.2 RabbitMQ 核心概念")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#121-producer%E7%94%9F%E4%BA%A7%E8%80%85-%E5%92%8C-consumer%E6%B6%88%E8%B4%B9%E8%80%85"}},[a._v("1.2.1 Producer(生产者) 和 Consumer(消费者)")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#122-exchange%E4%BA%A4%E6%8D%A2%E5%99%A8"}},[a._v("1.2.2 Exchange(交换器)")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#123-queue%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97"}},[a._v("1.2.3 Queue(消息队列)")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#124-broker%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E6%9C%8D%E5%8A%A1%E8%8A%82%E7%82%B9"}},[a._v("1.2.4 Broker（消息中间件的服务节点）")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#125-exchange-types%E4%BA%A4%E6%8D%A2%E5%99%A8%E7%B1%BB%E5%9E%8B"}},[a._v("1.2.5 Exchange Types(交换器类型)")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E2%91%A0-fanout"}},[a._v("① fanout")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%E2%91%A1-direct"}},[a._v("② direct")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%E2%91%A2-topic"}},[a._v("③ topic")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%E2%91%A3-headers%E4%B8%8D%E6%8E%A8%E8%8D%90"}},[a._v("④ headers(不推荐)")])])])])])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%E4%BA%8C-%E5%AE%89%E8%A3%85-rabbitmq"}},[a._v("二 安装 RabbitMq")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#21-%E5%AE%89%E8%A3%85-erlang"}},[a._v("2.1 安装 erlang")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#22-%E5%AE%89%E8%A3%85-rabbitmq"}},[a._v("2.2 安装 RabbitMQ")])])])])])])]),a._v(" "),e("h1",{attrs:{id:"一文搞懂-rabbitmq-的重要概念以及安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一文搞懂-rabbitmq-的重要概念以及安装"}},[a._v("#")]),a._v(" 一文搞懂 RabbitMQ 的重要概念以及安装")]),a._v(" "),e("h2",{attrs:{id:"一-rabbitmq-介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-rabbitmq-介绍"}},[a._v("#")]),a._v(" 一 RabbitMQ 介绍")]),a._v(" "),e("p",[a._v("这部分参考了 《RabbitMQ实战指南》这本书的第 1 章和第 2 章。")]),a._v(" "),e("h3",{attrs:{id:"_1-1-rabbitmq-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-rabbitmq-简介"}},[a._v("#")]),a._v(" 1.1 RabbitMQ 简介")]),a._v(" "),e("p",[a._v("RabbitMQ 是采用 Erlang 语言实现 AMQP(Advanced Message Queuing Protocol，高级消息队列协议）的消息中间件，它最初起源于金融系统，用于在分布式系统中存储转发消息。")]),a._v(" "),e("p",[a._v("RabbitMQ 发展到今天，被越来越多的人认可，这和它在易用性、扩展性、可靠性和高可用性等方面的卓著表现是分不开的。RabbitMQ 的具体特点可以概括为以下几点：")]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("可靠性：")]),a._v(" RabbitMQ使用一些机制来保证消息的可靠性，如持久化、传输确认及发布确认等。")]),a._v(" "),e("li",[e("strong",[a._v("灵活的路由：")]),a._v(" 在消息进入队列之前，通过交换器来路由消息。对于典型的路由功能，RabbitMQ 己经提供了一些内置的交换器来实现。针对更复杂的路由功能，可以将多个交换器绑定在一起，也可以通过插件机制来实现自己的交换器。这个后面会在我们将 RabbitMQ 核心概念的时候详细介绍到。")]),a._v(" "),e("li",[e("strong",[a._v("扩展性：")]),a._v(" 多个RabbitMQ节点可以组成一个集群，也可以根据实际业务情况动态地扩展集群中节点。")]),a._v(" "),e("li",[e("strong",[a._v("高可用性：")]),a._v(" 队列可以在集群中的机器上设置镜像，使得在部分节点出现问题的情况下队列仍然可用。")]),a._v(" "),e("li",[e("strong",[a._v("支持多种协议：")]),a._v(" RabbitMQ 除了原生支持 AMQP 协议，还支持 STOMP、MQTT 等多种消息中间件协议。")]),a._v(" "),e("li",[e("strong",[a._v("多语言客户端：")]),a._v(" RabbitMQ几乎支持所有常用语言，比如 Java、Python、Ruby、PHP、C#、JavaScript等。")]),a._v(" "),e("li",[e("strong",[a._v("易用的管理界面：")]),a._v(" RabbitMQ提供了一个易用的用户界面，使得用户可以监控和管理消息、集群中的节点等。在安装 RabbitMQ 的时候会介绍到，安装好 RabbitMQ 就自带管理界面。")]),a._v(" "),e("li",[e("strong",[a._v("插件机制：")]),a._v(" RabbitMQ 提供了许多插件，以实现从多方面进行扩展，当然也可以编写自己的插件。感觉这个有点类似 Dubbo 的 SPI机制。")])]),a._v(" "),e("h3",{attrs:{id:"_1-2-rabbitmq-核心概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-rabbitmq-核心概念"}},[a._v("#")]),a._v(" 1.2 RabbitMQ 核心概念")]),a._v(" "),e("p",[a._v("RabbitMQ 整体上是一个生产者与消费者模型，主要负责接收、存储和转发消息。可以把消息传递的过程想象成：当你将一个包裹送到邮局，邮局会暂存并最终将邮件通过邮递员送到收件人的手上，RabbitMQ就好比由邮局、邮箱和邮递员组成的一个系统。从计算机术语层面来说，RabbitMQ 模型更像是一种交换机模型。")]),a._v(" "),e("p",[a._v("下面再来看看图1—— RabbitMQ 的整体模型架构。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(8130),alt:"1608655196230"}})]),a._v(" "),e("p",[a._v("下面我会一一介绍上图中的一些概念。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-1-producer-生产者-和-consumer-消费者"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-producer-生产者-和-consumer-消费者"}},[a._v("#")]),a._v(" 1.2.1 Producer(生产者) 和 Consumer(消费者)")]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("Producer(生产者)")]),a._v(" :生产消息的一方（邮件投递者）")]),a._v(" "),e("li",[e("strong",[a._v("Consumer(消费者)")]),a._v(" :消费消息的一方（邮件收件人）")])]),a._v(" "),e("p",[a._v("消息一般由 2 部分组成："),e("strong",[a._v("消息头")]),a._v("（或者说是标签 Label）和 "),e("strong",[a._v("消息体")]),a._v("。消息体也可以称为 payLoad ,消息体是不透明的，而消息头则由一系列的可选属性组成，这些属性包括 routing-key（路由键）、priority（相对于其他消息的优先权）、delivery-mode（指出该消息可能需要持久性存储）等。生产者把消息交由 RabbitMQ 后，RabbitMQ 会根据消息头把消息发送给感兴趣的 Consumer(消费者)。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-2-exchange-交换器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-exchange-交换器"}},[a._v("#")]),a._v(" 1.2.2 Exchange(交换器)")]),a._v(" "),e("p",[a._v("在 RabbitMQ 中，消息并不是直接被投递到 "),e("strong",[a._v("Queue(消息队列)")]),a._v(" 中的，中间还必须经过 "),e("strong",[a._v("Exchange(交换器)")]),a._v(" 这一层，"),e("strong",[a._v("Exchange(交换器)")]),a._v(" 会把我们的消息分配到对应的 "),e("strong",[a._v("Queue(消息队列)")]),a._v(" 中。")]),a._v(" "),e("p",[e("strong",[a._v("Exchange(交换器)")]),a._v(" 用来接收生产者发送的消息并将这些消息路由给服务器中的队列中，如果路由不到，或许会返回给 "),e("strong",[a._v("Producer(生产者)")]),a._v(" ，或许会被直接丢弃掉 。这里可以将RabbitMQ中的交换器看作一个简单的实体。")]),a._v(" "),e("p",[e("strong",[a._v("RabbitMQ 的 Exchange(交换器) 有4种类型，不同的类型对应着不同的路由策略")]),a._v("："),e("strong",[a._v("direct(默认)")]),a._v("，"),e("strong",[a._v("fanout")]),a._v(", "),e("strong",[a._v("topic")]),a._v(", 和 "),e("strong",[a._v("headers")]),a._v("，不同类型的Exchange转发消息的策略有所区别。这个会在介绍 "),e("strong",[a._v("Exchange Types(交换器类型)")]),a._v(" 的时候介绍到。")]),a._v(" "),e("p",[a._v("Exchange(交换器) 示意图如下：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(8131),alt:"1608655203135"}})]),a._v(" "),e("p",[a._v("生产者将消息发给交换器的时候，一般会指定一个 "),e("strong",[a._v("RoutingKey(路由键)")]),a._v("，用来指定这个消息的路由规则，而这个 "),e("strong",[a._v("RoutingKey 需要与交换器类型和绑定键(BindingKey)联合使用才能最终生效")]),a._v("。")]),a._v(" "),e("p",[a._v("RabbitMQ 中通过 "),e("strong",[a._v("Binding(绑定)")]),a._v(" 将 "),e("strong",[a._v("Exchange(交换器)")]),a._v(" 与 "),e("strong",[a._v("Queue(消息队列)")]),a._v(" 关联起来，在绑定的时候一般会指定一个 "),e("strong",[a._v("BindingKey(绑定建)")]),a._v(" ,这样 RabbitMQ 就知道如何正确将消息路由到队列了,如下图所示。一个绑定就是基于路由键将交换器和消息队列连接起来的路由规则，所以可以将交换器理解成一个由绑定构成的路由表。Exchange 和 Queue 的绑定可以是多对多的关系。")]),a._v(" "),e("p",[a._v("Binding(绑定) 示意图：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(8132),alt:"1608655208847"}})]),a._v(" "),e("p",[a._v("生产者将消息发送给交换器时，需要一个RoutingKey,当 BindingKey 和 RoutingKey 相匹配时，消息会被路由到对应的队列中。在绑定多个队列到同一个交换器的时候，这些绑定允许使用相同的 BindingKey。BindingKey 并不是在所有的情况下都生效，它依赖于交换器类型，比如fanout类型的交换器就会无视，而是将消息路由到所有绑定到该交换器的队列中。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-3-queue-消息队列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-queue-消息队列"}},[a._v("#")]),a._v(" 1.2.3 Queue(消息队列)")]),a._v(" "),e("p",[e("strong",[a._v("Queue(消息队列)")]),a._v(" 用来保存消息直到发送给消费者。它是消息的容器，也是消息的终点。一个消息可投入一个或多个队列。消息一直在队列里面，等待消费者连接到这个队列将其取走。")]),a._v(" "),e("p",[e("strong",[a._v("RabbitMQ")]),a._v(" 中消息只能存储在 "),e("strong",[a._v("队列")]),a._v(" 中，这一点和 "),e("strong",[a._v("Kafka")]),a._v(" 这种消息中间件相反。Kafka 将消息存储在 "),e("strong",[a._v("topic（主题）")]),a._v(" 这个逻辑层面，而相对应的队列逻辑只是topic实际存储文件中的位移标识。 RabbitMQ 的生产者生产消息并最终投递到队列中，消费者可以从队列中获取消息并消费。")]),a._v(" "),e("p",[e("strong",[a._v("多个消费者可以订阅同一个队列")]),a._v("，这时队列中的消息会被平均分摊（Round-Robin，即轮询）给多个消费者进行处理，而不是每个消费者都收到所有的消息并处理，这样避免的消息被重复消费。")]),a._v(" "),e("p",[e("strong",[a._v("RabbitMQ")]),a._v(" 不支持队列层面的广播消费,如果有广播消费的需求，需要在其上进行二次开发,这样会很麻烦，不建议这样做。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-4-broker-消息中间件的服务节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-broker-消息中间件的服务节点"}},[a._v("#")]),a._v(" 1.2.4 Broker（消息中间件的服务节点）")]),a._v(" "),e("p",[a._v("对于 RabbitMQ 来说，一个 RabbitMQ Broker 可以简单地看作一个 RabbitMQ 服务节点，或者RabbitMQ服务实例。大多数情况下也可以将一个 RabbitMQ Broker 看作一台 RabbitMQ 服务器。")]),a._v(" "),e("p",[a._v("下图展示了生产者将消息存入 RabbitMQ Broker,以及消费者从Broker中消费数据的整个流程。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(8133),alt:"1608655216927"}})]),a._v(" "),e("p",[a._v("这样图1中的一些关于 RabbitMQ 的基本概念我们就介绍完毕了，下面再来介绍一下 "),e("strong",[a._v("Exchange Types(交换器类型)")]),a._v(" 。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-5-exchange-types-交换器类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-5-exchange-types-交换器类型"}},[a._v("#")]),a._v(" 1.2.5 Exchange Types(交换器类型)")]),a._v(" "),e("p",[a._v("RabbitMQ 常用的 Exchange Type 有 "),e("strong",[a._v("fanout")]),a._v("、"),e("strong",[a._v("direct")]),a._v("、"),e("strong",[a._v("topic")]),a._v("、"),e("strong",[a._v("headers")]),a._v(" 这四种（AMQP规范里还提到两种 Exchange Type，分别为 system 与 自定义，这里不予以描述）。")]),a._v(" "),e("h5",{attrs:{id:"_1-fanout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-fanout"}},[a._v("#")]),a._v(" ① fanout")]),a._v(" "),e("p",[a._v("fanout 类型的Exchange路由规则非常简单，它会把所有发送到该Exchange的消息路由到所有与它绑定的Queue中，不需要做任何判断操作，所以 fanout 类型是所有的交换机类型里面速度最快的。fanout 类型常用来广播消息。")]),a._v(" "),e("h5",{attrs:{id:"_2-direct"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-direct"}},[a._v("#")]),a._v(" ② direct")]),a._v(" "),e("p",[a._v("direct 类型的Exchange路由规则也很简单，它会把消息路由到那些 Bindingkey 与 RoutingKey 完全匹配的 Queue 中。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(8134),alt:"1608655226109"}})]),a._v(" "),e("p",[a._v('以上图为例，如果发送消息的时候设置路由键为“warning”,那么消息会路由到 Queue1 和 Queue2。如果在发送消息的时候设置路由键为"Info”或者"debug”，消息只会路由到Queue2。如果以其他的路由键发送消息，则消息不会路由到这两个队列中。')]),a._v(" "),e("p",[a._v("direct 类型常用在处理有优先级的任务，根据任务的优先级把消息发送到对应的队列，这样可以指派更多的资源去处理高优先级的队列。")]),a._v(" "),e("h5",{attrs:{id:"_3-topic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-topic"}},[a._v("#")]),a._v(" ③ topic")]),a._v(" "),e("p",[a._v("前面讲到direct类型的交换器路由规则是完全匹配 BindingKey 和 RoutingKey ，但是这种严格的匹配方式在很多情况下不能满足实际业务的需求。topic类型的交换器在匹配规则上进行了扩展，它与 direct 类型的交换器相似，也是将消息路由到 BindingKey 和 RoutingKey 相匹配的队列中，但这里的匹配规则有些不同，它约定：")]),a._v(" "),e("ul",[e("li",[a._v("RoutingKey 为一个点号“．”分隔的字符串（被点号“．”分隔开的每一段独立的字符串称为一个单词），如 “com.rabbitmq.client”、“java.util.concurrent”、“com.hidden.client”;")]),a._v(" "),e("li",[a._v("BindingKey 和 RoutingKey 一样也是点号“．”分隔的字符串；")]),a._v(" "),e("li",[a._v("BindingKey 中可以存在两种特殊字符串“*”和“#”，用于做模糊匹配，其中“#”用于匹配一个单词，“#”用于匹配多规格单词(可以是零个)。")])]),a._v(" "),e("p",[e("img",{attrs:{src:s(8135),alt:"1608655233578"}})]),a._v(" "),e("p",[a._v("以上图为例：")]),a._v(" "),e("ul",[e("li",[a._v("路由键为 “com.rabbitmq.client” 的消息会同时路由到 Queuel 和 Queue2;")]),a._v(" "),e("li",[a._v("路由键为 “com.hidden.client” 的消息只会路由到 Queue2 中；")]),a._v(" "),e("li",[a._v("路由键为 “com.hidden.demo” 的消息只会路由到 Queue2 中；")]),a._v(" "),e("li",[a._v("路由键为 “java.rabbitmq.demo” 的消息只会路由到Queuel中；")]),a._v(" "),e("li",[a._v("路由键为 “java.util.concurrent” 的消息将会被丢弃或者返回给生产者（需要设置 mandatory 参数），因为它没有匹配任何路由键。")])]),a._v(" "),e("h5",{attrs:{id:"_4-headers-不推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-headers-不推荐"}},[a._v("#")]),a._v(" ④ headers(不推荐)")]),a._v(" "),e("p",[a._v("headers 类型的交换器不依赖于路由键的匹配规则来路由消息，而是根据发送的消息内容中的 headers 属性进行匹配。在绑定队列和交换器时制定一组键值对，当发送消息到交换器时，RabbitMQ会获取到该消息的 headers（也是一个键值对的形式)'对比其中的键值对是否完全匹配队列和交换器绑定时指定的键值对，如果完全匹配则消息会路由到该队列，否则不会路由到该队列。headers 类型的交换器性能会很差，而且也不实用，基本上不会看到它的存在。")]),a._v(" "),e("h2",{attrs:{id:"二-安装-rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-安装-rabbitmq"}},[a._v("#")]),a._v(" 二 安装 RabbitMq")]),a._v(" "),e("p",[a._v("通过 Docker 安装非常方便，只需要几条命令就好了，我这里是只说一下常规安装方法。")]),a._v(" "),e("p",[a._v("前面提到了 RabbitMQ 是由 Erlang语言编写的，也正因如此，在安装RabbitMQ 之前需要安装 Erlang。")]),a._v(" "),e("h3",{attrs:{id:"_2-1-安装-erlang"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装-erlang"}},[a._v("#")]),a._v(" 2.1 安装 erlang")]),a._v(" "),e("p",[e("strong",[a._v("1 下载 erlang 安装包")])]),a._v(" "),e("p",[a._v("在官网下载然后上传到 Linux 上或者直接使用下面的命令下载对应的版本。")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb local"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#wget http://erlang.org/download/otp_src_19.3.tar.gz")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("erlang 官网下载："),e("a",{attrs:{href:"http://www.erlang.org/downloads",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://www.erlang.org/downloads"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("strong",[a._v("2 解压 erlang 安装包")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb local"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#tar -xvzf otp_src_19.3.tar.gz")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("3 删除 erlang 安装包")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb local"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#rm -rf otp_src_19.3.tar.gz")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("4 安装 erlang 的依赖工具")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb local"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#yum -y install make gcc gcc-c++ kernel-devel m4 ncurses-devel openssl-devel unixODBC-devel")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("5 进入erlang 安装包解压文件对 erlang 进行安装环境的配置")])]),a._v(" "),e("p",[a._v("新建一个文件夹")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb local"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mkdir erlang")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("对 erlang 进行安装环境的配置")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb otp_src_19.3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ")]),a._v("\n./configure --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/erlang --without-javac\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("strong",[a._v("6 编译安装")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb otp_src_19.3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("strong",[a._v("7 验证一下 erlang 是否安装成功了")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb otp_src_19.3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ./bin/erl")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("运行下面的语句输出“hello world”")]),a._v(" "),e("div",{staticClass:"language-erlang line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-erlang"}},[e("code",[a._v(" "),e("span",{pre:!0,attrs:{class:"token atom"}},[a._v("io")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"hello world~n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:s(8136),alt:"1608655245880"}})]),a._v(" "),e("p",[a._v("大功告成，我们的 erlang 已经安装完成。")]),a._v(" "),e("p",[e("strong",[a._v("8 配置  erlang 环境变量")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb etc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim profile")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("追加下列环境变量到文件末尾")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#erlang")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ERL_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/erlang\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ERL_HOME")]),a._v("/bin:"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" ERL_HOME "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("运行下列命令使配置文件"),e("code",[a._v("profile")]),a._v("生效")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb etc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# source /etc/profile")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("输入 erl 查看 erlang 环境变量是否配置正确")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb etc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# erl")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:s(8137),alt:"1608655261299"}})]),a._v(" "),e("h3",{attrs:{id:"_2-2-安装-rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-安装-rabbitmq"}},[a._v("#")]),a._v(" 2.2 安装 RabbitMQ")]),a._v(" "),e("p",[e("strong",[a._v("1. 下载rpm")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://www.rabbitmq.com/releases/rabbitmq-server/v3.6.8/rabbitmq-server-3.6.8-1.el7.noarch.rpm\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("或者直接在官网下载")]),a._v(" "),e("p",[a._v("https://www.rabbitmq.com/install-rpm.html"),e("a",{attrs:{href:"https://www.rabbitmq.com/install-rpm.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("enter link description here"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("strong",[a._v("2. 安装rpm")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" --import https://www.rabbitmq.com/rabbitmq-release-signing-key.asc\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("紧接着执行：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" rabbitmq-server-3.6.8-1.el7.noarch.rpm\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v('中途需要你输入"y"才能继续安装。')]),a._v(" "),e("p",[e("strong",[a._v("3 开启 web 管理插件")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("rabbitmq-plugins "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" rabbitmq_management\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("4 设置开机启动")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("chkconfig")]),a._v(" rabbitmq-server on\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("4. 启动服务")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" rabbitmq-server start\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("5. 查看服务状态")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" rabbitmq-server status\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("6. 访问 RabbitMQ 控制台")])]),a._v(" "),e("p",[a._v("浏览器访问：http://你的ip地址:15672/")]),a._v(" "),e("p",[a._v("默认用户名和密码： guest/guest;但是需要注意的是：guestuest用户只是被容许从localhost访问。官网文档描述如下：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("“guest” user can only connect via localhost\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("解决远程访问 RabbitMQ 远程访问密码错误")])]),a._v(" "),e("p",[a._v("新建用户并授权")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# rabbitmqctl add_user root root")]),a._v("\nCreating user "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"root"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# rabbitmqctl set_user_tags root administrator")]),a._v("\n\nSetting tags "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" user "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"root"')]),a._v(" to "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("administrator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@SnailClimb rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# rabbitmqctl set_permissions -p / root ".*" ".*" ".*"')]),a._v("\nSetting permissions "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" user "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"root"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" vhost "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])]),e("p",[a._v("再次访问:http://你的ip地址:15672/ ,输入用户名和密码：root root")]),a._v(" "),e("p",[e("img",{attrs:{src:s(8138),alt:"1608655274030"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);