(window.webpackJsonp=window.webpackJsonp||[]).push([[325],{4875:function(t,s,e){t.exports=e.p+"assets/img/1676126885676.69c9cc96.png"},4876:function(t,s,e){t.exports=e.p+"assets/img/1676127514293.be6ff7db.png"},4877:function(t,s,e){t.exports=e.p+"assets/img/1676127603128.addb24ec.png"},4878:function(t,s,e){t.exports=e.p+"assets/img/1676127680368.b7ec5ec3.png"},4879:function(t,s,e){t.exports=e.p+"assets/img/1676128198377.6b0b44be.png"},4880:function(t,s,e){t.exports=e.p+"assets/img/1676128270470.586f7fab.png"},4881:function(t,s,e){t.exports=e.p+"assets/img/1676128448483.7ba6a7d5.png"},4882:function(t,s,e){t.exports=e.p+"assets/img/1676128815321.53e1ea0f.png"},4883:function(t,s,e){t.exports=e.p+"assets/img/1676128915704.f29e5c4d.png"},8643:function(t,s,e){"use strict";e.r(s);var a=e(5),v=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_7、流程挂起与激活"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、流程挂起与激活"}},[t._v("#")]),t._v(" 7、流程挂起与激活")]),t._v(" "),a("p",[t._v("​\t\t重要的是我们必须理解这些概念 --比如流程定义 和 流程实例")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4875),alt:"1676126885676"}})]),t._v(" "),a("h4",{attrs:{id:"_1、启动流程加一个businesskey"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、启动流程加一个businesskey"}},[t._v("#")]),t._v(" 1、启动流程加一个businessKey")]),t._v(" "),a("p",[t._v("​\t\t\t什么是businessKey -- 表示业务的key")]),t._v(" "),a("p",[t._v("​\t\t比如我们整个审核的业务流程是比较封闭的，但是往往我们去和 业务系统合并的时候 需要关联很多的业务信息，比如请假单，那么请假单肯定还有一些别的业务上的信息--比如请假理由等等，那么就肯定需要一些业务字段，这些字段怎么和activiti的流程合到一起呢---就可以通过这个businessKey")]),t._v(" "),a("p",[t._v("​\t\tbusinessKey其实相当于Activiti工作流的一个扩展，我们可以在流程启动时候加这么一个key")]),t._v(" "),a("p",[t._v("​\t比如 这个1001就是businessKey")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4876),alt:"1676127514293"}})]),t._v(" "),a("p",[t._v("​\t我们看一下这个接口方法：")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4877),alt:"1676127603128"}})]),t._v(" "),a("p",[t._v("还有这种带有变量的接口 ---这个就是我们后期说的 流程的变量")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4878),alt:"1676127680368"}})]),t._v(" "),a("p",[t._v("​\t\t那么以后我们就可以 通过流程实例--获取到businessKey -- 然后关联到业务的信息了")]),t._v(" "),a("p",[t._v("​\t\t注意：这个businessKey 在数据库中的默认长度是255 --所以不要传入的内容超出限制")]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("h4",{attrs:{id:"_2、挂起和激活流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、挂起和激活流程"}},[t._v("#")]),t._v(" 2、挂起和激活流程")]),t._v(" "),a("p",[t._v("​\t\t\t场景：比如我们现在 月底 需要暂停 一些业务流程，进行统计等等，就可以先将流程挂起。")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4879),alt:"1676128198377"}})]),t._v(" "),a("p",[t._v("​\t挂起和激活操作代码demo")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4880),alt:"1676128270470"}})]),t._v(" "),a("p",[t._v("​\t如果我们去处理挂起的任务的话是会报错的")]),t._v(" "),a("p",[t._v("​\t\t\t提示：不能够执行一个挂起的任务")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4881),alt:"1676128448483"}})]),t._v(" "),a("p",[t._v("​\t我们刚刚是挂起了 一个流程定义 -- 那么这样整个 请假流程 就全部不能运转了。")]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("p",[t._v("​\t如果我们需要停止某个 流程中的一个流程 -- 那么也可以 ---流程实例 挂起")]),t._v(" "),a("p",[t._v("​\t\t先通过流程实例ID 找到流程实例")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4882),alt:"1676128815321"}})]),t._v(" "),a("p",[t._v("​\t\t然后获取实例的挂起状态 -- 挂起/激活")]),t._v(" "),a("p",[t._v("​\t\t通过实例ID进行挂起或者激活")]),t._v(" "),a("p",[a("img",{attrs:{src:e(4883),alt:"1676128915704"}})]),t._v(" "),a("p",[t._v("注意：挂起整个流程定义 是使用的 repositoryService， 挂起某个流程实例 使用的是runtimeService，那么我们考虑任务是不是也是可以挂起的呢 -- -- 是否使用TaskService挂起呢 ---不可以，没有挂起方法。")]),t._v(" "),a("p",[t._v("https://www.bilibili.com/video/BV1Ya411z7kW/?p=7&vd_source=243ad3a9b323313aa1441e5dd414a4ef")])])}),[],!1,null,null,null);s.default=v.exports}}]);