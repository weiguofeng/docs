(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{3094:function(t,s,p){t.exports=p.p+"assets/img/1640770014686.d2140ce5.png"},3095:function(t,s,p){t.exports=p.p+"assets/img/1640770192821.dde316a6.png"},3096:function(t,s,p){t.exports=p.p+"assets/img/1640770335737.54c38d8e.png"},3097:function(t,s,p){t.exports=p.p+"assets/img/1640829711866.b4c2f5b6.png"},3098:function(t,s,p){t.exports=p.p+"assets/img/1640829764915.4c7919f1.png"},3099:function(t,s,p){t.exports=p.p+"assets/img/1640829899448.604b34a0.png"},3100:function(t,s,p){t.exports=p.p+"assets/img/1640829970501.5939b06b.png"},3101:function(t,s,p){t.exports=p.p+"assets/img/1640830022466.02a62ab8.png"},3102:function(t,s,p){t.exports=p.p+"assets/img/1640830482572.4315a1db.png"},3103:function(t,s,p){t.exports=p.p+"assets/img/1640830736601.a0318b7e.png"},3104:function(t,s,p){t.exports=p.p+"assets/img/1640830912911.ef73df63.png"},3105:function(t,s,p){t.exports=p.p+"assets/img/1640830943666.79ac9d98.png"},3106:function(t,s,p){t.exports=p.p+"assets/img/1640830962165.42b5afd9.png"},3107:function(t,s,p){t.exports=p.p+"assets/img/1640833150635.a9dd77ba.png"},3108:function(t,s,p){t.exports=p.p+"assets/img/1640833212616.7680ae02.png"},3109:function(t,s,p){t.exports=p.p+"assets/img/1640833309059.8496f1e2.png"},3110:function(t,s,p){t.exports=p.p+"assets/img/1640833721137.1c3a61b2.png"},3111:function(t,s,p){t.exports=p.p+"assets/img/1640834333815.3a84bac5.png"},3112:function(t,s,p){t.exports=p.p+"assets/img/1640843346321.df78cddc.png"},3113:function(t,s,p){t.exports=p.p+"assets/img/1640843407013.57918e68.png"},9385:function(t,s,p){"use strict";p.r(s);var a=p(5),_=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_3-发布管理-自定义hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-发布管理-自定义hooks"}},[t._v("#")]),t._v(" 3.发布管理-自定义hooks")]),t._v(" "),a("p",[t._v("​\t\t因为我们的发布管理的内容的 待发布 已发布 已下线 这三个页面基本结构差不多")]),t._v(" "),a("p",[t._v("这样我们就可以考虑使用hooks了，把他们的核心逻辑抽出来，放入自定义hooks中--这样我们就可以更快的把这几个页面给划分出来")]),t._v(" "),a("p",[t._v("我们来创建一个usePublish这么个hooks---注意这个不是个组件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3094),alt:"1640770014686"}})]),t._v(" "),a("p",[t._v("我们把一样的类似代码捡走，放入到我们的自定义hooks中 usePublish")]),t._v(" "),a("p",[t._v("​\t\t然后我们把dataSource给return")]),t._v(" "),a("p",[t._v("​\t\t这样我们的hooks基本就差不多了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3095),alt:"1640770192821"}})]),t._v(" "),a("p",[t._v("我们原来的内容只需要将 dataSource 需要的数据结构出来就ok了")]),t._v(" "),a("p",[t._v("​\t\t这样不就非常的简洁了代码")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3096),alt:"1640770335737"}})]),t._v(" "),a("p",[t._v("各个请求的数据不一致需要传入的状态不同--我们就设置--传入一个参数")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3097),alt:"1640829711866"}})]),t._v(" "),a("p",[t._v("我们给他传入 2---》表示已发布的状态")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3098),alt:"1640829764915"}})]),t._v(" "),a("p",[t._v("那么同理--我们也修改一下unpublish 待发布的组件--传入1状态")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3099),alt:"1640829899448"}})]),t._v(" "),a("p",[t._v("已线下的也一样")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3100),alt:"1640829970501"}})]),t._v(" "),a("p",[t._v("页面效果：没有问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3101),alt:"1640830022466"}})]),t._v(" "),a("h4",{attrs:{id:"还有个问题就是右侧的操作-是有区别的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#还有个问题就是右侧的操作-是有区别的"}},[t._v("#")]),t._v(" 还有个问题就是右侧的操作--是有区别的")]),t._v(" "),a("ul",[a("li",[t._v("待发布的---可以发布操作")]),t._v(" "),a("li",[t._v("已发布的可以下线操作")]),t._v(" "),a("li",[t._v("已下线的可以删除操作--或者是恢复上线")])]),t._v(" "),a("p",[t._v("现在我们使用的是同一个组件--那么我们如何来自定义操作按钮呢")]),t._v(" "),a("p",[t._v("​\t在父组件中给子组件传入 告诉子组件要显示什么")]),t._v(" "),a("p",[t._v("​\t比如传入button")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3102),alt:"1640830482572"}})]),t._v(" "),a("p",[t._v("比如在待发布页面--传入要发布按钮")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3103),alt:"1640830736601"}})]),t._v(" "),a("p",[t._v("在子组件中，Table的列设置为从组件传入获取的按钮")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3104),alt:"1640830912911"}})]),t._v(" "),a("p",[t._v("查看效果:  没有问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3105),alt:"1640830943666"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(3106),alt:"1640830962165"}})]),t._v(" "),a("h4",{attrs:{id:"点击按钮的时候如何操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#点击按钮的时候如何操作"}},[t._v("#")]),t._v(" 点击按钮的时候如何操作")]),t._v(" "),a("p",[t._v("​\t我们还是把他放在hooks中，先定义三个方法")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3107),alt:"1640833150635"}})]),t._v(" "),a("p",[t._v("并且要把这三个方法导出")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3108),alt:"1640833212616"}})]),t._v(" "),a("p",[t._v("​\t然后我们在组件中结构出来-使用的时候调用就可以了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3109),alt:"1640833309059"}})]),t._v(" "),a("p",[t._v("​\t那么我点击按钮的时候，点击的是那条呢？我如何能将点击的这个按钮对象传给父组件这个按钮中呢")]),t._v(" "),a("p",[t._v("​")]),t._v(" "),a("p",[t._v("​\t我们使用函数式写法--将id获取过来，将来在处理事件的时候使用这个id，回调的id")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3110),alt:"1640833721137"}})]),t._v(" "),a("p",[t._v("然后在 子组件中回调传回id")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3111),alt:"1640834333815"}})]),t._v(" "),a("p",[t._v("然后我们在hooks中看能不能获取到id的值--如果可以获取到，那我们执行对应的流程就可以了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3112),alt:"1640843346321"}})]),t._v(" "),a("p",[t._v("可以获取到对应的id")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3113),alt:"1640843407013"}})]),t._v(" "),a("p",[t._v("https://www.bilibili.com/video/BV13v411H74b?p=53&spm_id_from=pageDriver")])])}),[],!1,null,null,null);s.default=_.exports}}]);