(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{6027:function(t,a,s){t.exports=s.p+"assets/img/1697945339578.de541bed.png"},6028:function(t,a,s){t.exports=s.p+"assets/img/1697945428809.51fe7ea7.png"},6029:function(t,a,s){t.exports=s.p+"assets/img/1697945531584.b933b338.png"},6030:function(t,a,s){t.exports=s.p+"assets/img/1697945643616.59198ded.png"},6031:function(t,a,s){t.exports=s.p+"assets/img/1697945684697.e938a412.png"},6032:function(t,a,s){t.exports=s.p+"assets/img/1697945816007.fe3e14c1.png"},6033:function(t,a,s){t.exports=s.p+"assets/img/1697946308879.441d580c.png"},6034:function(t,a,s){t.exports=s.p+"assets/img/1697946376349.a1d4b1d0.png"},6035:function(t,a,s){t.exports=s.p+"assets/img/1697946469656.69ed6444.png"},6036:function(t,a,s){t.exports=s.p+"assets/img/1700274950418.75f6a58c.png"},6037:function(t,a,s){t.exports=s.p+"assets/img/1700275029715.b969ee3f.png"},6038:function(t,a,s){t.exports=s.p+"assets/img/1700275487515.4e06ed80.png"},6039:function(t,a,s){t.exports=s.p+"assets/img/1700275528975.b8e8d07d.png"},6040:function(t,a,s){t.exports=s.p+"assets/img/1700275977930.f026215e.png"},6041:function(t,a,s){t.exports=s.p+"assets/img/1700276925384.aaac89a3.png"},6042:function(t,a,s){t.exports=s.p+"assets/img/1700277034113.e7a2beef.png"},6043:function(t,a,s){t.exports=s.p+"assets/img/1700277143160.c6523047.png"},6044:function(t,a,s){t.exports=s.p+"assets/img/1700277188658.6db20dfb.png"},6045:function(t,a,s){t.exports=s.p+"assets/img/1700277245788.01d816ec.png"},6046:function(t,a,s){t.exports=s.p+"assets/img/1700277390904.70eb86e7.png"},8837:function(t,a,s){"use strict";s.r(a);var e=s(5),_=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_8、mybatisplus常用注解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8、mybatisplus常用注解"}},[t._v("#")]),t._v(" 8、mybatisPlus常用注解")]),t._v(" "),e("p",[t._v("​\t我们之前并没有指定mybatis要操作的表，为什么可以找到对应的表呢，我们之前看框架结构和实现就能明白，mybatis要操作的表由 实体 所决定，实体类进行和数据库表的匹配，和字段进行匹配，从而找到的表")]),t._v(" "),e("p",[t._v("​\t比如我们现在数据库的表不叫user，叫t_user")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6027),alt:"1697945339578"}})]),t._v(" "),e("p",[t._v("​\t然后我们执行一个添加数据的方法--报错")]),t._v(" "),e("p",[t._v("​\t\t提示找不到user这个表")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6028),alt:"1697945428809"}})]),t._v(" "),e("p",[t._v("我们使用的表就是由实体决定了，是由代码中mapper的泛型T决定的")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6029),alt:"1697945531584"}})]),t._v(" "),e("h3",{attrs:{id:"_1、-table"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、-table"}},[t._v("#")]),t._v(" 1、@Table")]),t._v(" "),e("h4",{attrs:{id:"解决方案-2种"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-2种"}},[t._v("#")]),t._v(" 解决方案 2种")]),t._v(" "),e("h4",{attrs:{id:"_1、加入注解-tablename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、加入注解-tablename"}},[t._v("#")]),t._v(" 1、加入注解@TableName")]),t._v(" "),e("p",[t._v("​\t"),e("img",{attrs:{src:s(6030),alt:"1697945643616"}})]),t._v(" "),e("p",[t._v("​\t\t再次测试数据可以正常插入了")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6031),alt:"1697945684697"}})]),t._v(" "),e("h4",{attrs:{id:"_2、第二种-全局配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、第二种-全局配置"}},[t._v("#")]),t._v(" 2、第二种-全局配置")]),t._v(" "),e("p",[t._v("​\t\t\t全局配置前缀")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6032),alt:"1697945816007"}})]),t._v(" "),e("h3",{attrs:{id:"_2、-tableid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、-tableid"}},[t._v("#")]),t._v(" 2、@TableId")]),t._v(" "),e("p",[t._v("​\t \t\t\tmybatis默认是将id作为主键")]),t._v(" "),e("p",[t._v("​\t\t\t如果是表的主键 不是id -插入数据的时候就有问题了")]),t._v(" "),e("p",[t._v("​\t\t没有给uid赋值，所以报错 uid没有默认值")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6033),alt:"1697946308879"}})]),t._v(" "),e("p",[t._v("​\t我们可以通过@TableId指定id，在属性上添加")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6034),alt:"1697946376349"}})]),t._v(" "),e("p",[t._v("​\t测试插入数据 -- uid已经作为主键了")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6035),alt:"1697946469656"}})]),t._v(" "),e("p",[t._v("https://www.bilibili.com/video/BV12R4y157Be/?p=22&spm_id_from=pageDriver&vd_source=243ad3a9b323313aa1441e5dd414a4ef")]),t._v(" "),e("h3",{attrs:{id:"_3、-tableid的value属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、-tableid的value属性"}},[t._v("#")]),t._v(" 3、@TableId的value属性")]),t._v(" "),e("p",[t._v("​\t\t\tmybatis默认将id为主键，使用TableId注解是将属性设置为主键")]),t._v(" "),e("p",[t._v("​\t\t如果实体类属性名称和数据库属性匹配不上的情况下，可以使用@Table的Value属性指定数据库的字段名称")]),t._v(" "),e("p",[t._v("​\t比如数据库是uid属性，会报错---在字段列表中没有找到id列")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6036),alt:"1700274950418"}})]),t._v(" "),e("p",[t._v("​\t设置字段名称为uid就可以了")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6037),alt:"1700275029715"}})]),t._v(" "),e("p",[t._v("​\t@TableId的value属性用于指定数据库表字段的主键属性")]),t._v(" "),e("h3",{attrs:{id:"_4、-tableid的type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、-tableid的type"}},[t._v("#")]),t._v(" 4、@TableId的Type")]),t._v(" "),e("p",[t._v("​\t\t\tid默认的主键生成策略是雪花算法")]),t._v(" "),e("p",[t._v("​\t\t比如我们现在不想使用雪花算法，想使用mysql的自动递增，该如何操作呢")]),t._v(" "),e("p",[t._v("​\t\t首先数据库表设置主键为自动递增")]),t._v(" "),e("p",[t._v("​\t\t然后设置@TableId的type属性")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6038),alt:"1700275487515"}})]),t._v(" "),e("p",[e("img",{attrs:{src:s(6039),alt:"1700275528975"}})]),t._v(" "),e("p",[t._v("​\t\t如果我们在代码中设置了id，那么就不会自增了，或者是雪花算法，没有id的情况下会自动生成")]),t._v(" "),e("h3",{attrs:{id:"_5、全局配置主键生成策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、全局配置主键生成策略"}},[t._v("#")]),t._v(" 5、全局配置主键生成策略")]),t._v(" "),e("p",[t._v("​\t可以通过全局配置文件来进行主键的生成策略配置")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6040),alt:"1700275977930"}})]),t._v(" "),e("h3",{attrs:{id:"_6、-tablefield"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、-tablefield"}},[t._v("#")]),t._v(" 6、@TableField")]),t._v(" "),e("p",[t._v("​\t\t字段名称与数据库不一致的情况就可以使用@TableField")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6041),alt:"1700276925384"}})]),t._v(" "),e("h3",{attrs:{id:"_7、-tablelogic-逻辑删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7、-tablelogic-逻辑删除"}},[t._v("#")]),t._v(" 7、@TableLogic 逻辑删除")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6042),alt:"1700277034113"}})]),t._v(" "),e("p",[t._v("​\t设置逻辑删除的字段")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6043),alt:"1700277143160"}})]),t._v(" "),e("p",[t._v("​\t我们进行一个删除的操作--看看有什么效果")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6044),alt:"1700277188658"}})]),t._v(" "),e("p",[t._v("​")]),t._v(" "),e("p",[t._v("​\t我们发现之前的删除功能变为修改了")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6045),alt:"1700277245788"}})]),t._v(" "),e("p",[t._v("​\t\t那么对于我们删除的数据用户是看不到的，我们现在执行查询看看效果")]),t._v(" "),e("p",[t._v("​\t我们发现查询也是查询不到的")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6046),alt:"1700277390904"}})]),t._v(" "),e("p",[t._v("https://www.bilibili.com/video/BV12R4y157Be/?p=28&spm_id_from=pageDriver&vd_source=243ad3a9b323313aa1441e5dd414a4ef")]),t._v(" "),e("p",[t._v("​")])])}),[],!1,null,null,null);a.default=_.exports}}]);