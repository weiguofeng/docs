(window.webpackJsonp=window.webpackJsonp||[]).push([[222],{3231:function(t,s,p){t.exports=p.p+"assets/img/1639841889177.566dd6eb.png"},3232:function(t,s,p){t.exports=p.p+"assets/img/1639842038409.c6962835.png"},3233:function(t,s,p){t.exports=p.p+"assets/img/1639842095600.4020676a.png"},3234:function(t,s,p){t.exports=p.p+"assets/img/1639842428024.82926b7b.png"},3235:function(t,s,p){t.exports=p.p+"assets/img/1639842484984.e47c3b77.png"},3236:function(t,s,p){t.exports=p.p+"assets/img/1639842538232.478864b8.png"},3237:function(t,s,p){t.exports=p.p+"assets/img/1639842589103.4f9502cc.png"},3238:function(t,s,p){t.exports=p.p+"assets/img/1639842650911.cec6f4ef.png"},3239:function(t,s,p){t.exports=p.p+"assets/img/1639843161817.a6f92e88.png"},3240:function(t,s,p){t.exports=p.p+"assets/img/1639843325111.f73d86e6.png"},3241:function(t,s,p){t.exports=p.p+"assets/img/1639843378083.24b9a2aa.png"},3242:function(t,s,p){t.exports=p.p+"assets/img/1639843474528.b31ae124.png"},3243:function(t,s,p){t.exports=p.p+"assets/img/1639843536309.32852c53.png"},3244:function(t,s,p){t.exports=p.p+"assets/img/1639843623380.c4fb0501.png"},9152:function(t,s,p){"use strict";p.r(s);var a=p(5),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_7-路由权限-进度条"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-路由权限-进度条"}},[t._v("#")]),t._v(" 7.路由权限-进度条")]),t._v(" "),a("p",[t._v("我们在使用Antd组件库的时候--点击侧边栏菜单的时候发现人家上面有个进度条的效果")]),t._v(" "),a("p",[t._v("​\t\t有这个进度条的效果确实不错")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3231),alt:"1639841889177"}})]),t._v(" "),a("p",[t._v("我们从npm中找一个nprogress 进度")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3232),alt:"1639842038409"}})]),t._v(" "),a("p",[t._v("使用也很简单 npm install --save nprogress 安装")]),t._v(" "),a("p",[t._v("然后 NProgress.start()是进度条的开始，Nprogress.done是进度条的结束")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3233),alt:"1639842095600"}})]),t._v(" "),a("p",[t._v("我们引入NProgress和样式")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3234),alt:"1639842428024"}})]),t._v(" "),a("p",[t._v("每次在进入创建侧边栏菜单的时候我们就开启进度条")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3235),alt:"1639842484984"}})]),t._v(" "),a("p",[t._v("页面查看效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3236),alt:"1639842538232"}})]),t._v(" "),a("p",[t._v("当页面渲染完成后，然后关闭进度条")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3237),alt:"1639842589103"}})]),t._v(" "),a("p",[t._v("页面查看效果：显示正常--可以正常结束进度条")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3238),alt:"1639842650911"}})]),t._v(" "),a("p",[t._v("我们再进行一下优化---如果加载数据的时候  有个Loading的效果")]),t._v(" "),a("p",[t._v("​\t思路：每次Ajax请求的时候让Loading显示，加载完成Ajax的时候让Loading消失")]),t._v(" "),a("p",[t._v("这样就涉及到Axios的拦截器的调用了--我们在拦截器发请求之前显示Loading")]),t._v(" "),a("p",[t._v("我们新建一个文件http.js然后对Axios进行一个全局操作")]),t._v(" "),a("p",[t._v("​\t\t\t比如设置BaseURL，还有headers头部信息，interceptors拦截器操作")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3239),alt:"1639843161817"}})]),t._v(" "),a("p",[t._v("比如之前的UserList的Axios")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3240),alt:"1639843325111"}})]),t._v(" "),a("p",[t._v("现在我们可以单独使用这个路径就可以了，前面的BaseURL就可以省略掉了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3241),alt:"1639843378083"}})]),t._v(" "),a("p",[t._v("我们将全部的路径全部替换一下--localhost:5000全部替换为空")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3242),alt:"1639843474528"}})]),t._v(" "),a("p",[t._v("发现报错：原因是把http中的baseURL也替换掉了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3243),alt:"1639843536309"}})]),t._v(" "),a("p",[t._v("改回来-刷新页面显示没有问题了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(3244),alt:"1639843623380"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);