(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{6804:function(t,s,p){t.exports=p.p+"assets/img/1656939354540.0505fa40.png"},6805:function(t,s,p){t.exports=p.p+"assets/img/1656939825041.827a7a56.png"},6806:function(t,s,p){t.exports=p.p+"assets/img/1656943453961.f37ad4f4.png"},6807:function(t,s,p){t.exports=p.p+"assets/img/1656943541242.84ac460b.png"},6808:function(t,s,p){t.exports=p.p+"assets/img/1656943590185.a520a1eb.png"},6809:function(t,s,p){t.exports=p.p+"assets/img/1656943657934.3f652019.png"},6810:function(t,s,p){t.exports=p.p+"assets/img/1656943717570.eed9be1a.png"},6811:function(t,s,p){t.exports=p.p+"assets/img/1656944116326.d27b89fe.png"},6812:function(t,s,p){t.exports=p.p+"assets/img/1656944151264.56423e6e.png"},6813:function(t,s,p){t.exports=p.p+"assets/img/1656944187298.a9a8a72b.png"},6814:function(t,s,p){t.exports=p.p+"assets/img/1656944286687.7ac2004e.png"},6815:function(t,s,p){t.exports=p.p+"assets/img/1656944466366.124e840d.png"},6816:function(t,s,p){t.exports=p.p+"assets/img/1656944500488.2ca9e573.png"},9467:function(t,s,p){"use strict";p.r(s);var a=p(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_12-devops-可视化pipeline-第四步-推送镜像-基础操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-devops-可视化pipeline-第四步-推送镜像-基础操作"}},[t._v("#")]),t._v(" 12.devops-可视化Pipeline-第四步-推送镜像-基础操作")]),t._v(" "),a("p",[t._v("​\t\t我们上一步是并发构建了每个微服务的镜像")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6804),alt:"1656939354540"}})]),t._v(" "),a("p",[t._v("​\t我们构建好的镜像--目前只是存在于我们集群中的某一台机器里面，而我们之后k8s部署这些微服务，需要把这些镜像拿来，所以我们需要把这些镜像统一推送到镜像仓库，然后k8s部署的时候从镜像仓库下载就可以了")]),t._v(" "),a("p",[t._v("接下来我们进入到流水线的第四步---推送镜像")]),t._v(" "),a("p",[t._v("​\t我们以推送到阿里云镜像仓库为例")]),t._v(" "),a("p",[t._v("​\t我们先在阿里云创建一个空间")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6805),alt:"1656939825041"}})]),t._v(" "),a("p",[t._v("我们使用整理好了命令---使用变量的方式")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6806),alt:"1656943453961"}})]),t._v(" "),a("p",[t._v("我们配置shell脚本")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6807),alt:"1656943541242"}})]),t._v(" "),a("p",[t._v("我们想一下在推送前得登录仓库，如何登录仓库呢？")]),t._v(" "),a("p",[t._v("​\t添加凭证")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6808),alt:"1656943590185"}})]),t._v(" "),a("p",[t._v("​\t添加阿里云的镜像仓库凭证")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6809),alt:"1656943657934"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(6810),alt:"1656943717570"}})]),t._v(" "),a("p",[t._v("​\t添加好凭证后，会产生变量，然后我们登录仓库，进行打包，然后进行推送")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6811),alt:"1656944116326"}})]),t._v(" "),a("p",[t._v("推送这个：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6812),alt:"1656944151264"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(6813),alt:"1656944187298"}})]),t._v(" "),a("p",[t._v("我们copy到可视化界面中的jenkinsfile")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6814),alt:"1656944286687"}})]),t._v(" "),a("p",[t._v("运行流水线进行测试--查看是否可以推送成功")]),t._v(" "),a("p",[t._v("​\t镜像推送成功")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6815),alt:"1656944466366"}})]),t._v(" "),a("p",[t._v("我们到阿里云里面看一下--可以看到是有镜像的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(6816),alt:"1656944500488"}})]),t._v(" "),a("p",[t._v("https://www.bilibili.com/video/BV13Q4y1C7hS?p=117&spm_id_from=pageDriver&vd_source=243ad3a9b323313aa1441e5dd414a4ef")]),t._v(" "),a("p",[t._v("​")])])}),[],!1,null,null,null);s.default=e.exports}}]);