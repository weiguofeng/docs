(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{3350:function(t,s,a){t.exports=a.p+"assets/img/image-20220112000711886.f6e7f9c3.png"},3351:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001027917.1b4ff539.png"},3352:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001154218.64de122f.png"},3353:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001332635.ddb77382.png"},3354:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001445344.b64482b8.png"},3355:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001705671.f3d7d66e.png"},3356:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002010255.50739a66.png"},3357:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002235553.0c7dc4ed.png"},3358:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002504770.7d68967b.png"},3359:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002531849.4a7bcd44.png"},3360:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002640836.85b21819.png"},3361:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002653295.75080577.png"},3362:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002808987.0a4467d2.png"},3363:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002842014.12f0f430.png"},3364:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002946415.8fb02c47.png"},3365:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003111502.61588cf7.png"},3366:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003224422.42d95960.png"},3367:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003442162.9d4da09d.png"},3368:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003619077.ac5a094c.png"},8485:function(t,s,a){"use strict";a.r(s);var e=a(5),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_16-sonar-qube检测html代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-sonar-qube检测html代码"}},[t._v("#")]),t._v(" 16.sonar-qube检测html代码")]),t._v(" "),e("p",[t._v("​\t"),e("img",{attrs:{src:a(3350),alt:"image-20220112000711886"}})]),t._v(" "),e("p",[t._v("​\t那么安装sonar-scanner需要在哪里安装呢--需要在我们的jenkins服务端安装")]),t._v(" "),e("p",[t._v("我们把这个包推送到120这个jenkins服务器上")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3351),alt:"image-20220112001027917"}})]),t._v(" "),e("p",[t._v("​\t然后我们在jenkins服务器上解压缩到usr/local文件夹下")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3352),alt:"image-20220112001154218"}})]),t._v(" "),e("p",[t._v("​\t然后进入usr/local给他做个软连接--因为名字太长了")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3353),alt:"image-20220112001332635"}})]),t._v(" "),e("p",[t._v("​\t我们需要给sonar-scanner客户端工具指定sonar的服务端，设置配置文件")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3354),alt:"image-20220112001445344"}})]),t._v(" "),e("p",[t._v("​\t配置服务端地址--配置login的token--配置字符集utf8")]),t._v(" "),e("p",[t._v("​\t要使用这个token的话-服务端得开启token认证，默认sonar服务端是没有开启token认证的")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3355),alt:"image-20220112001705671"}})]),t._v(" "),e("p",[t._v("​\t我们登录sonar-在配置下的权限中开启token认证，如果不开启那么就是谁都可以使用扫描也是可以的")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3356),alt:"image-20220112002010255"}})]),t._v(" "),e("p",[t._v("我们开启一下扫描html--在sonar-scanner的绝对路径下执行命令")]),t._v(" "),e("p",[t._v("​\tprojectKey=html 是扫描html代码")]),t._v(" "),e("p",[t._v("​\tsources=.是扫描当前文件夹")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3357),alt:"image-20220112002235553"}})]),t._v(" "),e("p",[t._v("我们进入到jenkins的工作目录下的monitor项目下")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3358),alt:"image-20220112002504770"}})]),t._v(" "),e("p",[t._v("执行命令")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3359),alt:"image-20220112002531849"}})]),t._v(" "),e("p",[t._v("报错了--让在命令中加一个 -X进入调试模式")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3360),alt:"image-20220112002640836"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(3361),alt:"image-20220112002653295"}})]),t._v(" "),e("p",[t._v("我们看到这个sonar的服务地址找不到--原因是host没有设置域名解析")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3362),alt:"image-20220112002808987"}})]),t._v(" "),e("p",[t._v("​\t设置映射域名")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3363),alt:"image-20220112002842014"}})]),t._v(" "),e("p",[t._v("​\t再次执行扫描：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3364),alt:"image-20220112002946415"}})]),t._v(" "),e("p",[t._v("​\t扫描完成--成功执行完扫描")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3365),alt:"image-20220112003111502"}})]),t._v(" "),e("p",[t._v("可以看到扫描结果：")]),t._v(" "),e("p",[t._v("​\t464和bug，2个漏洞，172个坏味道-是不规范的代码，重复的代码24%")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3366),alt:"image-20220112003224422"}})]),t._v(" "),e("p",[t._v("​\t点击进入可以看到具体的问题")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3367),alt:"image-20220112003442162"}})]),t._v(" "),e("p",[t._v("​\t然后进入查看问题--里面会给出使用规范实例")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3368),alt:"image-20220112003619077"}})])])}),[],!1,null,null,null);s.default=i.exports}}]);