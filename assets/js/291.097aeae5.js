(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{2712:function(t,s,p){t.exports=p.p+"assets/img/1639840328699.6e0a4057.png"},2713:function(t,s,p){t.exports=p.p+"assets/img/1639840578268.24507dcc.png"},2714:function(t,s,p){t.exports=p.p+"assets/img/1639840439346.f385e817.png"},2715:function(t,s,p){t.exports=p.p+"assets/img/1639840832665.35687d75.png"},2716:function(t,s,p){t.exports=p.p+"assets/img/1639840925072.559aa93e.png"},2717:function(t,s,p){t.exports=p.p+"assets/img/1639841152115.092ed52a.png"},2718:function(t,s,p){t.exports=p.p+"assets/img/1639841220420.58d20813.png"},2719:function(t,s,p){t.exports=p.p+"assets/img/1639841309760.5b110951.png"},2720:function(t,s,p){t.exports=p.p+"assets/img/1639841477986.703c2654.png"},2721:function(t,s,p){t.exports=p.p+"assets/img/1639841570402.afae14df.png"},8340:function(t,s,p){"use strict";p.r(s);var a=p(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_6-路由权限-权限控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-路由权限-权限控制"}},[t._v("#")]),t._v(" 6.路由权限-权限控制")]),t._v(" "),a("p",[t._v("先定义一下这俩个判断的函数")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2712),alt:"1639840328699"}})]),t._v(" "),a("p",[t._v("在checkRoute中传入item，首先判断本地映射表中是否有这个路由，并且 权限的开关值必须是1,都满足才是true，否则就是false")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2713),alt:"1639840578268"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(2714),alt:"1639840439346"}})]),t._v(" "),a("p",[t._v("页面测试一下--比如把首页的权限开关给关闭掉---关闭后就代表侧边栏就看不见了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2715),alt:"1639840832665"}})]),t._v(" "),a("p",[t._v("首先侧边栏已经消失没有首页了--然后我直接输入首页的路由地址进入一下--发现也是进入不了的，说明判断是正确的，item.pagepermisson为0 false了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2716),alt:"1639840925072"}})]),t._v(" "),a("p",[t._v("然后我们判断当前登录用户是否包含item,key当前路由")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2717),alt:"1639841152115"}})]),t._v(" "),a("p",[t._v("获取用户的路由权限列表信息")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2718),alt:"1639841220420"}})]),t._v(" "),a("p",[t._v("页面测试一下--使用区域管理员登录")]),t._v(" "),a("p",[t._v("​\t发现是没有权限列表菜单的--而且我们在访问权限列表的路由的时候-也是无法进入的会提示403进入403这个组件中")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2719),alt:"1639841309760"}})]),t._v(" "),a("p",[t._v("我们测试一下超级管理员--这次我们在角色列表中--取消勾选这个首页权限的功能")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2720),alt:"1639841477986"}})]),t._v(" "),a("p",[t._v("重新登录后--发现首页的菜单看不见了，而他还是重定向到首页-并且首页显示403了，说明没有权限了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2721),alt:"1639841570402"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);