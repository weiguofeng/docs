(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{2315:function(t,s,p){t.exports=p.p+"assets/img/1638781404732.71484bef.png"},2316:function(t,s,p){t.exports=p.p+"assets/img/1638781442982.a0cfa412.png"},2317:function(t,s,p){t.exports=p.p+"assets/img/1638781578944.7e8b7480.png"},2318:function(t,s,p){t.exports=p.p+"assets/img/1638781683379.2cd89e45.png"},2319:function(t,s,p){t.exports=p.p+"assets/img/1638781820548.f4b290f1.png"},2320:function(t,s,p){t.exports=p.p+"assets/img/1638782088764.ac66b0ec.png"},2321:function(t,s,p){t.exports=p.p+"assets/img/1638782283080.3d4be772.png"},2322:function(t,s,p){t.exports=p.p+"assets/img/1638782424515.6e2d8447.png"},2323:function(t,s,p){t.exports=p.p+"assets/img/1638782615277.f4ba10a2.png"},2324:function(t,s,p){t.exports=p.p+"assets/img/1638782720212.fd282237.png"},2325:function(t,s,p){t.exports=p.p+"assets/img/1638785049249.8ca9fbc3.png"},2326:function(t,s,p){t.exports=p.p+"assets/img/1638783148191.f55a34cf.png"},2327:function(t,s,p){t.exports=p.p+"assets/img/1638785135806.b17ef596.png"},2328:function(t,s,p){t.exports=p.p+"assets/img/1638785263796.5fdd47bb.png"},2329:function(t,s,p){t.exports=p.p+"assets/img/1638785452659.5a72af45.png"},2330:function(t,s,p){t.exports=p.p+"assets/img/1638785517314.49db083f.png"},2331:function(t,s,p){t.exports=p.p+"assets/img/1638785573660.e0c95e52.png"},2332:function(t,s,p){t.exports=p.p+"assets/img/1638785633332.25b1de69.png"},2333:function(t,s,p){t.exports=p.p+"assets/img/1638785710118.b4f6f542.png"},2334:function(t,s,p){t.exports=p.p+"assets/img/1638786150502.455b5bcf.png"},2335:function(t,s,p){t.exports=p.p+"assets/img/1638786202954.e8ea1224.png"},9003:function(t,s,p){"use strict";p.r(s);var a=p(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_14-sidemenu杀青"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-sidemenu杀青"}},[t._v("#")]),t._v(" 14.SideMenu杀青")]),t._v(" "),a("p",[t._v("​\t\t现在我们开始解决SideMenu的遗留问题")]),t._v(" "),a("h4",{attrs:{id:"_1-首页不应该是折叠的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-首页不应该是折叠的"}},[t._v("#")]),t._v(" 1.首页不应该是折叠的")]),t._v(" "),a("p",[t._v("​\t我们从后端获取到的首页对象中是包括children属性的，里面的内容是空的，那么我们就需要多加个判断，判断children的属性 大于 0 的时候才可以有折叠效果")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2315),alt:"1638781404732"}})]),t._v(" "),a("p",[t._v("查看页面效果--发生报错了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2316),alt:"1638781442982"}})]),t._v(" "),a("p",[t._v("原因是，因为有些都没有children导致的，需要小处理一下 加个 ？ 如果为假后面的length就不会执行了")]),t._v(" "),a("p",[t._v("​\t\t\titem.children?.length > 0")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2317),alt:"1638781578944"}})]),t._v(" "),a("p",[t._v("查看页面效果：首页折叠问题解决完成，没有空的子菜单了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2318),alt:"1638781683379"}})]),t._v(" "),a("h4",{attrs:{id:"_2、菜单点击全部撑开后高度增加导致的滚动条处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、菜单点击全部撑开后高度增加导致的滚动条处理"}},[t._v("#")]),t._v(" 2、菜单点击全部撑开后高度增加导致的滚动条处理")]),t._v(" "),a("p",[t._v("我们应该是在菜单栏这边加滚动效果--而不是整个页面撑开的滚动效果--应该是小范围的滚动效果是比较好的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2319),alt:"1638781820548"}})]),t._v(" "),a("p",[t._v("解决方案就是--稍微把样式修正一下")]),t._v(" "),a("p",[t._v("Menu组件的外层添加一个div设置固定的样式--然后在menu再加一个div设置行内样式flex=1，如果发生滚动overflow ：auto 就自动撑开滚动效果")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2320),alt:"1638782088764"}})]),t._v(" "),a("p",[t._v("页面查看效果： 这样局部滚动是比较合适的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2321),alt:"1638782283080"}})]),t._v(" "),a("p",[t._v("如果感觉我们这个滚动效果不好可以自己进行样式优化，比如使用这个样式")]),t._v(" "),a("p",[t._v("​\t\tscrollbar：设置滚动条的宽度、高度")]),t._v(" "),a("p",[t._v("​\t\tscrollbar-thumb:设置滚动条高亮的颜色")]),t._v(" "),a("p",[t._v("​\t\tscrollbar-track ：被滚动的背景颜色")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2322),alt:"1638782424515"}})]),t._v(" "),a("p",[t._v("查看页面效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2323),alt:"1638782615277"}})]),t._v(" "),a("h4",{attrs:{id:"_3、菜单高亮刷新页面不回显的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、菜单高亮刷新页面不回显的问题"}},[t._v("#")]),t._v(" 3、菜单高亮刷新页面不回显的问题")]),t._v(" "),a("p",[t._v("​\t\t刷新页面后--首页的高亮显示消失--如果点击二级菜单刷新页面后，不但不高亮而且还不展开")]),t._v(" "),a("p",[t._v("我们希望刷新完页面后对应的菜单还是高亮的，如果是子菜单应该也是展开的效果")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2324),alt:"1638782720212"}})]),t._v(" "),a("p",[t._v("我们的解决思路是根据路由然后进行高亮选中的处理")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2325),alt:"1638785049249"}})]),t._v(" "),a("p",[t._v("我们可以通过高阶组件获取到props，通过props可以拿到location")]),t._v(" "),a("p",[t._v("​\t\tprops.location的属性pathName 就是对应的路由地址")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2326),alt:"1638783148191"}})]),t._v(" "),a("p",[t._v("我们现在查看页面效果：刷新后高亮的效果处理了，但是折叠并没有展开")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2327),alt:"1638785135806"}})]),t._v(" "),a("p",[t._v("想打开菜单折叠会使用到defaultOpenKeys这个属性")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2328),alt:"1638785263796"}})]),t._v(" "),a("p",[t._v("我们需要一个截取的操作--需要把props.location.pathname得到的路由路径截取一下")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2329),alt:"1638785452659"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(2330),alt:"1638785517314"}})]),t._v(" "),a("p",[t._v("新建一个变量openkeys，我们获取一个完整的一级路由结构")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2331),alt:"1638785573660"}})]),t._v(" "),a("p",[t._v("然后在defaultOpenKeys里面放入这个一级路由属性")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2332),alt:"1638785633332"}})]),t._v(" "),a("p",[t._v("页面查看效果：刷新页面选中高亮显示，并且自动展开折叠的菜单")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2333),alt:"1638785710118"}})]),t._v(" "),a("p",[t._v("目前还有问题---如果我们只输入ip和端口会从定向到首页，但是这种重定向过来页面首页没有高亮显示")]),t._v(" "),a("p",[t._v("这就引出一个概念--受控组件和非受控组件")]),t._v(" "),a("p",[t._v("​\t受控组件：就是当外部发生改变的时候，组件内部关联的内容也会发生改变")]),t._v(" "),a("p",[t._v("​\t非受控组件：就是当外部发生改变的时候，组件内部是不受到影响的")]),t._v(" "),a("p",[t._v("Antd组件库中的default为前缀的属性，其实都是非受控组件，而去掉default就变成受控组件了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2334),alt:"1638786150502"}})]),t._v(" "),a("p",[t._v("我们更换为受控组件属性：重定向也是没有问题的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2335),alt:"1638786202954"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);