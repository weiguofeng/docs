(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{8520:function(t,s,a){"use strict";a.r(s);var r=a(5),p=Object(r.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"_6、promethus添加mysql监控"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6、promethus添加mysql监控"}},[t._v("#")]),t._v(" 6、promethus添加MySql监控")]),t._v(" "),r("h2",{attrs:{id:"_1、grafana图形显示mysql监控数据"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1、grafana图形显示mysql监控数据"}},[t._v("#")]),t._v(" 1、Grafana图形显示MySql监控数据")]),t._v(" "),r("p",[t._v("​")]),t._v(" "),r("p",[t._v("​\t\t在grafana上修改配置文件，并且安装mysql监控的dashboard（这个其实就是一个定义好的图形图像模板，他主要是json文件）")]),t._v(" "),r("p",[t._v("​\t文件比如-mysql的cpu相关和节点信息的json模板文件")]),t._v(" "),r("p",[r("img",{attrs:{src:a(929),alt:"1678628332076"}})]),t._v(" "),r("p",[t._v("​\t模板地址：https://github.com/percona/grafana-dashboards")]),t._v(" "),r("p",[t._v("​\t比如：mysql")]),t._v(" "),r("p",[t._v("https://github.com/percona/grafana-dashboards/tree/main/dashboards/MySQL")]),t._v(" "),r("p",[r("img",{attrs:{src:a(930),alt:"1678629069276"}})]),t._v(" "),r("h2",{attrs:{id:"_2、修改grafana的配置文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改grafana的配置文件"}},[t._v("#")]),t._v(" 2、修改grafana的配置文件")]),t._v(" "),r("p",[t._v("​\tdashboard.json是读取json文件")]),t._v(" "),r("p",[t._v("​\tenable 是开启 这个模板json")]),t._v(" "),r("p",[t._v("​\tpath 是这个json模板的位置")]),t._v(" "),r("p",[r("img",{attrs:{src:a(931),alt:"1678628618447"}})]),t._v(" "),r("p",[t._v("编辑配置文件")]),t._v(" "),r("p",[r("img",{attrs:{src:a(932),alt:"1678628755225"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(933),alt:"1678628788908"}})]),t._v(" "),r("h4",{attrs:{id:"下载配置文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#下载配置文件"}},[t._v("#")]),t._v(" 下载配置文件：")]),t._v(" "),r("p",[t._v("​\t进入到指定目录下")]),t._v(" "),r("p",[t._v("然后下载")]),t._v(" "),r("p",[r("img",{attrs:{src:a(934),alt:"1678628890229"}})]),t._v(" "),r("p",[t._v("​\t下载可能比较慢 -- 这个其实是下载整个项目的master分支 东西比较多")]),t._v(" "),r("p",[t._v("​\t解压后copy到我们的目录下")]),t._v(" "),r("p",[t._v("​\t我们直接把下载好的json文件传入进去也可以")]),t._v(" "),r("p",[t._v("​\t进入存放json模板的路径下：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(935),alt:"1678629316797"}})]),t._v(" "),r("p",[t._v("​\t创建 dashboard文件夹")]),t._v(" "),r("p",[r("img",{attrs:{src:a(936),alt:"1678629407929"}})]),t._v(" "),r("p",[t._v("​")]),t._v(" "),r("p",[t._v("上传json文件")]),t._v(" "),r("p",[r("img",{attrs:{src:a(937),alt:"1678629378332"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(938),alt:"1678629477012"}})]),t._v(" "),r("p",[t._v("重启grafana服务")]),t._v(" "),r("p",[r("img",{attrs:{src:a(939),alt:"1678629525338"}})]),t._v(" "),r("h2",{attrs:{id:"_3、在granfana中导入json文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3、在granfana中导入json文件"}},[t._v("#")]),t._v(" 3、在granfana中导入json文件")]),t._v(" "),r("p",[r("img",{attrs:{src:a(940),alt:"1678629590872"}})]),t._v(" "),r("p",[t._v("​\t点击+号，然后import，这个的意思就是在别人做好的模板，我们可以直接导入导出的进行复用")]),t._v(" "),r("p",[r("img",{attrs:{src:a(941),alt:"1678629781395"}})]),t._v(" "),r("p",[t._v("可以看到这个图标非常多，但是没有数据--原因是我们没有设置数据源")]),t._v(" "),r("p",[r("img",{attrs:{src:a(942),alt:"1678629894896"}})]),t._v(" "),r("h2",{attrs:{id:"_4、设置数据源"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4、设置数据源"}},[t._v("#")]),t._v(" 4、设置数据源")]),t._v(" "),r("p",[r("img",{attrs:{src:a(943),alt:"1678629978432"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(944),alt:"1678630002119"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(945),alt:"1678630057645"}})]),t._v(" "),r("p",[t._v("我们可以监控到mysql了")]),t._v(" "),r("p",[r("img",{attrs:{src:a(946),alt:"1678630135049"}})]),t._v(" "),r("p",[t._v("https://www.bilibili.com/video/BV16J411z7SQ?p=10&vd_source=243ad3a9b323313aa1441e5dd414a4ef")]),t._v(" "),r("p",[t._v("​\t可以寻找中文版的模板---然后显示的图表就是中文的样子了")]),t._v(" "),r("p",[t._v("https://new.qq.com/rain/a/20220424A025DI00")])])}),[],!1,null,null,null);s.default=p.exports},929:function(t,s,a){t.exports=a.p+"assets/img/1678628332076.76484a74.png"},930:function(t,s,a){t.exports=a.p+"assets/img/1678629069276.fe37868d.png"},931:function(t,s,a){t.exports=a.p+"assets/img/1678628618447.9ec7f211.png"},932:function(t,s,a){t.exports=a.p+"assets/img/1678628755225.0c6d1c04.png"},933:function(t,s,a){t.exports=a.p+"assets/img/1678628788908.1ff08996.png"},934:function(t,s,a){t.exports=a.p+"assets/img/1678628890229.8c56d081.png"},935:function(t,s,a){t.exports=a.p+"assets/img/1678629316797.8ec51316.png"},936:function(t,s,a){t.exports=a.p+"assets/img/1678629407929.cd861d26.png"},937:function(t,s,a){t.exports=a.p+"assets/img/1678629378332.5d04ade9.png"},938:function(t,s,a){t.exports=a.p+"assets/img/1678629477012.d91fd4d6.png"},939:function(t,s,a){t.exports=a.p+"assets/img/1678629525338.16306f72.png"},940:function(t,s,a){t.exports=a.p+"assets/img/1678629590872.dd39db7f.png"},941:function(t,s,a){t.exports=a.p+"assets/img/1678629781395.f4ba1ea3.png"},942:function(t,s,a){t.exports=a.p+"assets/img/1678629894896.cd202092.png"},943:function(t,s,a){t.exports=a.p+"assets/img/1678629978432.5b4b454a.png"},944:function(t,s,a){t.exports=a.p+"assets/img/1678630002119.169ca8aa.png"},945:function(t,s,a){t.exports=a.p+"assets/img/1678630057645.9cf69aa2.png"},946:function(t,s,a){t.exports=a.p+"assets/img/1678630135049.3c44d3b0.png"}}]);