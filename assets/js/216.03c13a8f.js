(window.webpackJsonp=window.webpackJsonp||[]).push([[216],{3132:function(t,s,a){t.exports=a.p+"assets/img/1636885609898.9a55a21f.png"},3133:function(t,s,a){t.exports=a.p+"assets/img/1636885633225.cd14a37f.png"},3134:function(t,s,a){t.exports=a.p+"assets/img/1636885761324.80c5faaf.png"},3135:function(t,s,a){t.exports=a.p+"assets/img/1636885860868.ab757260.png"},3136:function(t,s,a){t.exports=a.p+"assets/img/1636885913064.3de4a820.png"},3137:function(t,s,a){t.exports=a.p+"assets/img/1636886204517.778d51c6.png"},3138:function(t,s,a){t.exports=a.p+"assets/img/1636886238852.a4c9ad49.png"},3139:function(t,s,a){t.exports=a.p+"assets/img/1636886347007.ca97aa09.png"},3140:function(t,s,a){t.exports=a.p+"assets/img/1636886402971.9f3b6c69.png"},3141:function(t,s,a){t.exports=a.p+"assets/img/1636886570701.57185d7e.png"},3142:function(t,s,a){t.exports=a.p+"assets/img/1636886772709.b3e57c78.png"},3143:function(t,s,a){t.exports=a.p+"assets/img/1636886817590.c6e55ca4.png"},3144:function(t,s,a){t.exports=a.p+"assets/img/1636886835442.b86348e1.png"},8377:function(t,s,a){"use strict";a.r(s);var p=a(5),r=Object(p.a)({},(function(){var t=this,s=t.$createElement,p=t._self._c||s;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("h1",{attrs:{id:"_3-封装顶部导航栏组件3"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-封装顶部导航栏组件3"}},[t._v("#")]),t._v(" 3.封装顶部导航栏组件3")]),t._v(" "),p("h4",{attrs:{id:"功能问题"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#功能问题"}},[t._v("#")]),t._v(" 功能问题：")]),t._v(" "),p("p",[t._v("​\t比如点击返回按钮，结果发生报错：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3132),alt:"1636885609898"}})]),t._v(" "),p("p",[t._v("不能够读取 undefined 的属性 props")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3133),alt:"1636885633225"}})]),t._v(" "),p("p",[t._v("原因其实就是：this变成undefined的了，因为我们使用的是函数组件，函数组件就不能使用这个this了")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3134),alt:"1636885761324"}})]),t._v(" "),p("p",[t._v("我们将history也结构出来就可以了")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3135),alt:"1636885860868"}})]),t._v(" "),p("p",[t._v("发现又报错了： history又变成undefined了--我们拿不到history")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3136),alt:"1636885913064"}})]),t._v(" "),p("p",[t._v("我们使用WithRouter才可以获取到路由信息--因为导航栏组件不是由App组件渲染的")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3137),alt:"1636886204517"}})]),t._v(" "),p("p",[t._v("导入WithRouter组件：使用高阶组件会产生一个新组件")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3138),alt:"1636886238852"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3139),alt:"1636886347007"}})]),t._v(" "),p("p",[t._v("现在我们点击返回按钮：发现好使了")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3140),alt:"1636886402971"}})]),t._v(" "),p("p",[t._v("如果每次点击<都是返回上一页--有的页面不想让他返回上一个页面：那么就需要自定义了--需要结构出一个和组件页面跳转的函数 同样的名字函数才可以自定义-如果用户传了这个函数就使用用户的-如果不传就默认返回上一页")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3141),alt:"1636886570701"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3142),alt:"1636886772709"}})]),t._v(" "),p("p",[t._v("假设我们自定义：传入一个函数进来")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3143),alt:"1636886817590"}})]),t._v(" "),p("p",[t._v("发现自定义是生效的：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3144),alt:"1636886835442"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);