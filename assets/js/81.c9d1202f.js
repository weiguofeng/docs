(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{2382:function(t,s,p){t.exports=p.p+"assets/img/1638860006702.4e553f31.png"},2383:function(t,s,p){t.exports=p.p+"assets/img/1638860196149.68dde68e.png"},2384:function(t,s,p){t.exports=p.p+"assets/img/1638863426944.b573246e.png"},2385:function(t,s,p){t.exports=p.p+"assets/img/1638863724776.d48ad6ea.png"},2386:function(t,s,p){t.exports=p.p+"assets/img/1638863571230.8ee90f28.png"},2387:function(t,s,p){t.exports=p.p+"assets/img/1638863805492.b0bd7f8e.png"},2388:function(t,s,p){t.exports=p.p+"assets/img/1638863922325.b1584599.png"},2389:function(t,s,p){t.exports=p.p+"assets/img/1638863989785.52219516.png"},2390:function(t,s,p){t.exports=p.p+"assets/img/1638960197806.b82ab920.png"},2391:function(t,s,p){t.exports=p.p+"assets/img/1638960271012.4b7dc593.png"},2392:function(t,s,p){t.exports=p.p+"assets/img/1638960299555.8f23a5ce.png"},2393:function(t,s,p){t.exports=p.p+"assets/img/1638960417230.214d4a39.png"},2394:function(t,s,p){t.exports=p.p+"assets/img/1638960468529.419b2f8e.png"},2395:function(t,s,p){t.exports=p.p+"assets/img/1638960625430.afffaa8b.png"},2396:function(t,s,p){t.exports=p.p+"assets/img/1638960571374.75c26218.png"},2397:function(t,s,p){t.exports=p.p+"assets/img/1638960719874.72b060a1.png"},2398:function(t,s,p){t.exports=p.p+"assets/img/1638960971988.89dea5fe.png"},2399:function(t,s,p){t.exports=p.p+"assets/img/1638961224859.279209f7.png"},2400:function(t,s,p){t.exports=p.p+"assets/img/1638961457692.b42f617a.png"},2401:function(t,s,p){t.exports=p.p+"assets/img/1638961598273.83c70c27.png"},2402:function(t,s,p){t.exports=p.p+"assets/img/1638961817520.bf6e6012.png"},2403:function(t,s,p){t.exports=p.p+"assets/img/1638962086261.4eb14929.png"},2404:function(t,s,p){t.exports=p.p+"assets/img/1638962150405.dfa8f60f.png"},2405:function(t,s,p){t.exports=p.p+"assets/img/1638962254571.3096078e.png"},9006:function(t,s,p){"use strict";p.r(s);var a=p(5),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_18-权限列表-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-权限列表-配置"}},[t._v("#")]),t._v(" 18.权限列表-配置")]),t._v(" "),a("p",[t._v("先设置个开关--使用这种气泡卡片的方式")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2382),alt:"1638860006702"}})]),t._v(" "),a("p",[t._v("代码测试一下：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2383),alt:"1638860196149"}})]),t._v(" "),a("p",[t._v("页面查看效果")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2384),alt:"1638863426944"}})]),t._v(" "),a("p",[t._v("在div中加入switch")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2385),alt:"1638863724776"}})]),t._v(" "),a("p",[t._v("我们要的效果就是这样的--那么我们需要在div中加入一个switch开关就可以了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2386),alt:"1638863571230"}})]),t._v(" "),a("p",[t._v("现在有个问题就是--目前有这个字段的是支持开关的，子菜单没有这个字段 目前是不支持开关的")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2387),alt:"1638863805492"}})]),t._v(" "),a("p",[t._v("我们在代码中加入disable 如果这个字段是undefined 那么就禁用这个按钮")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2388),alt:"1638863922325"}})]),t._v(" "),a("p",[t._v("页面查看效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2389),alt:"1638863989785"}})]),t._v(" "),a("p",[t._v("目前还有点小问题：已经禁用了--但是还可以点开")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2390),alt:"1638960197806"}})]),t._v(" "),a("p",[t._v("这个可能是trigger触发的--这个trigger是个click")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2391),alt:"1638960271012"}})]),t._v(" "),a("p",[t._v("我们将这个trigger改为空---这样是不行的，导致都无法点开了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2392),alt:"1638960299555"}})]),t._v(" "),a("p",[t._v("我们需要改为动态的判断一下")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2393),alt:"1638960417230"}})]),t._v(" "),a("p",[t._v("好了--现在点击不会弹出了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2394),alt:"1638960468529"}})]),t._v(" "),a("h4",{attrs:{id:"_2、设置开关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、设置开关"}},[t._v("#")]),t._v(" 2、设置开关")]),t._v(" "),a("p",[t._v("我们打开这个开关后--默认其实应该是打开的状态")]),t._v(" "),a("p",[t._v("​\t\t需要给这个Switch组件传一个true就可以为默认打开了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2395),alt:"1638960625430"}})]),t._v(" "),a("p",[t._v("页面查看效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2396),alt:"1638960571374"}})]),t._v(" "),a("h4",{attrs:{id:"_3、动态设置开关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、动态设置开关"}},[t._v("#")]),t._v(" 3、动态设置开关")]),t._v(" "),a("p",[t._v("​\t\t是开还是关--还是需要后台的数据来支持的")]),t._v(" "),a("p",[t._v("​\t\t我们的pagepermisson 如果是1就是打的  如果是0就是不打开")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2397),alt:"1638960719874"}})]),t._v(" "),a("p",[t._v("现在又有一个问题：就是开关关闭不了了--改为动态后点击关闭按钮无法关闭")]),t._v(" "),a("p",[t._v("​\t\t原因是：switch是一个受控组件--他的值一直受到影响无法关闭，因为他现在受这个字段状态的控制着呢")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2398),alt:"1638960971988"}})]),t._v(" "),a("p",[t._v("然后我们需要给Switch加一个事件处理onChange--传入item")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2399),alt:"1638961224859"}})]),t._v(" "),a("p",[t._v("然后我们在函数中修改item的值，其实修改item的值也就相当于修改datasource的值了，因为DataSource是引用数据--那么页面就会受到修改值的影响")]),t._v(" "),a("p",[t._v("​\t\t\t我们使用三元进行取反操作")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2400),alt:"1638961457692"}})]),t._v(" "),a("p",[t._v("然后我们现在可以再次setState一下dataSource")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2401),alt:"1638961598273"}})]),t._v(" "),a("p",[t._v("这样处理之后--开关的点击就好使了")]),t._v(" "),a("p",[t._v("然后我们同步一下后端的数据--请求的时候使用patch补丁请求--因为post会导致全部更新，patch是局部的")]),t._v(" "),a("p",[t._v("​\t\tif中的判断是根据不同菜单级别进行不同的操作")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2402),alt:"1638961817520"}})]),t._v(" "),a("p",[t._v("测试效果：")]),t._v(" "),a("p",[t._v("将首页的开关设置为关闭")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2403),alt:"1638962086261"}})]),t._v(" "),a("p",[t._v("再次刷新页面后--左侧菜单栏的首页就消失了，然后按钮默认也变成关闭了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2404),alt:"1638962150405"}})]),t._v(" "),a("p",[t._v("然后我们回忆一下之前的流程图--我们已经实现了这个"),a("strong",[t._v("权限控制能够影响这个侧边栏使用")]),t._v("功能")]),t._v(" "),a("p",[a("img",{attrs:{src:p(2405),alt:"1638962254571"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);