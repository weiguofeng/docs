(window.webpackJsonp=window.webpackJsonp||[]).push([[473],{6150:function(s,a,t){s.exports=t.p+"assets/img/1608737937302.5ecc7441.png"},6151:function(s,a,t){s.exports=t.p+"assets/img/1608737958091.cab65312.png"},6152:function(s,a,t){s.exports=t.p+"assets/img/1608737968018.360fa395.png"},6153:function(s,a,t){s.exports=t.p+"assets/img/1608737978403.aeea0f79.png"},6154:function(s,a){s.exports="data:image/png;base64,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"},8840:function(s,a,t){"use strict";t.r(a);var e=t(5),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"zookeeper数据模型和常见命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper数据模型和常见命令"}},[s._v("#")]),s._v(" ZooKeeper数据模型和常见命令")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#zookeeper-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"}},[s._v("ZooKeeper 数据模型")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#znode%E6%95%B0%E6%8D%AE%E8%8A%82%E7%82%B9%E7%9A%84%E7%BB%93%E6%9E%84"}},[s._v("ZNode(数据节点)的结构")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%B5%8B%E8%AF%95-zookeeper-%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"}},[s._v("测试 ZooKeeper 中的常见操作")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E8%BF%9E%E6%8E%A5-zookeeper-%E6%9C%8D%E5%8A%A1"}},[s._v("连接 ZooKeeper 服务")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4help-%E5%91%BD%E4%BB%A4"}},[s._v("查看常用命令(help 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9create-%E5%91%BD%E4%BB%A4"}},[s._v("创建节点(create 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9B%B4%E6%96%B0%E8%8A%82%E7%82%B9%E6%95%B0%E6%8D%AE%E5%86%85%E5%AE%B9set-%E5%91%BD%E4%BB%A4"}},[s._v("更新节点数据内容(set 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96%E8%8A%82%E7%82%B9%E7%9A%84%E6%95%B0%E6%8D%AEget-%E5%91%BD%E4%BB%A4"}},[s._v("获取节点的数据(get 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E5%AD%90%E8%8A%82%E7%82%B9ls-%E5%91%BD%E4%BB%A4"}},[s._v("查看某个目录下的子节点(ls 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E8%8A%82%E7%82%B9%E7%8A%B6%E6%80%81stat-%E5%91%BD%E4%BB%A4"}},[s._v("查看节点状态(stat 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF%E5%92%8C%E7%8A%B6%E6%80%81ls2-%E5%91%BD%E4%BB%A4"}},[s._v("查看节点信息和状态(ls2 命令)")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9delete-%E5%91%BD%E4%BB%A4"}},[s._v("删除节点(delete 命令)")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%8F%82%E8%80%83"}},[s._v("参考")])])]),s._v(" "),e("blockquote",[e("p",[s._v("看本文之前如果你没有安装 ZooKeeper 的话，可以参考这篇文章："),e("a",{attrs:{href:"https://github.com/Snailclimb/springboot-integration-examples/blob/master/md/springboot-dubbo.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("《使用 SpringBoot+Dubbo 搭建一个简单分布式服务》"),e("OutboundLink")],1),s._v(" 的 “开始实战 1 ：zookeeper 环境安装搭建” 这部分进行安装（Centos7.4 环境下）。如果你想对 ZooKeeper 有一个整体了解的话，可以参考这篇文章："),e("a",{attrs:{href:"https://github.com/Snailclimb/JavaGuide/blob/master/%E4%B8%BB%E6%B5%81%E6%A1%86%E6%9E%B6/ZooKeeper.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("《可能是把 ZooKeeper 概念讲的最清楚的一篇文章》"),e("OutboundLink")],1)])]),s._v(" "),e("h3",{attrs:{id:"zookeeper-数据模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper-数据模型"}},[s._v("#")]),s._v(" ZooKeeper 数据模型")]),s._v(" "),e("p",[s._v('ZNode（数据节点）是 ZooKeeper 中数据的最小单元，每个ZNode上都可以保存数据，同时还是可以有子节点（这就像树结构一样，如下图所示）。可以看出，节点路径标识方式和Unix文件\n系统路径非常相似，都是由一系列使用斜杠"/"进行分割的路径表示，开发人员可以向这个节点中写人数据，也可以在节点下面创建子节点。这些操作我们后面都会介绍到。\n'),e("img",{attrs:{src:t(6150),alt:"1608737937302"}})]),s._v(" "),e("p",[s._v("提到 ZooKeeper 数据模型，还有一个不得不得提的东西就是 "),e("strong",[s._v("事务 ID")]),s._v(" 。事务的ACID（Atomic：原子性；Consistency:一致性；Isolation：隔离性；Durability：持久性）四大特性我在这里就不多说了，相信大家也已经挺腻了。")]),s._v(" "),e("p",[s._v("在Zookeeper中，事务是指能够改变 ZooKeeper 服务器状态的操作，我们也称之为事务操作或更新操作，一般包括数据节点创建与删除、数据节点内容更新和客户端会话创建与失效等操作。对于每一个事务请求，"),e("strong",[s._v("ZooKeeper 都会为其分配一个全局唯一的事务ID,用 ZXID 来表示")]),s._v("，通常是一个64位的数字。每一个ZXID对应一次更新操作，"),e("strong",[s._v("从这些 ZXID 中可以间接地识别出Zookeeper处理这些更新操作请求的全局顺序")]),s._v("。")]),s._v(" "),e("h3",{attrs:{id:"znode-数据节点-的结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#znode-数据节点-的结构"}},[s._v("#")]),s._v(" ZNode(数据节点)的结构")]),s._v(" "),e("p",[s._v("每个 ZNode 由2部分组成:")]),s._v(" "),e("ul",[e("li",[s._v("stat：状态信息")]),s._v(" "),e("li",[s._v("data：数据内容")])]),s._v(" "),e("p",[s._v("如下所示，我通过 get 命令来获取 根目录下的 dubbo 节点的内容。（get 命令在下面会介绍到）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" get /dubbo    \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该数据节点关联的数据内容为空")]),s._v("\nnull\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面是该数据节点的一些状态信息，其实就是 Stat 对象的格式化输出")]),s._v("\ncZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x2\nctime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tue Nov "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":05:34 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\nmZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x2\nmtime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Tue Nov "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":05:34 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\npZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x3\ncversion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndataVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\ndataLength "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nnumChildren "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("p",[s._v("这些状态信息其实就是 Stat 对象的格式化输出。Stat 类中包含了一个数据节点的所有状态信息的字段，包括事务ID、版本信息和子节点个数等，如下图所示（图源：《从Paxos到Zookeeper  分布式一致性原理与实践》，下面会介绍通过 stat 命令查看数据节点的状态）。")]),s._v(" "),e("p",[e("strong",[s._v("Stat 类：")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(6151),alt:"1608737958091"}})]),s._v(" "),e("p",[s._v("关于数据节点的状态信息说明（也就是对Stat 类中的各字段进行说明），可以参考下图（图源：《从Paxos到Zookeeper  分布式一致性原理与实践》）。")]),s._v(" "),e("p",[e("img",{attrs:{src:t(6152),alt:"1608737968018"}})]),s._v(" "),e("h3",{attrs:{id:"测试-zookeeper-中的常见操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试-zookeeper-中的常见操作"}},[s._v("#")]),s._v(" 测试 ZooKeeper 中的常见操作")]),s._v(" "),e("h4",{attrs:{id:"连接-zookeeper-服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接-zookeeper-服务"}},[s._v("#")]),s._v(" 连接 ZooKeeper 服务")]),s._v(" "),e("p",[s._v("进入安装 ZooKeeper文件夹的 bin 目录下执行下面的命令连接 ZooKeeper 服务（Linux环境下）（连接之前首选要确定你的 ZooKeeper 服务已经启动成功）。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("./zkCli.sh -server "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:t(6153),alt:"1608737978403"}})]),s._v(" "),e("p",[s._v("从上图可以看出控制台打印出了很多信息，包括我们的主机名称、JDK 版本、操作系统等等。如果你成功看到这些信息，说明你成功连接到  ZooKeeper 服务。")]),s._v(" "),e("h4",{attrs:{id:"查看常用命令-help-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看常用命令-help-命令"}},[s._v("#")]),s._v(" 查看常用命令(help 命令)")]),s._v(" "),e("p",[s._v("help 命令查看 zookeeper 常用命令")]),s._v(" "),e("p",[e("img",{attrs:{src:t(6154),alt:"1608737989335"}})]),s._v(" "),e("h4",{attrs:{id:"创建节点-create-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建节点-create-命令"}},[s._v("#")]),s._v(" 创建节点(create 命令)")]),s._v(" "),e("p",[s._v('通过 create 命令在根目录创建了node1节点，与它关联的字符串是"node1"')]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" create /node1 “node1”\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("通过 create 命令在根目录创建了node1节点，与它关联的内容是数字 123")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" create /node1/node1.1 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\nCreated /node1/node1.1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"更新节点数据内容-set-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新节点数据内容-set-命令"}},[s._v("#")]),s._v(" 更新节点数据内容(set 命令)")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" /node1 "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"set node1"')]),s._v(" \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"获取节点的数据-get-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取节点的数据-get-命令"}},[s._v("#")]),s._v(" 获取节点的数据(get 命令)")]),s._v(" "),e("p",[s._v('get 命令可以获取指定节点的数据内容和节点的状态,可以看出我们通过set 命令已经将节点数据内容改为 "set node1"。')]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" node1\ncZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x47\nctime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun Jan "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":22:59 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\nmZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x4b\nmtime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun Jan "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":41:10 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\npZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x4a\ncversion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndataVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\naclVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\ndataLength "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nnumChildren "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h4",{attrs:{id:"查看某个目录下的子节点-ls-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看某个目录下的子节点-ls-命令"}},[s._v("#")]),s._v(" 查看某个目录下的子节点(ls 命令)")]),s._v(" "),e("p",[s._v("通过 ls 命令查看根目录下的节点")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dubbo, zookeeper, node1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("通过 ls 命令查看 node1 目录下的节点")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /node1\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("node1.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("zookeeper 中的 ls 命令和 linux 命令中的 ls 类似， 这个命令将列出绝对路径path下的所有子节点信息（列出1级，并不递归）")]),s._v(" "),e("h4",{attrs:{id:"查看节点状态-stat-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看节点状态-stat-命令"}},[s._v("#")]),s._v(" 查看节点状态(stat 命令)")]),s._v(" "),e("p",[s._v("通过 stat 命令查看节点状态")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("stat")]),s._v(" /node1\ncZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x47\nctime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun Jan "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":22:59 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\nmZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x47\nmtime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun Jan "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":22:59 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\npZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x4a\ncversion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndataVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\ndataLength "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\nnumChildren "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("上面显示的一些信息比如cversion、aclVersion、numChildren等等，我在上面 “ZNode(数据节点)的结构” 这部分已经介绍到。")]),s._v(" "),e("h4",{attrs:{id:"查看节点信息和状态-ls2-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看节点信息和状态-ls2-命令"}},[s._v("#")]),s._v(" 查看节点信息和状态(ls2 命令)")]),s._v(" "),e("p",[s._v("ls2 命令更像是 ls 命令和 stat 命令的结合。ls2 命令返回的信息包括2部分：子节点列表 + 当前节点的stat信息。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" ls2 /node1\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("node1.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x47\nctime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun Jan "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":22:59 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\nmZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x47\nmtime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sun Jan "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":22:59 CST "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\npZxid "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x4a\ncversion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndataVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\naclVersion "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nephemeralOwner "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0x0\ndataLength "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\nnumChildren "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h4",{attrs:{id:"删除节点-delete-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除节点-delete-命令"}},[s._v("#")]),s._v(" 删除节点(delete 命令)")]),s._v(" "),e("p",[s._v("这个命令很简单，但是需要注意的一点是如果你要删除某一个节点，那么这个节点必须无子节点才行。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("zk: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONNECTED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" delete /node1/node1.1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("在后面我会介绍到 Java 客户端 API的使用以及开源 Zookeeper 客户端 ZkClient 和 Curator 的使用。")]),s._v(" "),e("h3",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),e("ul",[e("li",[s._v("《从Paxos到Zookeeper  分布式一致性原理与实践》")])])])}),[],!1,null,null,null);a.default=n.exports}}]);