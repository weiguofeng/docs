(window.webpackJsonp=window.webpackJsonp||[]).push([[489],{7616:function(s,n,t){s.exports=t.p+"assets/img/1643360763375.dbe597d9.png"},7617:function(s,n,t){s.exports=t.p+"assets/img/1643360896445.c78daec6.png"},7618:function(s,n,t){s.exports=t.p+"assets/img/1643360947990.002abbca.png"},7619:function(s,n,t){s.exports=t.p+"assets/img/1643361587264.a62b992b.png"},7620:function(s,n,t){s.exports=t.p+"assets/img/1643361932419.46848ce6.png"},9181:function(s,n,t){"use strict";t.r(n);var a=t(5),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_12-容器化-命令-补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-容器化-命令-补充"}},[s._v("#")]),s._v(" 12.容器化-命令-补充")]),s._v(" "),a("p",[s._v("​\t之前有了挂载之后，我们修改东西就方便多了，修改容器只需要修改本机挂载的地址内容就可以了")]),s._v(" "),a("p",[s._v("接下来我们补充几个常用的命令：")]),s._v(" "),a("p",[s._v("​\t比如我们访问了nginx报错了，为什么呢我们需要排查一下错误原因")]),s._v(" "),a("p",[a("img",{attrs:{src:t(7616),alt:"1643360763375"}})]),s._v(" "),a("p",[s._v("就需要查看一些日志情况，使用命令docker logs 容器的id或名称")]),s._v(" "),a("p",[a("img",{attrs:{src:t(7617),alt:"1643360896445"}})]),s._v(" "),a("p",[s._v("​\t因为容器内没有这个路径")]),s._v(" "),a("p",[a("img",{attrs:{src:t(7618),alt:"1643360947990"}})]),s._v(" "),a("p",[s._v("docker exec -it 这个命令是要进入到容器内部")]),s._v(" "),a("p",[s._v("如果我们想把容器内的一些文件拿到服务器中怎么办？"),a("strong",[s._v("不用进入容器就可以直接复制的")])]),s._v(" "),a("p",[s._v("使用docker cp 可以办到")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker cp 容器id：容器路径  服务器路径\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这样就是把容器的配置文件放到了 服务器上的指定路径下了")]),s._v(" "),a("p",[a("img",{attrs:{src:t(7619),alt:"1643361587264"}})]),s._v(" "),a("p",[s._v("特别有意思的是，如果我们反向写，就是把服务器的内容copy到容器中了")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把外面的内容复制到容器里面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v("  /data/conf/nginx.conf  5eff66eec7e1:/etc/nginx/nginx.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[s._v("#")]),s._v(" 补充")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs 容器名/id   排错\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器id /bin/bash\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker 经常修改nginx配置文件--将首页和配置文件都挂载到服务器路径下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /data/html:/usr/share/nginx/html:ro "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /data/conf/nginx.conf:/etc/nginx/nginx.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--name mynginx-02 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nnginx\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把容器指定位置的东西复制出来 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" 5eff66eec7e1:/etc/nginx/nginx.conf  /data/conf/nginx.conf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把外面的内容复制到容器里面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v("  /data/conf/nginx.conf  5eff66eec7e1:/etc/nginx/nginx.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("我们在查看运行的容器的时候，如果看到有失败的，我们将他删除掉")]),s._v(" "),a("p",[s._v("docker rm 容器id")]),s._v(" "),a("p",[a("img",{attrs:{src:t(7620),alt:"1643361932419"}})]),s._v(" "),a("p",[s._v("https://www.bilibili.com/video/BV13Q4y1C7hS?p=18&spm_id_from=pageDriver")])])}),[],!1,null,null,null);n.default=e.exports}}]);