(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{2034:function(t,s,a){t.exports=a.p+"assets/img/1628520699279.c77226e7.png"},2035:function(t,s,a){t.exports=a.p+"assets/img/1628556956518.896eea77.png"},2036:function(t,s,a){t.exports=a.p+"assets/img/1628557085567.72276cc8.png"},2037:function(t,s,a){t.exports=a.p+"assets/img/1628557199984.000f23a5.png"},2038:function(t,s,a){t.exports=a.p+"assets/img/1628557166229.60706161.png"},2039:function(t,s,a){t.exports=a.p+"assets/img/1628562340617.e110f541.png"},2040:function(t,s,a){t.exports=a.p+"assets/img/1628557254264.ebe8a94c.png"},2041:function(t,s,a){t.exports=a.p+"assets/img/1628588607023.e2d9d205.png"},2042:function(t,s,a){t.exports=a.p+"assets/img/1628588655284.fea0b833.png"},2043:function(t,s,a){t.exports=a.p+"assets/img/1628589013098.8d04dc2b.png"},2044:function(t,s,a){t.exports=a.p+"assets/img/1628589082228.e14c7940.png"},2045:function(t,s,a){t.exports=a.p+"assets/img/1628589158278.c1c356b1.png"},2046:function(t,s,a){t.exports=a.p+"assets/img/1628589355717.0591bd7e.png"},2047:function(t,s,a){t.exports=a.p+"assets/img/1628589407412.1e2a2a49.png"},2048:function(t,s,a){t.exports=a.p+"assets/img/1628589611000.e2086e0d.png"},2049:function(t,s,a){t.exports=a.p+"assets/img/1628589869113.cb29eddd.png"},2050:function(t,s,a){t.exports=a.p+"assets/img/1628589908290.0235edbd.png"},2051:function(t,s,a){t.exports=a.p+"assets/img/1628590007504.3b8c0b6f.png"},2052:function(t,s,a){t.exports=a.p+"assets/img/1628590692133.3dfaeb84.png"},2053:function(t,s,a){t.exports=a.p+"assets/img/1628590793562.954ed3e2.png"},2054:function(t,s,a){t.exports=a.p+"assets/img/1628590885491.ad3cd788.png"},2055:function(t,s,a){t.exports=a.p+"assets/img/1628591010647.5cab7e07.png"},2056:function(t,s,a){t.exports=a.p+"assets/img/1628591188572.84d84a9e.png"},2057:function(t,s,a){t.exports=a.p+"assets/img/1628591261514.3157b338.png"},9172:function(t,s,a){"use strict";a.r(s);var p=a(5),r=Object(p.a)({},(function(){var t=this,s=t.$createElement,p=t._self._c||s;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("h1",{attrs:{id:"_5-组件性能优化"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_5-组件性能优化"}},[t._v("#")]),t._v(" 5.组件性能优化")]),t._v(" "),p("h3",{attrs:{id:"_1-减轻state"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_1-减轻state"}},[t._v("#")]),t._v(" 1.减轻state")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2034),alt:"1628520699279"}})]),t._v(" "),p("h3",{attrs:{id:"_2-避免不必要的重新渲染"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_2-避免不必要的重新渲染"}},[t._v("#")]),t._v(" 2.避免不必要的重新渲染")]),t._v(" "),p("p",[t._v("https://www.bilibili.com/video/BV14y4y1g7M4?p=82&spm_id_from=pageDriver")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2035),alt:"1628556956518"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2036),alt:"1628557085567"}})]),t._v(" "),p("p",[t._v("这个钩子函数的俩个参数")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2037),alt:"1628557199984"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2038),alt:"1628557166229"}})]),t._v(" "),p("p",[t._v("如果是用this.state取值的话获取的是旧值--就是更新前的数据值")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2039),alt:"1628562340617"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2040),alt:"1628557254264"}})]),t._v(" "),p("h3",{attrs:{id:"_3-避免不必要的重新渲染2-案例"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-避免不必要的重新渲染2-案例"}},[t._v("#")]),t._v(" 3.避免不必要的重新渲染2-案例")]),t._v(" "),p("p",[t._v("案例生成随机数0-2")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2041),alt:"1628588607023"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2042),alt:"1628588655284"}})]),t._v(" "),p("p",[t._v("我们发现，在重新点击的时候有可能数值是一样的，那么其实就没有必要重新渲染了")]),t._v(" "),p("p",[t._v("我们进行优化")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2043),alt:"1628589013098"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2044),alt:"1628589082228"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2045),alt:"1628589158278"}})]),t._v(" "),p("p",[t._v("可以优化为一行代码")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2046),alt:"1628589355717"}})]),t._v(" "),p("p",[t._v("小结：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2047),alt:"1628589407412"}})]),t._v(" "),p("h3",{attrs:{id:"_3-通过props防止重复渲染"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-通过props防止重复渲染"}},[t._v("#")]),t._v(" 3.通过props防止重复渲染")]),t._v(" "),p("p",[t._v("改造一下代码，新建一个组件")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2048),alt:"1628589611000"}})]),t._v(" "),p("p",[t._v("通过props判断")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2049),alt:"1628589869113"}})]),t._v(" "),p("p",[t._v("没有更新")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2050),alt:"1628589908290"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2051),alt:"1628590007504"}})]),t._v(" "),p("h3",{attrs:{id:"_4-纯组件"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_4-纯组件"}},[t._v("#")]),t._v(" 4.纯组件")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2052),alt:"1628590692133"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2053),alt:"1628590793562"}})]),t._v(" "),p("p",[t._v("比较的结构是true，使用===，因为对象比较的是引用地址，他们的引用地址是一样的")]),t._v(" "),p("p",[t._v("注意这种类型比较的错误情况")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2054),alt:"1628590885491"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(2055),alt:"1628591010647"}})]),t._v(" "),p("p",[t._v("正确的做法是：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2056),alt:"1628591188572"}})]),t._v(" "),p("p",[t._v("...this.state.obj其实就是对象的所有属性，number:** 其实就是修改this.state.obj对象的number的值，然后再setState将新对象赋值给旧的对象")]),t._v(" "),p("p",[p("img",{attrs:{src:a(2057),alt:"1628591261514"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);