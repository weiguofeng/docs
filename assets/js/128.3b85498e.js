(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{3690:function(t,s,i){t.exports=i.p+"assets/img/image-20211228220757839.f399eb94.png"},3691:function(t,s,i){t.exports=i.p+"assets/img/image-20211228220818611.e3465629.png"},3692:function(t,s,i){t.exports=i.p+"assets/img/image-20211228221051231.5b01ed12.png"},3693:function(t,s,i){t.exports=i.p+"assets/img/image-20211228221542075.e5f5e26b.png"},3694:function(t,s,i){t.exports=i.p+"assets/img/image-20211228222158896.f63e48b2.png"},3695:function(t,s,i){t.exports=i.p+"assets/img/image-20211228222824676.f5618410.png"},3696:function(t,s,i){t.exports=i.p+"assets/img/image-20211228222928664.e6872e31.png"},3697:function(t,s,i){t.exports=i.p+"assets/img/image-20211228223144278.2e7c441d.png"},3698:function(t,s,i){t.exports=i.p+"assets/img/image-20211228223234781.3d625120.png"},3699:function(t,s,i){t.exports=i.p+"assets/img/image-20211228223421600.22074e08.png"},3700:function(t,s,i){t.exports=i.p+"assets/img/image-20211228224434889.d7c174dc.png"},3701:function(t,s,i){t.exports=i.p+"assets/img/image-20211228224539323.49cf3b7f.png"},3702:function(t,s,i){t.exports=i.p+"assets/img/image-20211228224814368.1981edf8.png"},3703:function(t,s,i){t.exports=i.p+"assets/img/image-20211228224943720.21b4b991.png"},3704:function(t,s,i){t.exports=i.p+"assets/img/image-20211228225243824.5f04ddc5.png"},3705:function(t,s,i){t.exports=i.p+"assets/img/image-20211228225452592.08c9865c.png"},3706:function(t,s,i){t.exports=i.p+"assets/img/image-20211228225637071.cdd868b0.png"},3707:function(t,s,i){t.exports=i.p+"assets/img/image-20211228225731903.3dfb5de1.png"},3708:function(t,s,i){t.exports=i.p+"assets/img/image-20211228225927814.970bcf99.png"},8529:function(t,s,i){"use strict";i.r(s);var a=i(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_10-git基本操作-如何实现回退"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-git基本操作-如何实现回退"}},[t._v("#")]),t._v(" 10.git基本操作-如何实现回退")]),t._v(" "),a("p",[t._v("​\t我们如何查看git的历史记录呢，可以通过git log命令")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3690),alt:"image-20211228220757839"}})]),t._v(" "),a("p",[t._v("可以查看到历史记录--每次的commit 都会生成一个commit编号这个编号是唯一的")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3691),alt:"image-20211228220818611"}})]),t._v(" "),a("p",[t._v("这样看起来感觉很难受 --我们可以使用一个简单的方式去查看 git log --oneline")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3692),alt:"image-20211228221051231"}})]),t._v(" "),a("p",[t._v("​\t\t看这些历史记录的目的是什么：目的是想回退，我可以回到每个时刻")]),t._v(" "),a("h4",{attrs:{id:"_1、文件的回退-本地和暂存区的回退"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、文件的回退-本地和暂存区的回退"}},[t._v("#")]),t._v(" 1、文件的回退-本地和暂存区的回退")]),t._v(" "),a("p",[t._v("我们使用命令  > file1    将文件内容清空了")]),t._v(" "),a("p",[t._v("然后我们查看下git 状态")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3693),alt:"image-20211228221542075"}})]),t._v(" "),a("p",[t._v("现在我们的本地和暂存区的文件已经不一致了")]),t._v(" "),a("p",[t._v("如果我们想回退---思路是: 我们将暂存区的内容覆盖到本地就可以了")]),t._v(" "),a("p",[t._v("​\t如何回退呢？上面的查看状态告诉我们 use  git add 文件名 可以更新到暂存区 或者是 use git checkout --文件名可以覆盖文件")]),t._v(" "),a("p",[t._v("我们使用git checkout --文件名 进行回退")]),t._v(" "),a("p",[t._v("​\t\t然后我们在看一下git 状态 发现工作空间是干净的，然后查看一下文件发现回退回来了")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3694),alt:"image-20211228222158896"}})]),t._v(" "),a("h4",{attrs:{id:"_2、文件的回退-本地误提交到暂存区想撤销"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、文件的回退-本地误提交到暂存区想撤销"}},[t._v("#")]),t._v(" 2、文件的回退-本地误提交到暂存区想撤销")]),t._v(" "),a("p",[t._v("​\t思路是：本地仓库覆盖暂存区--暂存区覆盖本地目录")]),t._v(" "),a("p",[t._v("演示： file1 再次被清空")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3695),alt:"image-20211228222824676"}})]),t._v(" "),a("p",[t._v("然后git add . 提交到暂存区了")]),t._v(" "),a("p",[t._v("​\t\t会有提示恢复 use git reset HEAD 文件名称")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3696),alt:"image-20211228222928664"}})]),t._v(" "),a("p",[t._v("我们测试一下：撤销")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3697),alt:"image-20211228223144278"}})]),t._v(" "),a("p",[t._v("我们查看一下状态： 发现本地仓库覆盖了暂存区")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3698),alt:"image-20211228223234781"}})]),t._v(" "),a("p",[t._v("然后我们从暂存区再覆盖一下本地文件--就得到恢复了")]),t._v(" "),a("p",[t._v("​\tgit checkout --file1 进行暂存区的回退本地，查看git状态 发现没有提交的内容")]),t._v(" "),a("p",[t._v("​\t查看文件内容发现回退了，文件回退成功")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3699),alt:"image-20211228223421600"}})]),t._v(" "),a("h4",{attrs:{id:"_3、文件回退-如果提交到本地仓库如何回退"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、文件回退-如果提交到本地仓库如何回退"}},[t._v("#")]),t._v(" 3、文件回退-如果提交到本地仓库如何回退")]),t._v(" "),a("p",[t._v("​\t\t如果多次提交到仓库，想回退到某个版本，怎么办？")]),t._v(" "),a("p",[t._v("我们先模拟多次提交：")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3700),alt:"image-20211228224434889"}})]),t._v(" "),a("p",[t._v("​\t这个时候怎么办？我们先看一下git 日志 git log --line")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3701),alt:"image-20211228224539323"}})]),t._v(" "),a("p",[t._v("​\t我们现在就想回到这个 new oldxu 这个版本")]),t._v(" "),a("p",[t._v("我们使用 git reset --hard 版本号")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3702),alt:"image-20211228224814368"}})]),t._v(" "),a("p",[t._v("查看效果： 直接就恢复了")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3703),alt:"image-20211228224943720"}})]),t._v(" "),a("p",[t._v("​\t\t回退完之后发现不对，我还是想要带有oldqiang那个版本")]),t._v(" "),a("p",[t._v("我们还按之前的操作： git log 发现没有 oldqiang这个版本了--这可怎么办-因为是在oldqiang之后的版本了")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3704),alt:"image-20211228225243824"}})]),t._v(" "),a("p",[t._v("我们这次就得使用另外一个命令reflog，这个可以查看到所有的历史记录")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3705),alt:"image-20211228225452592"}})]),t._v(" "),a("p",[t._v("然后我们记住版本号 使用git reset --hard 版本号 进行回退")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3706),alt:"image-20211228225637071"}})]),t._v(" "),a("p",[t._v("然后我们查看一下文件：发现文件回退成功")]),t._v(" "),a("p",[a("img",{attrs:{src:i(3707),alt:"image-20211228225731903"}})]),t._v(" "),a("p",[a("img",{attrs:{src:i(3708),alt:"image-20211228225927814"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);