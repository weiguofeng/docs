(window.webpackJsonp=window.webpackJsonp||[]).push([[671],{6525:function(t,s,a){t.exports=a.p+"assets/img/1650618580052.0f401205.png"},8765:function(t,s,a){"use strict";a.r(s);var e=a(5),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_14-k8s集群搭建-令牌过期了怎么办"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-k8s集群搭建-令牌过期了怎么办"}},[t._v("#")]),t._v(" 14.k8s集群搭建-令牌过期了怎么办？")]),t._v(" "),e("p",[t._v("​\t我们之前说给集群加入节点的命令，是从我们初始化集群master节点时候提示拿过来的，但是这个是有一个有效期的24小时内执行是ok的，那么如果我们之后想加入集群的话就需要另外的操作了--因为令牌过期了。")]),t._v(" "),e("h4",{attrs:{id:"加入node节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加入node节点"}},[t._v("#")]),t._v(" 加入node节点")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("kubeadm "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),t._v(" cluster-endpoint:6443 --token x5g4uy.wpjjdbgra92s25pp "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n\t--discovery-token-ca-cert-hash sha256:6255797916eaee52bf9dda9429db616fcd828436708345a308f4b917d3457a22\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("​\t一旦过期后可以执行这个命令--这个命令只能在master节点运行")]),t._v(" "),e("blockquote",[e("p",[t._v("新令牌")]),t._v(" "),e("p",[t._v("kubeadm token create --print-join-command")])]),t._v(" "),e("p",[t._v("​\t相当于让我们的总部给你创建一个新的令牌")]),t._v(" "),e("p",[e("img",{attrs:{src:a(6525),alt:"1650618580052"}})]),t._v(" "),e("p",[t._v("​\t然后我们把这一段代码复制，在我们的其他机器上直接运行加就可以了")])])}),[],!1,null,null,null);s.default=n.exports}}]);