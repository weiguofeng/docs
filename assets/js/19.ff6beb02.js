(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{3753:function(t,a,s){t.exports=s.p+"assets/img/image-20211229213300355.e0fa01f6.png"},3754:function(t,a,s){t.exports=s.p+"assets/img/image-20211229214130407.10268a18.png"},3755:function(t,a,s){t.exports=s.p+"assets/img/image-20211229214604716.e030da6d.png"},3756:function(t,a,s){t.exports=s.p+"assets/img/image-20211229213745314.8a51ad7e.png"},3757:function(t,a,s){t.exports=s.p+"assets/img/image-20211229213835956.259d5ac3.png"},3758:function(t,a,s){t.exports=s.p+"assets/img/image-20211229214826540.75eb0b59.png"},3759:function(t,a,s){t.exports=s.p+"assets/img/image-20211229215012183.1a10b5f1.png"},3760:function(t,a,s){t.exports=s.p+"assets/img/image-20211229215752929.a75a2325.png"},3761:function(t,a,s){t.exports=s.p+"assets/img/image-20211229215954157.58acd1e0.png"},3762:function(t,a,s){t.exports=s.p+"assets/img/image-20211229220059662.f90f5dc3.png"},3763:function(t,a,s){t.exports=s.p+"assets/img/image-20211229220319303.4e8c98c0.png"},3764:function(t,a,s){t.exports=s.p+"assets/img/image-20211229220620455.9ea562ab.png"},3765:function(t,a,s){t.exports=s.p+"assets/img/image-20211229220724882.aa05a5ff.png"},3766:function(t,a,s){t.exports=s.p+"assets/img/image-20211229220844209.91507e40.png"},3767:function(t,a,s){t.exports=s.p+"assets/img/image-20211229221253776.f9d6c83d.png"},3768:function(t,a,s){t.exports=s.p+"assets/img/image-20211229221715531.f9711a93.png"},3769:function(t,a,s){t.exports=s.p+"assets/img/image-20211229221845565.7da13ba0.png"},3770:function(t,a,s){t.exports=s.p+"assets/img/image-20211229222249282.99cb8fae.png"},3771:function(t,a,s){t.exports=s.p+"assets/img/image-20211229222607089.69f5bb75.png"},3772:function(t,a,s){t.exports=s.p+"assets/img/image-20211229222728046.f01a1679.png"},3773:function(t,a,s){t.exports=s.p+"assets/img/image-20211229222844322.0b40b7cc.png"},3774:function(t,a,s){t.exports=s.p+"assets/img/image-20211229222923436.85960aab.png"},3775:function(t,a,s){t.exports=s.p+"assets/img/image-20211229223138561.a8bffb85.png"},3776:function(t,a,s){t.exports=s.p+"assets/img/image-20211229223340469.73a341c9.png"},3777:function(t,a,s){t.exports=s.p+"assets/img/image-20211229223448287.9d0b1da3.png"},3778:function(t,a,s){t.exports=s.p+"assets/img/image-20211229223841893.0075f115.png"},3779:function(t,a,s){t.exports=s.p+"assets/img/image-20211229223922481.fa1bf142.png"},3780:function(t,a,s){t.exports=s.p+"assets/img/image-20211229224516000.795b7d04.png"},3781:function(t,a,s){t.exports=s.p+"assets/img/image-20211229224822156.45a001cf.png"},3782:function(t,a,s){t.exports=s.p+"assets/img/image-20211229225131011.95b7a057.png"},3783:function(t,a,s){t.exports=s.p+"assets/img/image-20211229225222538.89c9632e.png"},3784:function(t,a,s){t.exports=s.p+"assets/img/image-20211229225338391.8bd63f38.png"},3785:function(t,a,s){t.exports=s.p+"assets/img/image-20211229225522216.c247edac.png"},3786:function(t,a,s){t.exports=s.p+"assets/img/image-20211229225607823.bf6935b0.png"},3787:function(t,a,s){t.exports=s.p+"assets/img/image-20211229225928128.811ac4ba.png"},3788:function(t,a,s){t.exports=s.p+"assets/img/image-20211229230222025.13415927.png"},3789:function(t,a,s){t.exports=s.p+"assets/img/image-20211229230253820.aa73af93.png"},8533:function(t,a,s){"use strict";s.r(a);var i=s(5),e=Object(i.a)({},(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"_15-gitlab安装配置"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_15-gitlab安装配置"}},[t._v("#")]),t._v(" 15.gitLab安装配置")]),t._v(" "),i("p",[t._v("​\t"),i("img",{attrs:{src:s(3753),alt:"image-20211229213300355"}})]),t._v(" "),i("h4",{attrs:{id:"_1、安装gitlab服务所需的依赖包"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装gitlab服务所需的依赖包"}},[t._v("#")]),t._v(" 1、安装gitLab服务所需的依赖包")]),t._v(" "),i("p",[t._v("​\thttps://packages.gitlab.com/gitlab/gitlab-ce")]),t._v(" "),i("p",[t._v("​\t下载需要的包--都是rpm结尾的包下载对应系统cpu的")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3754),alt:"image-20211229214130407"}})]),t._v(" "),i("p",[t._v("​\t我们也可以到清华大学源--下载-因为国内的比较快一些")]),t._v(" "),i("p",[t._v("​\t我们就下载这个ce的12.03的这个版本使用")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3755),alt:"image-20211229214604716"}})]),t._v(" "),i("p",[t._v("​\t我们可以在终端使用rz命令呼出文件夹，找到我们的gitLab的包")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3756),alt:"image-20211229213745314"}})]),t._v(" "),i("p",[t._v("​\t将这俩个包都传入上来--得一个一个传")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3757),alt:"image-20211229213835956"}})]),t._v(" "),i("p",[t._v("​")]),t._v(" "),i("p",[t._v("​\t然后上传完成--可以看到一个是gitLab的安装包一个是汉化包")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3758),alt:"image-20211229214826540"}})]),t._v(" "),i("p",[t._v("​\t安装gitLab的依赖包--官方文档会有提示如何安装依赖")]),t._v(" "),i("p",[t._v("​\t\t这个是依赖包--先安装好避免在装gitLab包的时候报错")]),t._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("yum install -y curl postfix policycoreutils-python openssh-server wget\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br")])]),i("p",[i("img",{attrs:{src:s(3759),alt:"image-20211229215012183"}})]),t._v(" "),i("p",[t._v("​\t依赖包已经安装完成--那么我的gitLab安装包该如何安装")]),t._v(" "),i("h4",{attrs:{id:"_2、安装gitlab"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2、安装gitlab"}},[t._v("#")]),t._v(" 2、安装gitlab")]),t._v(" "),i("p",[t._v("​\t\t使用yum localinstall 包名称")]),t._v(" "),i("p",[t._v("​\t\t为什么使用localinstall 因为他可以自动帮我们解决依赖的问题")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3760),alt:"image-20211229215752929"}})]),t._v(" "),i("p",[t._v("安装完成")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3761),alt:"image-20211229215954157"}})]),t._v(" "),i("p",[t._v("安装完成也会提示：请配置一个url 和修改设置external_url  意思就是让修改一下域名")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3762),alt:"image-20211229220059662"}})]),t._v(" "),i("p",[t._v("​\t配置文件也会给说明： 提示配置文件在/etc/gitlab/gitlab.rb文件")]),t._v(" "),i("p",[t._v("​\tsudo gitlab-ctl reconfigure :提示执行一下这个命令，来启动gitLab")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3763),alt:"image-20211229220319303"}})]),t._v(" "),i("h4",{attrs:{id:"_3、配置gitlab"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置gitlab"}},[t._v("#")]),t._v(" 3、配置gitlab")]),t._v(" "),i("p",[t._v("​\t我们先编辑一下配置文件：")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3764),alt:"image-20211229220620455"}})]),t._v(" "),i("p",[t._v("​\t\t默认路径是gitlab.example.com")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3765),alt:"image-20211229220724882"}})]),t._v(" "),i("p",[t._v("​\t我们改为odlxu.com")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3766),alt:"image-20211229220844209"}})]),t._v(" "),i("h4",{attrs:{id:"_4、配置gitlab的邮箱"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置gitlab的邮箱"}},[t._v("#")]),t._v(" 4、配置gitlab的邮箱")]),t._v(" "),i("p",[t._v("​\t\t邮箱的配置比较多一些--找到Email Settings")]),t._v(" "),i("p",[t._v("​\t\temail_enabled 是否开启邮箱")]),t._v(" "),i("p",[t._v("​\t\temail_from 发件的邮箱--用来发送邮件")]),t._v(" "),i("p",[t._v("​\t\temail_display_name  发的邮件显示的名称--发件人名称")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3767),alt:"image-20211229221253776"}})]),t._v(" "),i("p",[t._v("邮件配置如下：")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3768),alt:"image-20211229221715531"}})]),t._v(" "),i("p",[t._v("还需要配置smtp 邮件服务器")]),t._v(" "),i("p",[t._v("​\t\tsmtp_address ：smtp服务地址")]),t._v(" "),i("p",[t._v("​\t\tprot ：456 端口是456")]),t._v(" "),i("p",[t._v("​\t\tuser_name: 邮箱的用户名称")]),t._v(" "),i("p",[t._v("​\t\tuser_password ：邮箱的用户的密码--这个密码不是真正的密码，是授权码")]),t._v(" "),i("p",[t._v("​\t\tdomain ：域名服务器")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3769),alt:"image-20211229221845565"}})]),t._v(" "),i("p",[t._v("现在我们改好了--还剩密码怎么弄呢？")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3770),alt:"image-20211229222249282"}})]),t._v(" "),i("p",[t._v("我们去QQ邮箱登录生成一下授权码")]),t._v(" "),i("p",[t._v("​\t\t设置--账户-下面")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3771),alt:"image-20211229222607089"}})]),t._v(" "),i("p",[t._v("然后点击生成授权码-这个复制到文本中先因为带有格式")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3772),alt:"image-20211229222728046"}})]),t._v(" "),i("p",[t._v("​")]),t._v(" "),i("p",[t._v("​\t然后配置邮箱密码：")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3773),alt:"image-20211229222844322"}})]),t._v(" "),i("p",[t._v("​\t邮箱的整体配置项：")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3774),alt:"image-20211229222923436"}})]),t._v(" "),i("p",[t._v("gitlab关闭 普罗米修斯--默认是启用的 --关闭监控")]),t._v(" "),i("p",[t._v("​\t\t这俩个服务不关也可以，如果关闭可以节省一些内存的使用")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3775),alt:"image-20211229223138561"}})]),t._v(" "),i("p",[t._v("​\t关闭monitor --关闭这个可能会有问题，先不关也可以")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3776),alt:"image-20211229223340469"}})]),t._v(" "),i("p",[t._v("​\t\t关闭prometheus，这个是关闭主监控程序--因为这个监控启动很消耗内存的")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3777),alt:"image-20211229223448287"}})]),t._v(" "),i("p",[t._v("​\t\t配置完毕！")]),t._v(" "),i("p",[t._v("我们把这个配置down下来")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3778),alt:"image-20211229223841893"}})]),t._v(" "),i("p",[t._v("使用sz 呼出文件夹，然后导出")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3779),alt:"image-20211229223922481"}})]),t._v(" "),i("h4",{attrs:{id:"_5、启动gitlab"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_5、启动gitlab"}},[t._v("#")]),t._v(" 5、启动gitLab")]),t._v(" "),i("p",[t._v("​\t使用gitlab-ctl reconfigure 初始化整个gitlab服务器--初始化可能比较慢需要一些时间")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3780),alt:"image-20211229224516000"}})]),t._v(" "),i("p",[t._v("​\t初始化完成后就可以使用gitlab-ctl start 进行启动")]),t._v(" "),i("p",[t._v("​\t可以通过以下命令进行启动，重启，状态，停止 操作")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3781),alt:"image-20211229224822156"}})]),t._v(" "),i("p",[t._v("​\t启动前还需要做的准备工作就是--因为我们配置了域名，所以我们还需要配置域名解析（如果是真实的域名，那就不需要解析了，在域名网站就解析了）--配置host文件")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3782),alt:"image-20211229225131011"}})]),t._v(" "),i("p",[t._v("​\t\t修改：ip 空格 域名")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3783),alt:"image-20211229225222538"}})]),t._v(" "),i("p",[t._v("​")]),t._v(" "),i("p",[t._v("​\t修改完成后我们先测试一下是否可以ping通域名--没问题，保证网络通畅")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3784),alt:"image-20211229225338391"}})]),t._v(" "),i("p",[t._v("​\t还有步操作就是初始化完成后--我们看一下gitlab的状态")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3785),alt:"image-20211229225522216"}})]),t._v(" "),i("p",[t._v("​\t可以看到启动了很多个进程--但是没有"),i("strong",[t._v("普罗米修斯")]),t._v(" 因为我们把他关闭了")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3786),alt:"image-20211229225607823"}})]),t._v(" "),i("h4",{attrs:{id:"注意-每次修改配置文件gitlab-rb文件都需要recenfigure-重新初始化一下"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#注意-每次修改配置文件gitlab-rb文件都需要recenfigure-重新初始化一下"}},[t._v("#")]),t._v(" 注意：每次修改配置文件gitlab.rb文件都需要recenfigure 重新初始化一下")]),t._v(" "),i("h4",{attrs:{id:"_6、登录gitlab进行设置"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_6、登录gitlab进行设置"}},[t._v("#")]),t._v(" 6、登录gitLab进行设置")]),t._v(" "),i("p",[t._v("我们输入网站请求一下：没问题--初始化的时候也带有启动了")]),t._v(" "),i("p",[t._v("​\t初始进来需要设置密码--这个密码很"),i("strong",[t._v("重要")]),t._v("这个一定要记住，因为这个只给这么配置一次")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3787),alt:"image-20211229225928128"}})]),t._v(" "),i("p",[t._v("​\t设置完密码页面就变了，现在就是登录或者是注册了")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3788),alt:"image-20211229230222025"}})]),t._v(" "),i("p",[t._v("进入到页面---")]),t._v(" "),i("p",[i("img",{attrs:{src:s(3789),alt:"image-20211229230253820"}})]),t._v(" "),i("p",[t._v("​\t至于汉化的问题，后续处理")])])}),[],!1,null,null,null);a.default=e.exports}}]);