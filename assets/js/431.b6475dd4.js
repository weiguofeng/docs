(window.webpackJsonp=window.webpackJsonp||[]).push([[431],{7438:function(t,s,a){t.exports=a.p+"assets/img/1643356842102.65d20aa7.png"},7439:function(t,s,a){t.exports=a.p+"assets/img/1643357419915.8c9a9e84.png"},7440:function(t,s,a){t.exports=a.p+"assets/img/1643357453373.b68d65f3.png"},7441:function(t,s,a){t.exports=a.p+"assets/img/1643357527430.9dc7865e.png"},7442:function(t,s,a){t.exports=a.p+"assets/img/1643357563919.87cea930.png"},7443:function(t,s,a){t.exports=a.p+"assets/img/1643357578988.4cd836ee.png"},8931:function(t,s,a){"use strict";a.r(s);var n=a(5),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_11-容器化-命令-挂载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-容器化-命令-挂载"}},[t._v("#")]),t._v(" 11.容器化-命令-挂载")]),t._v(" "),n("p",[t._v("什么叫挂载数据？")]),t._v(" "),n("p",[t._v("​\t我们以前是想修改镜像里面的内容，还需要进入到镜像的内部，使用docker exec 进入某个镜像后修改内容")]),t._v(" "),n("p",[t._v("​\t每次都需要进入到容器中去修改有些麻烦，我们考虑能不能通过 "),n("strong",[t._v("容器内部的地址和 外部的 服务器路径能够建立好挂载的关系，修改容器外部的内容就相当于修改了容器内部的内容")]),t._v("，这样我们就不需要进入容器内部来修改了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(7438),alt:"1643356842102"}})]),t._v(" "),n("p",[t._v("那么我们需要使用到的是 在配置项中加入 -v 就是挂载的意思")]),t._v(" "),n("p",[t._v("如： -v /data/html(前面的是主机的):/usr/share/nginx/html（这个是容器的路径）")]),t._v(" "),n("p",[t._v("​\t如果后面再加上 ：ro 就是只读 （指容器内部不可修改） rw就是读写")]),t._v(" "),n("p",[n("img",{attrs:{src:a(7439),alt:"1643357419915"}})]),t._v(" "),n("p",[t._v("我们现在访问一下403了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(7440),alt:"1643357453373"}})]),t._v(" "),n("p",[t._v("因为在挂载的路径下是空的目录--所以就403了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(7441),alt:"1643357527430"}})]),t._v(" "),n("p",[t._v("我们设置一个页面")]),t._v(" "),n("p",[n("img",{attrs:{src:a(7442),alt:"1643357563919"}})]),t._v(" "),n("p",[t._v("然后再次请求，就可以请求的到了")]),t._v(" "),n("p",[n("img",{attrs:{src:a(7443),alt:"1643357578988"}})]),t._v(" "),n("p",[t._v("​\t\t"),n("strong",[t._v("挂载需要注意的点是：如果你挂载了服务的配置文件等，一定要保证挂载的内容是存在的否则是会报错发生问题的。。")])]),t._v(" "),n("h3",{attrs:{id:"_2、挂载数据到外部修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、挂载数据到外部修改"}},[t._v("#")]),t._v(" 2、挂载数据到外部修改")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run --name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mynginx   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-d  --restart"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("always "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-p  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":80 -v /data/html:/usr/share/nginx/html:ro  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\nnginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改页面只需要去 主机的 /data/html")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("h2",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])])])}),[],!1,null,null,null);s.default=r.exports}}]);