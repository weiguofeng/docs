(window.webpackJsonp=window.webpackJsonp||[]).push([[427],{6724:function(t,s,e){t.exports=e.p+"assets/img/1651038477110.74ae3afe.png"},6725:function(t,s,e){t.exports=e.p+"assets/img/1651038520800.9ffc5ca7.png"},6726:function(t,s,e){t.exports=e.p+"assets/img/1651038596161.cec2add6.png"},6727:function(t,s,e){t.exports=e.p+"assets/img/1651038730385.08c4ef4e.png"},6728:function(t,s,e){t.exports=e.p+"assets/img/1651038833849.6835a716.png"},6729:function(t,s,e){t.exports=e.p+"assets/img/1651038946265.b86989a6.png"},8873:function(t,s,e){"use strict";e.r(s);var r=e(5),a=Object(r.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"_30-k8s核心实战-服务网络-测试service的服务发现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_30-k8s核心实战-服务网络-测试service的服务发现"}},[t._v("#")]),t._v(" 30.k8s核心实战-服务网络-测试Service的服务发现")]),t._v(" "),r("p",[t._v("​\t\t之前我们使用Service将一组Pod统一对外暴露一个IP和端口，以后我们只需要访问Service所在的IP和端口就可以负载均衡的访问这组Pod，并且具有服务发现的能力")]),t._v(" "),r("h4",{attrs:{id:"服务发现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#服务发现"}},[t._v("#")]),t._v(" 服务发现")]),t._v(" "),r("p",[t._v("​\t\t例如：我们之前部署的my-dep有3个Nginx的Pod")]),t._v(" "),r("p",[r("img",{attrs:{src:e(6724),alt:"1651038477110"}})]),t._v(" "),r("p",[t._v("​\t我们现在扩缩容一下，缩放到2个副本")]),t._v(" "),r("p",[r("img",{attrs:{src:e(6725),alt:"1651038520800"}})]),t._v(" "),r("p",[t._v("​\t我们可以看到最终会有一个Pod进行下线")]),t._v(" "),r("p",[r("img",{attrs:{src:e(6726),alt:"1651038596161"}})]),t._v(" "),r("p",[t._v("​\t我们现在查看一下service简称svc，然后请求一下service地址和端口，我们看一下，我们发现现在无论我们发送多少请求都不会出现2222了，因为这个Pod已经下线")]),t._v(" "),r("p",[r("img",{attrs:{src:e(6727),alt:"1651038730385"}})]),t._v(" "),r("p",[t._v("如果我们再进行一个缩扩容，扩容为3个副本")]),t._v(" "),r("p",[r("img",{attrs:{src:e(6728),alt:"1651038833849"}})]),t._v(" "),r("p",[t._v("我们测试请求发现会自动的发现新副本Pod")]),t._v(" "),r("p",[r("img",{attrs:{src:e(6729),alt:"1651038946265"}})]),t._v(" "),r("p",[t._v("​\t所以说无论这个应用是上线还是下线，他们Pod都会自动加入到Service中来，这就是我们测试的Service服务发现机制。")])])}),[],!1,null,null,null);s.default=a.exports}}]);