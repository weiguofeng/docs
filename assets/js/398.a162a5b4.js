(window.webpackJsonp=window.webpackJsonp||[]).push([[398],{6284:function(t,p,s){t.exports=s.p+"assets/img/1657592112468.f6d064ee.png"},6285:function(t,p,s){t.exports=s.p+"assets/img/1657592483284.3bc91b60.png"},6286:function(t,p,s){t.exports=s.p+"assets/img/1657592576863.07b58df0.png"},6287:function(t,p,s){t.exports=s.p+"assets/img/1657593458523.0cf2a802.png"},6288:function(t,p,s){t.exports=s.p+"assets/img/1657593695149.3fcad69d.png"},6289:function(t,p,s){t.exports=s.p+"assets/img/1657594470086.7f6e8fb3.png"},6290:function(t,p,s){t.exports=s.p+"assets/img/1657594559679.ce4326ba.png"},8858:function(t,p,s){"use strict";s.r(p);var e=s(5),a=Object(e.a)({},(function(){var t=this,p=t.$createElement,e=t._self._c||p;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_16-devops-可视化pipeline-第五步-部署内存不足等问题解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-devops-可视化pipeline-第五步-部署内存不足等问题解决"}},[t._v("#")]),t._v(" 16.devops-可视化Pipeline-第五步-部署内存不足等问题解决")]),t._v(" "),e("p",[t._v("​\t\t我们的有些部署是失败的---这里有个人工卡点--可以接受和终止")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6284),alt:"1657592112468"}})]),t._v(" "),e("p",[t._v("​\t\t我们现在重新运行一下流水线")]),t._v(" "),e("p",[t._v("​\t\t我们也可以使用kubectl get pod - A|grep maven   我们查看所有的关于maven的pod")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6285),alt:"1657592483284"}})]),t._v(" "),e("p",[t._v("​\t\t我们还可以使用 kubectl describe pod -n 名称空间 Pod名称，这个就可以看pod的详情")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6286),alt:"1657592576863"}})]),t._v(" "),e("p",[t._v("​\tpod的详情---我们可以看到这个Pod怎么了，我们看到这个Pod提示我们FailedScheduling 是调度不过来了")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6287),alt:"1657593458523"}})]),t._v(" "),e("p",[t._v("​\t\t\t调度不过来的原因是这三个节点，有一个节点是taint 污点就是master节点不能用，剩余的2个节点提醒内存不够用了")]),t._v(" "),e("p",[t._v("​\t\t\t实际我们的内存是够用的")]),t._v(" "),e("p",[t._v("​\t\t\t我们使用kubectl  top nodes，我们可以看到MEMORY的内存并没有满")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6288),alt:"1657593695149"}})]),t._v(" "),e("p",[t._v("​\t\t那么一旦出现这种情况怎么办呢？我们就需要把这个流水线 停掉，然后多启动几次，或者是我们把机器的内存再往大扩一点")]),t._v(" "),e("p",[t._v("​\t\t我们现在重启流水线，查看应用的日志，我们发现日志打印的很少，因为在我们的项目中logback-spring.xml中的配置日志在dev开发环境中打印是全面的，而在pro生产环境打印是比较少的")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6289),alt:"1657594470086"}})]),t._v(" "),e("p",[t._v("​\t在项目中生成环境配的是pro而我们现在使用的生产环境配置是prod，我们将改为prod，将所有的微服务生产环境日志的打印都改为prod")]),t._v(" "),e("p",[e("img",{attrs:{src:s(6290),alt:"1657594559679"}})]),t._v(" "),e("p",[t._v("https://www.bilibili.com/video/BV13Q4y1C7hS?p=121&spm_id_from=pageDriver&vd_source=243ad3a9b323313aa1441e5dd414a4ef")]),t._v(" "),e("p",[t._v("https://www.bilibili.com/video/BV13Q4y1C7hS?p=121&spm_id_from=pageDriver&vd_source=243ad3a9b323313aa1441e5dd414a4ef")])])}),[],!1,null,null,null);p.default=a.exports}}]);