(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{3062:function(t,s,a){t.exports=a.p+"assets/img/1628520699279.c77226e7.png"},3063:function(t,s,a){t.exports=a.p+"assets/img/1628556956518.896eea77.png"},3064:function(t,s,a){t.exports=a.p+"assets/img/1628557085567.72276cc8.png"},3065:function(t,s,a){t.exports=a.p+"assets/img/1628557199984.000f23a5.png"},3066:function(t,s,a){t.exports=a.p+"assets/img/1628557166229.60706161.png"},3067:function(t,s,a){t.exports=a.p+"assets/img/1628562340617.e110f541.png"},3068:function(t,s,a){t.exports=a.p+"assets/img/1628557254264.ebe8a94c.png"},3069:function(t,s,a){t.exports=a.p+"assets/img/1628588607023.e2d9d205.png"},3070:function(t,s,a){t.exports=a.p+"assets/img/1628588655284.fea0b833.png"},3071:function(t,s,a){t.exports=a.p+"assets/img/1628589013098.8d04dc2b.png"},3072:function(t,s,a){t.exports=a.p+"assets/img/1628589082228.e14c7940.png"},3073:function(t,s,a){t.exports=a.p+"assets/img/1628589158278.c1c356b1.png"},3074:function(t,s,a){t.exports=a.p+"assets/img/1628589355717.0591bd7e.png"},3075:function(t,s,a){t.exports=a.p+"assets/img/1628589407412.1e2a2a49.png"},3076:function(t,s,a){t.exports=a.p+"assets/img/1628589611000.e2086e0d.png"},3077:function(t,s,a){t.exports=a.p+"assets/img/1628589869113.cb29eddd.png"},3078:function(t,s,a){t.exports=a.p+"assets/img/1628589908290.0235edbd.png"},3079:function(t,s,a){t.exports=a.p+"assets/img/1628590007504.3b8c0b6f.png"},3080:function(t,s,a){t.exports=a.p+"assets/img/1628590692133.3dfaeb84.png"},3081:function(t,s,a){t.exports=a.p+"assets/img/1628590793562.954ed3e2.png"},3082:function(t,s,a){t.exports=a.p+"assets/img/1628590885491.ad3cd788.png"},3083:function(t,s,a){t.exports=a.p+"assets/img/1628591010647.5cab7e07.png"},3084:function(t,s,a){t.exports=a.p+"assets/img/1628591188572.84d84a9e.png"},3085:function(t,s,a){t.exports=a.p+"assets/img/1628591261514.3157b338.png"},8455:function(t,s,a){"use strict";a.r(s);var p=a(5),r=Object(p.a)({},(function(){var t=this,s=t.$createElement,p=t._self._c||s;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("h1",{attrs:{id:"_5-组件性能优化"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_5-组件性能优化"}},[t._v("#")]),t._v(" 5.组件性能优化")]),t._v(" "),p("h3",{attrs:{id:"_1-减轻state"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_1-减轻state"}},[t._v("#")]),t._v(" 1.减轻state")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3062),alt:"1628520699279"}})]),t._v(" "),p("h3",{attrs:{id:"_2-避免不必要的重新渲染"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_2-避免不必要的重新渲染"}},[t._v("#")]),t._v(" 2.避免不必要的重新渲染")]),t._v(" "),p("p",[t._v("https://www.bilibili.com/video/BV14y4y1g7M4?p=82&spm_id_from=pageDriver")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3063),alt:"1628556956518"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3064),alt:"1628557085567"}})]),t._v(" "),p("p",[t._v("这个钩子函数的俩个参数")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3065),alt:"1628557199984"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3066),alt:"1628557166229"}})]),t._v(" "),p("p",[t._v("如果是用this.state取值的话获取的是旧值--就是更新前的数据值")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3067),alt:"1628562340617"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3068),alt:"1628557254264"}})]),t._v(" "),p("h3",{attrs:{id:"_3-避免不必要的重新渲染2-案例"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-避免不必要的重新渲染2-案例"}},[t._v("#")]),t._v(" 3.避免不必要的重新渲染2-案例")]),t._v(" "),p("p",[t._v("案例生成随机数0-2")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3069),alt:"1628588607023"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3070),alt:"1628588655284"}})]),t._v(" "),p("p",[t._v("我们发现，在重新点击的时候有可能数值是一样的，那么其实就没有必要重新渲染了")]),t._v(" "),p("p",[t._v("我们进行优化")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3071),alt:"1628589013098"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3072),alt:"1628589082228"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3073),alt:"1628589158278"}})]),t._v(" "),p("p",[t._v("可以优化为一行代码")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3074),alt:"1628589355717"}})]),t._v(" "),p("p",[t._v("小结：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3075),alt:"1628589407412"}})]),t._v(" "),p("h3",{attrs:{id:"_3-通过props防止重复渲染"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_3-通过props防止重复渲染"}},[t._v("#")]),t._v(" 3.通过props防止重复渲染")]),t._v(" "),p("p",[t._v("改造一下代码，新建一个组件")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3076),alt:"1628589611000"}})]),t._v(" "),p("p",[t._v("通过props判断")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3077),alt:"1628589869113"}})]),t._v(" "),p("p",[t._v("没有更新")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3078),alt:"1628589908290"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3079),alt:"1628590007504"}})]),t._v(" "),p("h3",{attrs:{id:"_4-纯组件"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#_4-纯组件"}},[t._v("#")]),t._v(" 4.纯组件")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3080),alt:"1628590692133"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3081),alt:"1628590793562"}})]),t._v(" "),p("p",[t._v("比较的结构是true，使用===，因为对象比较的是引用地址，他们的引用地址是一样的")]),t._v(" "),p("p",[t._v("注意这种类型比较的错误情况")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3082),alt:"1628590885491"}})]),t._v(" "),p("p",[p("img",{attrs:{src:a(3083),alt:"1628591010647"}})]),t._v(" "),p("p",[t._v("正确的做法是：")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3084),alt:"1628591188572"}})]),t._v(" "),p("p",[t._v("...this.state.obj其实就是对象的所有属性，number:** 其实就是修改this.state.obj对象的number的值，然后再setState将新对象赋值给旧的对象")]),t._v(" "),p("p",[p("img",{attrs:{src:a(3085),alt:"1628591261514"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);