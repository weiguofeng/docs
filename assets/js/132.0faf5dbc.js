(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{3404:function(t,s,a){t.exports=a.p+"assets/img/image-20220112000711886.f6e7f9c3.png"},3405:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001027917.1b4ff539.png"},3406:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001154218.64de122f.png"},3407:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001332635.ddb77382.png"},3408:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001445344.b64482b8.png"},3409:function(t,s,a){t.exports=a.p+"assets/img/image-20220112001705671.f3d7d66e.png"},3410:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002010255.50739a66.png"},3411:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002235553.0c7dc4ed.png"},3412:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002504770.7d68967b.png"},3413:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002531849.4a7bcd44.png"},3414:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002640836.85b21819.png"},3415:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002653295.75080577.png"},3416:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002808987.0a4467d2.png"},3417:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002842014.12f0f430.png"},3418:function(t,s,a){t.exports=a.p+"assets/img/image-20220112002946415.8fb02c47.png"},3419:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003111502.61588cf7.png"},3420:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003224422.42d95960.png"},3421:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003442162.9d4da09d.png"},3422:function(t,s,a){t.exports=a.p+"assets/img/image-20220112003619077.ac5a094c.png"},8725:function(t,s,a){"use strict";a.r(s);var e=a(5),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_16-sonar-qube检测html代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-sonar-qube检测html代码"}},[t._v("#")]),t._v(" 16.sonar-qube检测html代码")]),t._v(" "),e("p",[t._v("​\t"),e("img",{attrs:{src:a(3404),alt:"image-20220112000711886"}})]),t._v(" "),e("p",[t._v("​\t那么安装sonar-scanner需要在哪里安装呢--需要在我们的jenkins服务端安装")]),t._v(" "),e("p",[t._v("我们把这个包推送到120这个jenkins服务器上")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3405),alt:"image-20220112001027917"}})]),t._v(" "),e("p",[t._v("​\t然后我们在jenkins服务器上解压缩到usr/local文件夹下")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3406),alt:"image-20220112001154218"}})]),t._v(" "),e("p",[t._v("​\t然后进入usr/local给他做个软连接--因为名字太长了")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3407),alt:"image-20220112001332635"}})]),t._v(" "),e("p",[t._v("​\t我们需要给sonar-scanner客户端工具指定sonar的服务端，设置配置文件")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3408),alt:"image-20220112001445344"}})]),t._v(" "),e("p",[t._v("​\t配置服务端地址--配置login的token--配置字符集utf8")]),t._v(" "),e("p",[t._v("​\t要使用这个token的话-服务端得开启token认证，默认sonar服务端是没有开启token认证的")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3409),alt:"image-20220112001705671"}})]),t._v(" "),e("p",[t._v("​\t我们登录sonar-在配置下的权限中开启token认证，如果不开启那么就是谁都可以使用扫描也是可以的")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3410),alt:"image-20220112002010255"}})]),t._v(" "),e("p",[t._v("我们开启一下扫描html--在sonar-scanner的绝对路径下执行命令")]),t._v(" "),e("p",[t._v("​\tprojectKey=html 是扫描html代码")]),t._v(" "),e("p",[t._v("​\tsources=.是扫描当前文件夹")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3411),alt:"image-20220112002235553"}})]),t._v(" "),e("p",[t._v("我们进入到jenkins的工作目录下的monitor项目下")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3412),alt:"image-20220112002504770"}})]),t._v(" "),e("p",[t._v("执行命令")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3413),alt:"image-20220112002531849"}})]),t._v(" "),e("p",[t._v("报错了--让在命令中加一个 -X进入调试模式")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3414),alt:"image-20220112002640836"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(3415),alt:"image-20220112002653295"}})]),t._v(" "),e("p",[t._v("我们看到这个sonar的服务地址找不到--原因是host没有设置域名解析")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3416),alt:"image-20220112002808987"}})]),t._v(" "),e("p",[t._v("​\t设置映射域名")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3417),alt:"image-20220112002842014"}})]),t._v(" "),e("p",[t._v("​\t再次执行扫描：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3418),alt:"image-20220112002946415"}})]),t._v(" "),e("p",[t._v("​\t扫描完成--成功执行完扫描")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3419),alt:"image-20220112003111502"}})]),t._v(" "),e("p",[t._v("可以看到扫描结果：")]),t._v(" "),e("p",[t._v("​\t464和bug，2个漏洞，172个坏味道-是不规范的代码，重复的代码24%")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3420),alt:"image-20220112003224422"}})]),t._v(" "),e("p",[t._v("​\t点击进入可以看到具体的问题")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3421),alt:"image-20220112003442162"}})]),t._v(" "),e("p",[t._v("​\t然后进入查看问题--里面会给出使用规范实例")]),t._v(" "),e("p",[e("img",{attrs:{src:a(3422),alt:"image-20220112003619077"}})])])}),[],!1,null,null,null);s.default=i.exports}}]);