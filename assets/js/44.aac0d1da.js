(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{7782:function(t,s,p){t.exports=p.p+"assets/img/1655219800605.d30a28fd.png"},7783:function(t,s,p){t.exports=p.p+"assets/img/1655219839351.145ea2fc.png"},7784:function(t,s,p){t.exports=p.p+"assets/img/1655219869949.4dd7bcf8.png"},7785:function(t,s,p){t.exports=p.p+"assets/img/1655219938572.a17dd2b5.png"},7786:function(t,s,p){t.exports=p.p+"assets/img/1655220029139.2c8a7539.png"},7787:function(t,s,p){t.exports=p.p+"assets/img/1655220054639.23e4b4c0.png"},7788:function(t,s,p){t.exports=p.p+"assets/img/1655220113703.5629db01.png"},7789:function(t,s,p){t.exports=p.p+"assets/img/1655220163260.faf64b9d.png"},7790:function(t,s,p){t.exports=p.p+"assets/img/1655220180951.6c85f3df.png"},7791:function(t,s,p){t.exports=p.p+"assets/img/1655220232299.f2eaeedb.png"},7792:function(t,s,p){t.exports=p.p+"assets/img/1655220259365.9b7f2f03.png"},7793:function(t,s,p){t.exports=p.p+"assets/img/1655220285323.922ead62.png"},7794:function(t,s,p){t.exports=p.p+"assets/img/1655220351715.4abad31e.png"},7795:function(t,s,p){t.exports=p.p+"assets/img/1655220413864.f8c85389.png"},7796:function(t,s,p){t.exports=p.p+"assets/img/1655220439432.ffc5e9ea.png"},7797:function(t,s,p){t.exports=p.p+"assets/img/1655220470942.8ce6b530.png"},7798:function(t,s,p){t.exports=p.p+"assets/img/1655220644407.798328b0.png"},7799:function(t,s,p){t.exports=p.p+"assets/img/1655220696203.6db8dc37.png"},7800:function(t,s,p){t.exports=p.p+"assets/img/1655220721682.c93a418a.png"},7801:function(t,s,p){t.exports=p.p+"assets/img/1655220802628.25595dd1.png"},7802:function(t,s,p){t.exports=p.p+"assets/img/1655220898225.fbe085b6.png"},7803:function(t,s,p){t.exports=p.p+"assets/img/1655220929332.4e9be3de.png"},7804:function(t,s,p){t.exports=p.p+"assets/img/1655220971523.ce60a713.png"},7805:function(t,s,p){t.exports=p.p+"assets/img/1655220984409.e01a3323.png"},7806:function(t,s,p){t.exports=p.p+"assets/img/1655221102119.f1052227.png"},7807:function(t,s,p){t.exports=p.p+"assets/img/1655221185426.268a142f.png"},7808:function(t,s,p){t.exports=p.p+"assets/img/1655221229735.2b7e3daa.png"},7809:function(t,s,p){t.exports=p.p+"assets/img/1655221272688.8d12167f.png"},7810:function(t,s,p){t.exports=p.p+"assets/img/1655221371304.7432bb51.png"},7811:function(t,s,p){t.exports=p.p+"assets/img/1655221493356.c27e06c5.png"},9641:function(t,s,p){"use strict";p.r(s);var a=p(5),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_25-kubernetes应用部署实战-ruoyi-cloud-上云部署-nacos上云高可用模式部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_25-kubernetes应用部署实战-ruoyi-cloud-上云部署-nacos上云高可用模式部署"}},[t._v("#")]),t._v(" 25.kubernetes应用部署实战-ruoyi-cloud-上云部署-nacos上云高可用模式部署")]),t._v(" "),a("p",[t._v("​\t\t我们把之前部署的Nacos删除掉，我们现在真正部署一个上云的Nacos")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7782),alt:"1655219800605"}})]),t._v(" "),a("p",[t._v("​\t我们先创建配置")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7783),alt:"1655219839351"}})]),t._v(" "),a("p",[t._v("​\t配置基本信息")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7784),alt:"1655219869949"}})]),t._v(" "),a("p",[t._v("​\t先配置Application.properties")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7785),alt:"1655219938572"}})]),t._v(" "),a("p",[t._v("​\t第二个配置cluster.conf")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7786),alt:"1655220029139"}})]),t._v(" "),a("p",[t._v("​\t将内容copy进去")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7787),alt:"1655220054639"}})]),t._v(" "),a("p",[t._v("​\t创建好了配置")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7788),alt:"1655220113703"}})]),t._v(" "),a("h4",{attrs:{id:"部署nacos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署nacos"}},[t._v("#")]),t._v(" 部署Nacos")]),t._v(" "),a("p",[t._v("​\t用服务进入部署")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7789),alt:"1655220163260"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(7790),alt:"1655220180951"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(7791),alt:"1655220232299"}})]),t._v(" "),a("p",[t._v("设置端口--同步时区")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7792),alt:"1655220259365"}})]),t._v(" "),a("p",[t._v("点击挂载配置文件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7793),alt:"1655220285323"}})]),t._v(" "),a("p",[t._v("​\t每个key都会生成文件名称，然后挂载到容器")]),t._v(" "),a("p",[t._v("​\t"),a("img",{attrs:{src:p(7794),alt:"1655220351715"}})]),t._v(" "),a("p",[t._v("​\t忘了选择配置文件了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7795),alt:"1655220413864"}})]),t._v(" "),a("p",[t._v("​\t然后创建")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7796),alt:"1655220439432"}})]),t._v(" "),a("p",[t._v("​\t创建了三个副本")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7797),alt:"1655220470942"}})]),t._v(" "),a("p",[t._v("​\t\t启动发现日志中报错，我们的挂载不应该是这样挂载，因为还有其他的配置文件，我们应该指定子路径文件的方式挂载")]),t._v(" "),a("p",[t._v("​\t\t编辑配置模板")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7798),alt:"1655220644407"}})]),t._v(" "),a("p",[t._v("​\t子路径挂载")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7799),alt:"1655220696203"}})]),t._v(" "),a("p",[t._v("​\t选择特定路径")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7800),alt:"1655220721682"}})]),t._v(" "),a("p",[t._v("第二个文件")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7801),alt:"1655220802628"}})]),t._v(" "),a("p",[t._v("​\t我们现在暴露一个集群外的访问服务，测试一下能不能使用")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7802),alt:"1655220898225"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(7803),alt:"1655220929332"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(7804),alt:"1655220971523"}})]),t._v(" "),a("p",[a("img",{attrs:{src:p(7805),alt:"1655220984409"}})]),t._v(" "),a("p",[t._v("​\t注意数据库的配置")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7806),alt:"1655221102119"}})]),t._v(" "),a("p",[t._v("​\tNacos的容器启动没有问题了")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7807),alt:"1655221185426"}})]),t._v(" "),a("p",[t._v("​\t测试连接：没有问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7808),alt:"1655221229735"}})]),t._v(" "),a("p",[t._v("​\t登录进来后我们以前的数据库数据也都存在")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7809),alt:"1655221272688"}})]),t._v(" "),a("p",[t._v("注意：我们连接成功了虽然，但是数据库刚刚其实配置的还是有问题的，因为没有配端口号")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7810),alt:"1655221371304"}})]),t._v(" "),a("p",[t._v("我们重启副本后检查一下配置，没有问题")]),t._v(" "),a("p",[a("img",{attrs:{src:p(7811),alt:"1655221493356"}})]),t._v(" "),a("p",[t._v("https://www.bilibili.com/video/BV13Q4y1C7hS?p=93&spm_id_from=pageDriver")])])}),[],!1,null,null,null);s.default=r.exports}}]);